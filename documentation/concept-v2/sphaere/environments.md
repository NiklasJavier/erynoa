# â–£ SPHÃ„RE â€“ Environments

> **Schicht:** 3 â€“ RÃ¤ume
> **SphÃ¤re:** ERY (Semantic-Modul)
> **Kernfrage:** _â€In welchem Kontext?"_

---

## Konzept

**Environments** sind abgegrenzte Kontextblasen, in denen spezifische Regeln, Standards und Governance gelten. Sie definieren die "Spielfelder" fÃ¼r Agenten-Interaktionen.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ENVIRONMENTS = ABGEGRENZTE REGELRÃ„UME                                    â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ğŸŒ Global Environment (Basis-Protokoll)                          â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                          â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                 â”‚   â”‚                 â”‚   â”‚                 â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   ğŸ‡©ğŸ‡ª DE Domain  â”‚   â”‚   ğŸ‡«ğŸ‡· FR Domain  â”‚   â”‚   ğŸ‡ªğŸ‡º EU Domain  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   EV-Charging   â”‚   â”‚   EV-Charging   â”‚   â”‚   Energy Tradingâ”‚  â”‚  â”‚
â”‚   â”‚   â”‚                 â”‚   â”‚                 â”‚   â”‚                 â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   + Eichrecht   â”‚   â”‚   + AFIR        â”‚   â”‚   + MiFID II    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   + PTB         â”‚   â”‚   + French NF   â”‚   â”‚   + REMIT       â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                 â”‚   â”‚                 â”‚   â”‚                 â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   Jedes Environment hat eigene Blueprints, Standards, Governance   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Environment-Typen

| Typ         | Scope             | Beispiel                    | Governance      |
| ----------- | ----------------- | --------------------------- | --------------- |
| **Domain**  | Branche/Industrie | `env:domain:ev-charging-de` | Branchenverband |
| **Geo**     | Geographisch      | `env:geo:europe`            | Regulatoren     |
| **Private** | Unternehmen       | `env:private:swm`           | EigentÃ¼mer      |
| **Testnet** | Entwicklung       | `env:test:dev-staging`      | Entwickler      |

---

## Environment-Struktur

```yaml
environment "ev-charging-de" {
  id:   "did:erynoa:env:domain:ev-charging-de"
  name: "EV Charging Germany"
  type: domain

  # Governance
  governance: {
    owner:     @identity("did:erynoa:org:bdew")  # Bundesverband
    council:   @ref("did:erynoa:gov:ev-de-council")
    proposals: @ref("did:erynoa:gov:ev-de-proposals")
  }

  # Geltende Standards
  standards: [
    @ref("did:erynoa:standard:ocpp:2.0.1"),
    @ref("did:erynoa:standard:eichrecht:ptb"),
    @ref("did:erynoa:standard:iso:15118")
  ]

  # Erforderliche Blueprints
  required_blueprints: [
    @ref("did:erynoa:blueprint:ev-charging-station-de:*")
  ]

  # Trust-Anforderungen
  trust_requirements: {
    min_operator_trust:  0.7
    min_provider_trust:  0.6
  }

  # Mitgliedschaft
  membership: {
    type:         "open"  # oder "invite", "approval"
    kyc_required: true
    blueprint:    @ref("did:erynoa:blueprint:operator-credential-de:*")
  }
}
```

---

## Environment-Hierarchie

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ENVIRONMENT NESTING                                                      â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   env:global (Erynoa Protocol)                                     â”‚  â”‚
â”‚   â”‚   â•‘                                                                 â”‚  â”‚
â”‚   â”‚   â• â•â• env:geo:europe                                               â”‚  â”‚
â”‚   â”‚   â•‘   â•‘                                                             â”‚  â”‚
â”‚   â”‚   â•‘   â• â•â• env:domain:ev-charging-eu                                â”‚  â”‚
â”‚   â”‚   â•‘   â•‘   â•‘                                                         â”‚  â”‚
â”‚   â”‚   â•‘   â•‘   â• â•â• env:domain:ev-charging-de (+ Eichrecht)              â”‚  â”‚
â”‚   â”‚   â•‘   â•‘   â• â•â• env:domain:ev-charging-fr (+ AFIR-FR)                â”‚  â”‚
â”‚   â”‚   â•‘   â•‘   â””â•â• env:domain:ev-charging-nl                            â”‚  â”‚
â”‚   â”‚   â•‘   â•‘                                                             â”‚  â”‚
â”‚   â”‚   â•‘   â””â•â• env:domain:energy-trading-eu                             â”‚  â”‚
â”‚   â”‚   â•‘                                                                 â”‚  â”‚
â”‚   â”‚   â• â•â• env:geo:north-america                                        â”‚  â”‚
â”‚   â”‚   â•‘   â””â•â• ...                                                       â”‚  â”‚
â”‚   â”‚   â•‘                                                                 â”‚  â”‚
â”‚   â”‚   â””â•â• env:private:swm (Stadtwerke MÃ¼nchen)                         â”‚  â”‚
â”‚   â”‚       â””â•â• env:private:swm-internal-fleet                           â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   Regeln vererben sich nach unten, kÃ¶nnen aber Ã¼berschrieben werden.       â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Environment-Beitritt

```yaml
environment join {
  environment: @ref("did:erynoa:env:domain:ev-charging-de")

  # Antragsteller
  applicant: @identity("did:erynoa:org:new-operator")

  # Erforderliche Credentials
  credentials: [
    @ref("did:erynoa:credential:kyc-verified"),
    @ref("did:erynoa:credential:operator-license-de")
  ]

  # Wird geprÃ¼ft gegen Environment-Membership-Regeln
}
```

---

## Cross-Environment Operationen

Agenten kÃ¶nnen in mehreren Environments aktiv sein:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   MULTI-ENVIRONMENT AGENT                                                  â”‚
â”‚                                                                             â”‚
â”‚   did:erynoa:agent:provider:swm                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   Aktiv in:                                                       â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚    â”‚
â”‚   â”‚   â”‚ ev-charging-de  â”‚   â”‚ energy-trading  â”‚                      â”‚    â”‚
â”‚   â”‚   â”‚                 â”‚   â”‚                 â”‚                      â”‚    â”‚
â”‚   â”‚   â”‚ Trust: 0.92     â”‚   â”‚ Trust: 0.78     â”‚ â† Separate Trusts   â”‚    â”‚
â”‚   â”‚   â”‚ Role: Provider  â”‚   â”‚ Role: Trader    â”‚                      â”‚    â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚   Trust ist Environment-spezifisch!                                        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## WeiterfÃ¼hrende Dokumente

- [governance.md](./governance.md) â€“ Regelwerke
- [discovery.md](./discovery.md) â€“ Objekt-Suche
- [constraints.md](./constraints.md) â€“ EinschrÃ¤nkungen
