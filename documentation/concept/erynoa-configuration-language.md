# Erynoa â€“ Erynoa Configuration Language (ECL)

> **Dokumenttyp:** Sprachspezifikation
> **Version:** 2.1 â€“ Identity-First Architecture + ECLVM
> **Status:** Draft
> **Zielgruppe:** Protokollentwickler:innen, Agenten-Autor:innen, Domain-Architekt:innen
> **Lesezeit:** ca. 55 Minuten
> **Verwandte Dokumente:** [Agents & ADL](./agents-and-adl.md) Â· [Search Environments](./search-environments.md) Â· [Liquides Datenmodell](./liquides-datenmodell.md) Â· [Trust & Reputation](./trust-and-reputation.md)

---

## Executive Summary

Die **Erynoa Configuration Language (ECL)** ist eine einheitliche, modulare Beschreibungssprache fÃ¼r das gesamte Erynoa-Ã–kosystem. Mit ECL wird **alles als Code** definiert: IdentitÃ¤ten, Objekte, Agenten, Umgebungen, Trust-Konfigurationen und mehr. ECL vereinheitlicht die bisherigen domÃ¤nenspezifischen Sprachen (ADL, EDL) in ein kohÃ¤rentes Sprachsystem mit gemeinsamer Syntax und modularem Aufbau.

### âš¡ Identity-First Architecture + ECLVM

**ECL v2.1** fÃ¼hrt zwei revolutionÃ¤re Konzepte ein:

1. **Identity-First Paradigma**: **Jede EntitÃ¤t im Erynoa-Ã–kosystem besitzt eine kryptografisch gesicherte IdentitÃ¤t.** IdentitÃ¤t (`ecl/identity`) ist das **universelle Fundament**, auf dem ALLE anderen Module aufbauen.

2. **ECLVM (Erynoa Virtual Machine)**: **Agenten kÃ¶nnen dynamisch programmieren** â€“ nicht nur konfigurieren. Die ECLVM ermÃ¶glicht das Erstellen von Templates, deren Laufzeit-Instanziierung und Hot-Code-Reload.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚          ERYNOA CONFIGURATION LANGUAGE (ECL) v2.1                          â”‚
â”‚          â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                           â”‚
â”‚                                                                             â”‚
â”‚   "Identity-First + ECLVM: Agenten programmieren ihr Ã–kosystem"            â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚                        CONSUMER MODULES                             â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚   â”‚   â”‚  ğŸ¤– Agent   â”‚  â”‚  ğŸ“¦ Object  â”‚  â”‚  ğŸŒ Environ â”‚                â”‚  â”‚
â”‚   â”‚   â”‚    Module   â”‚  â”‚    Module   â”‚  â”‚    Module   â”‚                â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚   â”‚          â”‚                â”‚                â”‚                        â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚   â”‚   â”‚  âš–ï¸ Trust   â”‚  â”‚  ğŸ’° Economicâ”‚  â”‚  ğŸ“œ Govern  â”‚                â”‚  â”‚
â”‚   â”‚   â”‚    Module   â”‚  â”‚    Module   â”‚  â”‚    Module   â”‚                â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚   â”‚          â”‚                â”‚                â”‚                        â”‚  â”‚
â”‚   â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚  â”‚
â”‚   â”‚                           â”‚                                         â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚  â”‚
â”‚   â”‚                           â”‚                                         â”‚  â”‚
â”‚   â”‚                  ğŸ” IDENTITY LAYER                                  â”‚  â”‚
â”‚   â”‚              â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                 â”‚  â”‚
â”‚   â”‚              Universelles Fundament                                 â”‚  â”‚
â”‚   â”‚              Jede EntitÃ¤t hat DID                                   â”‚  â”‚
â”‚   â”‚                           â”‚                                         â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚  â”‚
â”‚   â”‚                           â”‚                                         â”‚  â”‚
â”‚   â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                                  â”‚  â”‚
â”‚   â”‚                    â”‚   âš¡ ECLVM  â”‚                                  â”‚  â”‚
â”‚   â”‚                    â”‚  Execution  â”‚                                  â”‚  â”‚
â”‚   â”‚                    â”‚   Engine    â”‚                                  â”‚  â”‚
â”‚   â”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                  â”‚  â”‚
â”‚   â”‚                           â”‚                                         â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚  â”‚
â”‚   â”‚                           â”‚                                         â”‚  â”‚
â”‚   â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                                  â”‚  â”‚
â”‚   â”‚                    â”‚   ğŸ§¬ ECL    â”‚                                  â”‚  â”‚
â”‚   â”‚                    â”‚    CORE     â”‚                                  â”‚  â”‚
â”‚   â”‚                    â”‚ Basis-Typen â”‚                                  â”‚  â”‚
â”‚   â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   Identity-First Â· ECLVM Â· Modular Â· Typsicher Â· Hot-Reload Â· Sandboxed    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Das Identity-First + ECLVM Prinzip

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ¯ KERNAUSSAGE: ALLES HAT EINE IDENTITÃ„T                                 â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   ENTITÃ„T                    â†’  HAT DID                          â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•                      â•â•â•â•â•â•â•â•                         â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   ğŸ‘¤ Agent (Seeker)           â†’  did:erynoa:agent:seeker:...     â”‚    â”‚
â”‚   â”‚   ğŸ‘¤ Agent (Provider)         â†’  did:erynoa:agent:provider:...   â”‚    â”‚
â”‚   â”‚   ğŸ¢ Organisation             â†’  did:erynoa:org:...              â”‚    â”‚
â”‚   â”‚   ğŸš— Fahrzeug                 â†’  did:erynoa:vehicle:...          â”‚    â”‚
â”‚   â”‚   ğŸ“¦ AMO (Objekt-Instanz)     â†’  did:erynoa:amo:...              â”‚    â”‚
â”‚   â”‚   ğŸ“‹ Blueprint                â†’  did:erynoa:blueprint:...        â”‚    â”‚
â”‚   â”‚   ğŸŒ Environment              â†’  did:erynoa:env:...              â”‚    â”‚
â”‚   â”‚   ğŸ“œ Standard/Norm            â†’  did:erynoa:standard:...         â”‚    â”‚
â”‚   â”‚   ğŸ« Credential               â†’  did:erynoa:vc:...               â”‚    â”‚
â”‚   â”‚   ğŸ’³ Wallet                   â†’  did:erynoa:wallet:...           â”‚    â”‚
â”‚   â”‚   ğŸ—³ï¸ Governance Proposal      â†’  did:erynoa:proposal:...         â”‚    â”‚
â”‚   â”‚   ğŸ”— Network Bridge           â†’  did:erynoa:bridge:...           â”‚    â”‚
â”‚   â”‚   ğŸ“„ Intent                   â†’  did:erynoa:intent:...           â”‚    â”‚
â”‚   â”‚   ğŸ“œ Policy                   â†’  did:erynoa:policy:...           â”‚    â”‚
â”‚   â”‚   âš–ï¸ Trust Attestation        â†’  did:erynoa:attestation:...      â”‚    â”‚
â”‚   â”‚   ğŸ§ª Test Suite               â†’  did:erynoa:test:...             â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚   ğŸ’¡ WARUM?                                                                â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                 â”‚
â”‚   â€¢ Universelle Referenzierbarkeit                                         â”‚
â”‚   â€¢ Kryptografische Nachvollziehbarkeit                                    â”‚
â”‚   â€¢ UnverÃ¤nderliche Audit-Trails                                           â”‚
â”‚   â€¢ Cross-System InteroperabilitÃ¤t                                         â”‚
â”‚   â€¢ Dezentrale Verifizierung                                               â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. Design-Philosophie

### 1.1 Kernprinzipien

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                        ECL DESIGN-PRINZIPIEN                               â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ï¿½ IDENTITY-FIRST             ğŸ“œ DEKLARATIV                       â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   JEDE EntitÃ¤t besitzt         Beschreibt WAS,                     â”‚  â”‚
â”‚   â”‚   eine DID. IdentitÃ¤t          nicht WIE.                          â”‚  â”‚
â”‚   â”‚   ist Existenzbedingung.       Keine imperative                    â”‚  â”‚
â”‚   â”‚                                 Kontrollfluss-Logik.                â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ğŸ§© MODULAR                    ğŸ”— REFERENZIELL                     â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•                  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                     â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   FunktionalitÃ¤t in             Entities referenzieren              â”‚  â”‚
â”‚   â”‚   separate Module               andere via DIDs â€“                   â”‚  â”‚
â”‚   â”‚   aufgeteilt, die               universell und eindeutig.          â”‚  â”‚
â”‚   â”‚   kombiniert werden.                                                â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ğŸ”’ TYPSICHER                  ğŸ›¡ï¸ CONSTRAINT-FIRST                â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•                  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   Statische Typ-                Bedingungen und                     â”‚  â”‚
â”‚   â”‚   prÃ¼fung vor                   EinschrÃ¤nkungen                     â”‚  â”‚
â”‚   â”‚   AusfÃ¼hrung.                   als Kernkonzept.                    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Das Identity-First Paradigma im Detail

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ” IDENTITY-FIRST PARADIGMA â€“ PHILOSOPHISCHE GRUNDLAGE                   â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   AXIOM: "Existenz durch Identifizierbarkeit"                    â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                       â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   Im Erynoa-Ã–kosystem gilt:                                      â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   1. Eine EntitÃ¤t EXISTIERT, weil sie eine IdentitÃ¤t HAT         â”‚    â”‚
â”‚   â”‚   2. Ohne IdentitÃ¤t ist keine Interaktion mÃ¶glich                â”‚    â”‚
â”‚   â”‚   3. IdentitÃ¤t ist nicht optional â€“ sie ist konstitutiv          â”‚    â”‚
â”‚   â”‚   4. Alle Beziehungen sind IdentitÃ¤ts-Beziehungen                â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   KONSEQUENZEN                                                    â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•                                                    â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â€¢ Jede Definition BEGINNT mit einer Identity-Deklaration       â”‚    â”‚
â”‚   â”‚   â€¢ Referenzen zwischen EntitÃ¤ten sind IMMER DID-Referenzen      â”‚    â”‚
â”‚   â”‚   â€¢ Berechtigungen werden an DIDs gebunden, nie an Namen         â”‚    â”‚
â”‚   â”‚   â€¢ Audit-Trails verfolgen DIDs, nie ephemere Identifier         â”‚    â”‚
â”‚   â”‚   â€¢ Trust akkumuliert sich an DIDs Ã¼ber Zeit                     â”‚    â”‚
â”‚   â”‚   â€¢ Versionen sind DID-linked (Blueprint-DID â†’ Version-History)  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 Warum Identity-First? â€“ Die Transformation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   VORHER: Fragmentierte IdentitÃ¤t                                          â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                           â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚   Agents      â”‚  â”‚   Blueprints  â”‚  â”‚   Environmentsâ”‚                 â”‚
â”‚   â”‚               â”‚  â”‚               â”‚  â”‚               â”‚                 â”‚
â”‚   â”‚  agent_id:123 â”‚  â”‚  bp:ev-charge â”‚  â”‚  env:germany  â”‚                 â”‚
â”‚   â”‚  (internal)   â”‚  â”‚  (string ref) â”‚  â”‚  (string ref) â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚          â”‚                  â”‚                  â”‚                           â”‚
â”‚          âŒ Keine kryptografische Verifizierung                            â”‚
â”‚          âŒ Identifier-Kollisionen mÃ¶glich                                 â”‚
â”‚          âŒ Keine dezentrale AuflÃ¶sung                                     â”‚
â”‚          âŒ Trust kann nicht konsistent aggregiert werden                  â”‚
â”‚                                                                             â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                                             â”‚
â”‚   NACHHER: Universal Identity Foundation                                   â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                    â”‚
â”‚                                                                             â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                     â”‚    ğŸ” IDENTITY LAYER        â”‚                        â”‚
â”‚                     â”‚    did:erynoa:*             â”‚                        â”‚
â”‚                     â”‚    Universal Namespace      â”‚                        â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                    â”‚                                       â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚       â”‚                            â”‚                            â”‚         â”‚
â”‚   â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”     â”‚
â”‚   â”‚  Agent    â”‚  â”‚         Blueprint                 â”‚  â”‚Environmentâ”‚     â”‚
â”‚   â”‚           â”‚  â”‚                                   â”‚  â”‚           â”‚     â”‚
â”‚   â”‚ did:erynoaâ”‚  â”‚ did:erynoa:blueprint:ev-charge:v1â”‚  â”‚did:erynoa â”‚     â”‚
â”‚   â”‚ :agent:   â”‚  â”‚                                   â”‚  â”‚:env:      â”‚     â”‚
â”‚   â”‚ seeker:123â”‚  â”‚ â† Eigene DID, versioniert        â”‚  â”‚germany    â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â† Signiert vom Author            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                  â”‚ â† Trust akkumuliert               â”‚                    â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                             â”‚
â”‚          âœ… Kryptografisch verifizierbar (Ed25519)                         â”‚
â”‚          âœ… Global eindeutig (DID-Spezifikation)                           â”‚
â”‚          âœ… Dezentral auflÃ¶sbar (DACS Network)                             â”‚
â”‚          âœ… Trust konsistent aggregierbar (Karmic Engine)                  â”‚
â”‚          âœ… Agenten kÃ¶nnen dynamisch programmieren (ECLVM)                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ECL Modulstruktur â€“ Identity-First Architektur

ECL ist in **Module** organisiert, mit `ecl/identity` als **fundamentalem Basis-Layer** und `ecl/vm` als **Execution Engine** fÃ¼r dynamische Programmierung.

### 2.1 Identity-First Modulhierarchie

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                    ECL MODULE HIERARCHY â€“ IDENTITY-FIRST                   â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ğŸ“¦ ecl/core                    LAYER 0: SYNTAX                    â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•                   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                 â”‚  â”‚
â”‚   â”‚   Basis-Typen, Parser, Validierung, Expressions                    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   âš¡ ecl/vm                      LAYER 0.5: EXECUTION ENGINE        â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•                    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•         â”‚  â”‚
â”‚   â”‚   ECLVM â€“ Agenten kÃ¶nnen dynamisch programmieren                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â€¢ ECL-Bytecode Interpreter (Stack-basiert)                       â”‚  â”‚
â”‚   â”‚   â€¢ Template-Engine fÃ¼r dynamische Instanziierung                  â”‚  â”‚
â”‚   â”‚   â€¢ Sandboxed Execution mit Resource Limits                        â”‚  â”‚
â”‚   â”‚   â€¢ Hot-Code-Reload & Live-Patching                                â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ğŸ” ecl/identity               LAYER 1: IDENTITY FOUNDATION       â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚  â”‚
â”‚   â”‚   UNIVERSELLES FUNDAMENT â€“ ALLE anderen Module bauen hierauf auf   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â€¢ DID-System (did:erynoa:*)                                      â”‚  â”‚
â”‚   â”‚   â€¢ Identity-Trait (muss von JEDER EntitÃ¤t implementiert werden)   â”‚  â”‚
â”‚   â”‚   â€¢ Verifiable Credentials                                         â”‚  â”‚
â”‚   â”‚   â€¢ Controller-Relationships                                       â”‚  â”‚
â”‚   â”‚   â€¢ DACS-Konfiguration                                             â”‚  â”‚
â”‚   â”‚   â€¢ Multi-Chain Anchoring                                          â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   LAYER 2: IDENTITY-AWARE ENTITIES                                 â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ğŸ“¦ ecl/object       âš–ï¸ ecl/trust        ğŸ’° ecl/economic          â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•       â•â•â•â•â•â•â•â•â•â•â•â•        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•          â”‚  â”‚
â”‚   â”‚   Blueprints, AMOs    Trust Models,       Payment, Wallets,        â”‚  â”‚
â”‚   â”‚   Standards, Norms    Attestations        Streaming                â”‚  â”‚
â”‚   â”‚   JEDE HAT DID        JEDE HAT DID        JEDE HAT DID             â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   LAYER 3: IDENTITY-AWARE ACTORS & SPACES                          â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                           â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ğŸ¤– ecl/agent        ğŸŒ ecl/environ      ğŸ“œ ecl/governance        â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•        â•â•â•â•â•â•â•â•â•â•â•â•â•â•      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•        â”‚  â”‚
â”‚   â”‚   Seeker/Provider     Environments,       DAOs, Voting,            â”‚  â”‚
â”‚   â”‚   Intents, Policies   Hierarchies         Proposals                â”‚  â”‚
â”‚   â”‚   JEDE HAT DID        JEDE HAT DID        JEDE HAT DID             â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   LAYER 4: INFRASTRUCTURE & TESTING                                â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ğŸ”— ecl/network                          ğŸ§ª ecl/test              â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                         â•â•â•â•â•â•â•â•â•â•â•â•             â”‚  â”‚
â”‚   â”‚   Multi-Chain, Bridges,                   Test Suites,             â”‚  â”‚
â”‚   â”‚   Network Selection                       Mocks, Fixtures          â”‚  â”‚
â”‚   â”‚   JEDE HAT DID                            JEDE HAT DID             â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Der Identity-Trait: Pflicht fÃ¼r ALLE EntitÃ¤ten

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ” IDENTITY-TRAIT: DAS UNIVERSELLE INTERFACE                             â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   # Jede EntitÃ¤t in ECL MUSS den Identity-Trait implementieren   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   trait Identifiable:                                            â”‚    â”‚
â”‚   â”‚     # PrimÃ¤rer Identifier â€“ global eindeutig, unverÃ¤nderlich     â”‚    â”‚
â”‚   â”‚     did: did                                                     â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚     # Wer kontrolliert diese IdentitÃ¤t (CRUD-Rechte)             â”‚    â”‚
â”‚   â”‚     controller: did | list<did>                                  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚     # Wann wurde die IdentitÃ¤t erstellt                          â”‚    â”‚
â”‚   â”‚     created_at: timestamp                                        â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚     # Letzte Modifikation                                        â”‚    â”‚
â”‚   â”‚     updated_at: timestamp                                        â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚     # Versionierung (semantisch)                                 â”‚    â”‚
â”‚   â”‚     version: optional<semver>                                    â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚     # Signatur des Controllers bei Erstellung/Update             â”‚    â”‚
â”‚   â”‚     proof: optional<Proof>                                       â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚   ANWENDUNG:                                                               â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   # Blueprint MUSS Identity-Trait implementieren                   â”‚  â”‚
â”‚   â”‚   blueprint extends Identifiable:                                  â”‚  â”‚
â”‚   â”‚     did: "did:erynoa:blueprint:ev-charging-station:v1"            â”‚  â”‚
â”‚   â”‚     controller: "did:erynoa:org:standards-body"                   â”‚  â”‚
â”‚   â”‚     ...                                                            â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   # Agent MUSS Identity-Trait implementieren                       â”‚  â”‚
â”‚   â”‚   agent extends Identifiable:                                      â”‚  â”‚
â”‚   â”‚     did: "did:erynoa:agent:seeker:user-abc123"                    â”‚  â”‚
â”‚   â”‚     controller: "did:erynoa:org:mycompany"                        â”‚  â”‚
â”‚   â”‚     ...                                                            â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   # Environment MUSS Identity-Trait implementieren                 â”‚  â”‚
â”‚   â”‚   environment extends Identifiable:                                â”‚  â”‚
â”‚   â”‚     did: "did:erynoa:env:ev-charging:germany"                     â”‚  â”‚
â”‚   â”‚     controller: "did:erynoa:gov:bundesnetzagentur"                â”‚  â”‚
â”‚   â”‚     ...                                                            â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Modul-Importe â€“ Identity ist IMMER implizit

Module werden explizit importiert, aber `ecl/identity` ist **immer implizit enthalten**:

```yaml
# ECL Dokument mit Modul-Imports
ecl_version: "2.0"

# Modul-Deklarationen
# HINWEIS: ecl/core und ecl/identity sind IMMER implizit importiert!
use:
  - ecl/agent
  - ecl/trust
  - ecl/environ
  - ecl/economic

# Ã„quivalent zu:
# use:
#   - ecl/core      # â† Implizit (Basis-Typen)
#   - ecl/identity  # â† Implizit (Identity Foundation)
#   - ecl/agent
#   - ecl/trust
#   - ecl/environ
#   - ecl/economic
```

---

## 3. ECL Core Module (`ecl/core`)

Das Core-Modul definiert die **Basissyntax und gemeinsame Typen**.

### 3.1 Basis-Typen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                         ECL CORE TYPSYSTEM                                 â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   PRIMITIVE TYPEN                                                   â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   string      â†’  UTF-8 Text                                        â”‚  â”‚
â”‚   â”‚   int         â†’  Ganzzahl (i64)                                    â”‚  â”‚
â”‚   â”‚   float       â†’  FlieÃŸkomma (f64)                                  â”‚  â”‚
â”‚   â”‚   bool        â†’  true | false                                       â”‚  â”‚
â”‚   â”‚   bytes       â†’  BinÃ¤rdaten (base64)                               â”‚  â”‚
â”‚   â”‚   timestamp   â†’  ISO 8601 Zeitstempel                              â”‚  â”‚
â”‚   â”‚   duration    â†’  Zeitdauer (ISO 8601 Duration)                     â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   REFERENZ-TYPEN                                                   â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   did         â†’  Decentralized Identifier (did:erynoa:...)         â”‚  â”‚
â”‚   â”‚   env_id      â†’  Environment Reference (env:erynoa:...)            â”‚  â”‚
â”‚   â”‚   bp_id       â†’  Blueprint Reference (bp:erynoa:...)               â”‚  â”‚
â”‚   â”‚   amo_id      â†’  AMO Reference (amo:...)                           â”‚  â”‚
â”‚   â”‚   vc_ref      â†’  Verifiable Credential Reference                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   COLLECTION-TYPEN                                                 â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   list<T>     â†’  Geordnete Liste                                   â”‚  â”‚
â”‚   â”‚   set<T>      â†’  Ungeordnete Menge (unique)                        â”‚  â”‚
â”‚   â”‚   map<K,V>    â†’  SchlÃ¼ssel-Wert-Paare                              â”‚  â”‚
â”‚   â”‚   optional<T> â†’  Nullable Wert                                     â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   CONSTRAINT-TYPEN                                                 â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   range<T>    â†’  Wertebereich (min, max)                           â”‚  â”‚
â”‚   â”‚   enum<...>   â†’  AufzÃ¤hlung erlaubter Werte                        â”‚  â”‚
â”‚   â”‚   pattern     â†’  Regex-Pattern fÃ¼r Strings                         â”‚  â”‚
â”‚   â”‚   expr        â†’  Ausdruck (CEL-basiert)                            â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Custom Types

Eigene Typen kÃ¶nnen definiert werden:

```yaml
# Type-Definition im ecl/core Stil
types:
  # Enum-Typ
  PowerLevel:
    kind: enum
    values: [low, medium, high, ultra]

  # Struct-Typ
  GeoLocation:
    kind: struct
    fields:
      geohash: string
      radius_km: float
      precision: range<int>(1, 12)

  # Union-Typ
  PaymentMethod:
    kind: union
    variants:
      - streaming: StreamingConfig
      - prepaid: PrepaidConfig
      - invoice: InvoiceConfig
```

### 3.3 Constraints & Validierung

```yaml
# Constraint-Definitionen
constraints:
  # Einfacher Wertebereich
  valid_trust:
    type: range<float>
    min: 0.0
    max: 1.0

  # Pattern-Constraint
  valid_did:
    type: pattern
    regex: "^did:erynoa:[a-z]+:[a-zA-Z0-9-]+$"

  # Expression-Constraint (CEL)
  valid_price:
    type: expr
    expression: "this.max_price >= this.min_price"
    message: "max_price must be >= min_price"
```

---

## 4. VM Module (`ecl/vm`) â€“ Die Erynoa Virtual Machine

Das VM-Modul definiert die **ECLVM (Erynoa Configuration Language Virtual Machine)** â€“ eine spezialisierte Execution Engine, die es Agenten ermÃ¶glicht, **dynamisch zu programmieren**, Templates zur Laufzeit zu instanziieren und neue EntitÃ¤ten zu erzeugen.

### 4.1 ECLVM Architektur-Ãœbersicht

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   âš¡ ECLVM â€“ ERYNOA CONFIGURATION LANGUAGE VIRTUAL MACHINE                 â”‚
â”‚                                                                             â”‚
â”‚   "Agenten kÃ¶nnen programmieren â€“ nicht nur konfigurieren"                 â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   ğŸ“ ECL SOURCE CODE                                       â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                       â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Templates (Blueprints, Environments, Policies)         â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Agent Programs (Logik, Entscheidungen)                 â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Inline Scripts (Dynamische Expressions)                â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                              â”‚                                      â”‚  â”‚
â”‚   â”‚                              â–¼                                      â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   ğŸ”§ ECL COMPILER                                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                           â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   Parser â†’ Type Checker â†’ Optimizer â†’ Bytecode Generator   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                              â”‚                                      â”‚  â”‚
â”‚   â”‚                              â–¼                                      â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   ğŸ“¦ ECL BYTECODE (.eclb)                                  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Stack-basiertes Instruction Set                        â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Kompakt, portabel, verifizierbar                       â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Signiert vom Author (DID-linked)                       â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                              â”‚                                      â”‚  â”‚
â”‚   â”‚                              â–¼                                      â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   âš¡ ECLVM RUNTIME                                         â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   Stack   â”‚ â”‚   Heap    â”‚ â”‚  Sandbox  â”‚ â”‚  Host API â”‚  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚  Machine  â”‚ â”‚  Manager  â”‚ â”‚  Enforcer â”‚ â”‚  Bridge   â”‚  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚ Template  â”‚ â”‚   DID     â”‚ â”‚ Resource  â”‚ â”‚   Event   â”‚  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚  Engine   â”‚ â”‚ Resolver  â”‚ â”‚  Metering â”‚ â”‚  Emitter  â”‚  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   ğŸ’¡ Agenten fÃ¼hren ECL-Code aus, nicht nur statische Konfigurationen     â”‚
â”‚   ğŸ’¡ Templates werden zur Laufzeit instanziiert und initialisiert         â”‚
â”‚   ğŸ’¡ Alles lÃ¤uft sandboxed mit strikten Resource-Limits                   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Das Programming Model

ECLVM unterstÃ¼tzt ein hybrides Programmiermodell: **Deklarativ** fÃ¼r Strukturen, **Imperativ** fÃ¼r Logik.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ§¬ ECLVM PROGRAMMING MODEL                                               â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   DEKLARATIV (Templates & Schemas)                                 â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â€¢ Blueprints definieren Struktur                                 â”‚  â”‚
â”‚   â”‚   â€¢ Environments definieren Constraints                            â”‚  â”‚
â”‚   â”‚   â€¢ Policies definieren Regeln                                     â”‚  â”‚
â”‚   â”‚   â€¢ Alles typisiert und validierbar                                â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   IMPERATIV (Agent Programs)                                       â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                        â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â€¢ Funktionen mit Kontrollfluss                                   â”‚  â”‚
â”‚   â”‚   â€¢ Pattern Matching                                               â”‚  â”‚
â”‚   â”‚   â€¢ Iteratoren und Comprehensions                                  â”‚  â”‚
â”‚   â”‚   â€¢ Async/Await fÃ¼r I/O                                            â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   META (Template Instantiation)                                    â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                     â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â€¢ Templates mit Parametern                                       â”‚  â”‚
â”‚   â”‚   â€¢ Dynamische DID-Generierung                                     â”‚  â”‚
â”‚   â”‚   â€¢ Schema-Vererbung und Composition                               â”‚  â”‚
â”‚   â”‚   â€¢ Hot-Patching zur Laufzeit                                      â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 ECL Bytecode Instruction Set

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ECLVM INSTRUCTION SET â€“ Stack-basierte Virtual Machine
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

instruction_set:
  version: "1.0"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # STACK OPERATIONS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  stack:
    PUSH:
      opcode: 0x01
      args: [value: any]
      description: "Push value onto stack"

    POP:
      opcode: 0x02
      description: "Pop top value from stack"

    DUP:
      opcode: 0x03
      description: "Duplicate top stack value"

    SWAP:
      opcode: 0x04
      description: "Swap top two stack values"

    ROT:
      opcode: 0x05
      description: "Rotate top three stack values"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ARITHMETIC & LOGIC
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  arithmetic:
    ADD: { opcode: 0x10, description: "a + b" }
    SUB: { opcode: 0x11, description: "a - b" }
    MUL: { opcode: 0x12, description: "a * b" }
    DIV: { opcode: 0x13, description: "a / b" }
    MOD: { opcode: 0x14, description: "a % b" }
    NEG: { opcode: 0x15, description: "-a" }

  logic:
    AND: { opcode: 0x20, description: "a && b" }
    OR: { opcode: 0x21, description: "a || b" }
    NOT: { opcode: 0x22, description: "!a" }
    EQ: { opcode: 0x23, description: "a == b" }
    NE: { opcode: 0x24, description: "a != b" }
    LT: { opcode: 0x25, description: "a < b" }
    LE: { opcode: 0x26, description: "a <= b" }
    GT: { opcode: 0x27, description: "a > b" }
    GE: { opcode: 0x28, description: "a >= b" }

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CONTROL FLOW
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  control:
    JMP:
      opcode: 0x30
      args: [offset: i32]
      description: "Unconditional jump"

    JMP_IF:
      opcode: 0x31
      args: [offset: i32]
      description: "Jump if top of stack is true"

    JMP_IF_NOT:
      opcode: 0x32
      args: [offset: i32]
      description: "Jump if top of stack is false"

    CALL:
      opcode: 0x33
      args: [func_id: u32, arg_count: u8]
      description: "Call function with arguments"

    RET:
      opcode: 0x34
      description: "Return from function"

    YIELD:
      opcode: 0x35
      description: "Yield execution (for async)"

    MATCH:
      opcode: 0x36
      args: [pattern_table: u32]
      description: "Pattern match with jump table"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # MEMORY & VARIABLES
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  memory:
    LOAD_LOCAL:
      opcode: 0x40
      args: [slot: u16]
      description: "Load local variable"

    STORE_LOCAL:
      opcode: 0x41
      args: [slot: u16]
      description: "Store to local variable"

    LOAD_GLOBAL:
      opcode: 0x42
      args: [name: string]
      description: "Load global variable"

    STORE_GLOBAL:
      opcode: 0x43
      args: [name: string]
      description: "Store to global variable"

    LOAD_FIELD:
      opcode: 0x44
      args: [field: string]
      description: "Load field from object on stack"

    STORE_FIELD:
      opcode: 0x45
      args: [field: string]
      description: "Store to field of object on stack"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # OBJECT & COLLECTION OPERATIONS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  objects:
    NEW_OBJECT:
      opcode: 0x50
      args: [type_id: u32]
      description: "Create new object of type"

    NEW_LIST:
      opcode: 0x51
      args: [size: u16]
      description: "Create list from stack values"

    NEW_MAP:
      opcode: 0x52
      args: [size: u16]
      description: "Create map from stack key-value pairs"

    LIST_GET:
      opcode: 0x53
      description: "Get list element by index"

    LIST_SET:
      opcode: 0x54
      description: "Set list element by index"

    MAP_GET:
      opcode: 0x55
      description: "Get map value by key"

    MAP_SET:
      opcode: 0x56
      description: "Set map value by key"

    LEN:
      opcode: 0x57
      description: "Get length of collection"

    ITER:
      opcode: 0x58
      description: "Create iterator from collection"

    NEXT:
      opcode: 0x59
      description: "Get next from iterator (pushes value and hasMore)"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY & DID OPERATIONS (Kernfeature!)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  identity:
    DID_GENERATE:
      opcode: 0x60
      args: [namespace: string]
      description: "Generate new DID in namespace"
      example: "DID_GENERATE 'agent:seeker' â†’ 'did:erynoa:agent:seeker:abc123'"

    DID_RESOLVE:
      opcode: 0x61
      description: "Resolve DID to document (from stack)"

    DID_VERIFY:
      opcode: 0x62
      description: "Verify DID signature"

    DID_DERIVE:
      opcode: 0x63
      args: [sub_type: string]
      description: "Derive Sub-Identity from parent DID"
      example: "DID_DERIVE 'avatar' â†’ creates sub-identity"

    VC_ISSUE:
      opcode: 0x64
      description: "Issue Verifiable Credential"

    VC_VERIFY:
      opcode: 0x65
      description: "Verify Credential"

    VC_REVOKE:
      opcode: 0x66
      description: "Revoke Credential"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # TEMPLATE OPERATIONS (Dynamische Instanziierung!)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  templates:
    TEMPLATE_LOAD:
      opcode: 0x70
      args: [template_did: did]
      description: "Load template by DID"

    TEMPLATE_BIND:
      opcode: 0x71
      args: [param_name: string]
      description: "Bind parameter from stack to template"

    TEMPLATE_INSTANTIATE:
      opcode: 0x72
      description: "Instantiate template with bound parameters"
      returns: "New entity with generated DID"

    TEMPLATE_VALIDATE:
      opcode: 0x73
      description: "Validate instantiation against schema"

    TEMPLATE_REGISTER:
      opcode: 0x74
      description: "Register new template in registry"

    SCHEMA_EXTEND:
      opcode: 0x75
      args: [base_template: did]
      description: "Extend existing template"

    SCHEMA_COMPOSE:
      opcode: 0x76
      args: [template_count: u8]
      description: "Compose multiple templates"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ENVIRONMENT OPERATIONS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  environment:
    ENV_CREATE:
      opcode: 0x80
      description: "Create new environment from template"

    ENV_JOIN:
      opcode: 0x81
      description: "Join environment (subject DID on stack)"

    ENV_LEAVE:
      opcode: 0x82
      description: "Leave environment"

    ENV_QUERY:
      opcode: 0x83
      args: [query_type: string]
      description: "Query environment members/state"

    ENV_BROADCAST:
      opcode: 0x84
      description: "Broadcast event to environment"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # HOST API CALLS (Bridge zur AuÃŸenwelt)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  host:
    HOST_CALL:
      opcode: 0x90
      args: [api_name: string, arg_count: u8]
      description: "Call host API function"
      available_apis:
        - "network.discover" # Discovery in Netzwerk
        - "network.send" # Message senden
        - "storage.get" # Persistenter Speicher
        - "storage.set"
        - "crypto.sign" # Kryptografische Ops
        - "crypto.verify"
        - "time.now" # Aktuelle Zeit
        - "random.bytes" # Sichere Zufallszahlen
        - "log.info" # Logging
        - "log.error"
        - "wallet.balance" # Wallet-Abfrage
        - "wallet.transfer" # Token-Transfer
        - "governance.propose" # Governance-Aktionen
        - "governance.vote"

    HOST_CALLBACK:
      opcode: 0x91
      args: [callback_id: u32]
      description: "Register callback for host events"

    EMIT_EVENT:
      opcode: 0x92
      args: [event_type: string]
      description: "Emit event to runtime"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # RESOURCE METERING (Sandbox-Kontrolle)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  metering:
    GAS_CHECK:
      opcode: 0xF0
      description: "Check remaining gas (implicit in all ops)"

    MEMORY_CHECK:
      opcode: 0xF1
      description: "Check memory usage"

    CHECKPOINT:
      opcode: 0xF2
      description: "Create execution checkpoint (for rollback)"

    ROLLBACK:
      opcode: 0xF3
      description: "Rollback to last checkpoint"
```

### 4.4 Template-System â€“ Dynamische Schablonen

Das HerzstÃ¼ck der ECLVM: **Templates** ermÃ¶glichen es Agenten, dynamisch neue EntitÃ¤ten zu erzeugen.

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ECLVM TEMPLATE SYSTEM â€“ Dynamische Schablonen-Instanziierung
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# BEISPIEL 1: Blueprint-Template mit Parametern
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
template:
  kind: blueprint_template
  did: "did:erynoa:template:blueprint:charging-station:v1"
  controller: "did:erynoa:org:erynoa-foundation"
  version: "1.0.0"

  # Template-Parameter (mÃ¼ssen bei Instanziierung Ã¼bergeben werden)
  parameters:
    operator_did:
      type: did
      required: true
      description: "DID des Betreibers"

    power_kw:
      type: range<int>(11, 350)
      required: true
      description: "Ladeleistung in kW"

    connector_types:
      type: list<enum<ccs2, chademo, type2, tesla>>
      required: true
      min_items: 1

    location:
      type: GeoLocation
      required: true

    price_per_kwh:
      type: range<float>(0.0, 2.0)
      default: 0.45

    renewable_certified:
      type: bool
      default: false

  # Template-Body (wird mit Parametern interpoliert)
  body: |
    blueprint:
      kind: asset_blueprint
      did: "did:erynoa:blueprint:charging:{{ generate_uuid() }}"
      controller: "{{ params.operator_did }}"
      created_at: "{{ now() }}"
      version: "1.0.0"

      extends: "did:erynoa:blueprint:ev-charging-station:v1"

      attributes:
        static:
          operator:
            type: did
            value: "{{ params.operator_did }}"

          max_power_kw:
            type: int
            value: {{ params.power_kw }}

          connector_types:
            type: list<string>
            value: {{ params.connector_types | to_json }}

          location:
            type: GeoLocation
            value: {{ params.location | to_json }}

          price_per_kwh_eur:
            type: float
            value: {{ params.price_per_kwh }}

          renewable_certified:
            type: bool
            value: {{ params.renewable_certified }}

        dynamic:
          current_power_kw:
            type: float
            source: iot_sensor
            update_frequency: "PT1S"

          availability:
            type: enum<available, charging, offline, reserved>
            source: status_api

      constraints:
        - name: valid_power
          rule: "attributes.current_power_kw <= attributes.max_power_kw"

        - name: valid_price
          rule: "attributes.price_per_kwh_eur >= 0"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# BEISPIEL 2: Environment-Template fÃ¼r dynamische Umgebungen
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
template:
  kind: environment_template
  did: "did:erynoa:template:env:roaming-network:v1"
  controller: "did:erynoa:org:erynoa-foundation"
  version: "1.0.0"

  parameters:
    network_name:
      type: string
      required: true
      pattern: "^[a-z][a-z0-9-]{2,32}$"

    network_operator:
      type: did
      required: true

    parent_environment:
      type: did
      default: "did:erynoa:env:domain:ev-charging-eu"

    min_trust_threshold:
      type: range<float>(0.0, 1.0)
      default: 0.6

    membership_mode:
      type: enum<open, approval, invite>
      default: approval

    governance_enabled:
      type: bool
      default: true

    karma_asymmetry:
      type: range<float>(1.0, 3.0)
      default: 1.5

  body: |
    environment:
      kind: search_environment
      env_type: network
      did: "did:erynoa:env:network:{{ params.network_name }}"
      controller: "{{ params.network_operator }}"
      created_at: "{{ now() }}"
      version: "1.0.0"

      metadata:
        name: "{{ params.network_name | title }} Roaming Network"
        description: "Dynamically created roaming network"

      parent: "{{ params.parent_environment }}"

      membership:
        {% if params.membership_mode == 'open' %}
        automatic_if:
          - condition: "member.trust_score >= {{ params.min_trust_threshold }}"
        {% elif params.membership_mode == 'approval' %}
        requires_approval_if:
          - condition: "always"
        automatic_if: []
        {% else %}
        invite_only: true
        {% endif %}

      trust:
        aggregation_method: weighted_average
        min_trust_score: {{ params.min_trust_threshold }}
        dimensions:
          - name: reliability
            weight: 0.4
          - name: compliance
            weight: 0.3
          - name: user_satisfaction
            weight: 0.3

      {% if params.governance_enabled %}
      governance:
        enabled: true
        legislative:
          karma_asymmetry: {{ params.karma_asymmetry }}
        executive:
          entry_rights:
            eligible: "identities WHERE identity.is_member(this.did)"
      {% endif %}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# BEISPIEL 3: Agent-Template mit Sub-Identity-FÃ¤higkeiten
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
template:
  kind: agent_template
  did: "did:erynoa:template:agent:fleet-manager:v1"
  controller: "did:erynoa:org:erynoa-foundation"
  version: "1.0.0"

  parameters:
    owner_did:
      type: did
      required: true

    fleet_name:
      type: string
      required: true

    fleet_size:
      type: range<int>(1, 10000)
      required: true

    autonomy_level:
      type: enum<supervised, semi_autonomous, fully_autonomous>
      default: semi_autonomous

    max_transaction_value:
      type: Money
      default: { amount: 1000, currency: "EUR" }

    allowed_environments:
      type: list<did>
      default: []

  body: |
    agent:
      kind: agent
      agent_type: autonomous
      did: "did:erynoa:agent:fleet:{{ params.fleet_name | slugify }}"
      controller: "{{ params.owner_did }}"
      created_at: "{{ now() }}"
      version: "1.0.0"

      # Sub-Identity-FÃ¤higkeiten
      derivation_depth: 0
      max_sub_depth: 3
      allowed_sub_types:
        - avatar
        - delegate
        - session
        - ownership_anchor
        - bundle

      metadata:
        name: "{{ params.fleet_name }} Fleet Manager"
        description: "Autonomous fleet management agent"
        fleet_size: {{ params.fleet_size }}

      # Autonomie-Konfiguration
      autonomy:
        level: {{ params.autonomy_level }}

        {% if params.autonomy_level == 'supervised' %}
        requires_approval:
          - all_transactions
        {% elif params.autonomy_level == 'semi_autonomous' %}
        requires_approval:
          - transactions_above: {{ params.max_transaction_value | to_json }}
          - new_environment_join
        {% else %}
        requires_approval: []
        {% endif %}

      # Sub-Identity Auto-Creation
      sub_identity_config:
        auto_avatar_creation:
          enabled: true
          for_environments:
            {% for env in params.allowed_environments %}
            - "{{ env }}"
            {% endfor %}
            - pattern: "did:erynoa:env:network:*"

        delegation_policy:
          auto_delegate:
            enabled: {{ params.autonomy_level != 'supervised' }}
            for_tasks:
              - task_type: price_negotiation
                max_value: {{ params.max_transaction_value | to_json }}
              - task_type: slot_reservation
                max_duration: "PT4H"

      # Initial Capabilities
      capabilities:
        - discover_charging_stations
        - negotiate_prices
        - reserve_slots
        - manage_fleet_vehicles
        {% if params.autonomy_level == 'fully_autonomous' %}
        - autonomous_payment
        - dynamic_routing
        {% endif %}
```

### 4.5 Agent Programming â€“ Dynamischer Code

Agenten kÃ¶nnen mit ECLVM **eigene Programme** schreiben und ausfÃ¼hren:

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ECLVM AGENT PROGRAM â€“ Dynamische Programmierung
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

program:
  kind: agent_program
  did: "did:erynoa:program:fleet-optimizer:v1"
  controller: "did:erynoa:agent:fleet:munich-taxis"
  version: "1.0.0"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IMPORTS & DEPENDENCIES
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  imports:
    - ecl/core
    - ecl/vm
    - ecl/identity
    - ecl/environ
    - ecl/agent

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # TYPE DEFINITIONS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  types:
    ChargingRequest:
      vehicle_did: did
      current_soc: float # State of Charge (0-100%)
      target_soc: float
      max_wait_minutes: int
      preferred_connector: optional<string>

    ChargingSlot:
      station_did: did
      start_time: timestamp
      duration_minutes: int
      price_estimate: Money
      power_kw: int

    OptimizationResult:
      assignments: map<did, ChargingSlot> # vehicle -> slot
      total_cost: Money
      total_time_minutes: int
      unassigned: list<did>

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # FUNCTIONS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  functions:
    # â”€â”€â”€ Hauptfunktion: Flotten-Optimierung â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    optimize_fleet_charging:
      params:
        requests: list<ChargingRequest>
        search_radius_km: float
        max_price_per_kwh: Money
      returns: OptimizationResult

      body: |
        # 1. Sammle alle Fahrzeug-DIDs
        let vehicle_dids = requests.map(r => r.vehicle_did)

        # 2. Finde verfÃ¼gbare Ladestationen im Umkreis
        let stations = await discover_stations(
          center: get_fleet_center(vehicle_dids),
          radius_km: search_radius_km,
          filters: {
            availability: "available",
            max_price: max_price_per_kwh
          }
        )

        # 3. Berechne optimale Zuweisungen
        let assignments = {}
        let unassigned = []

        for request in requests.sort_by(r => r.current_soc) {
          # Niedrigster SoC zuerst
          let best_slot = find_best_slot(request, stations, assignments)

          match best_slot {
            Some(slot) => {
              assignments[request.vehicle_did] = slot
              # Aktualisiere Station-VerfÃ¼gbarkeit
              stations = update_availability(stations, slot)
            }
            None => {
              unassigned.push(request.vehicle_did)
            }
          }
        }

        # 4. Berechne Gesamtkosten
        let total_cost = assignments.values()
          .map(s => s.price_estimate)
          .reduce((a, b) => a + b, Money(0, "EUR"))

        let total_time = assignments.values()
          .map(s => s.duration_minutes)
          .max() ?? 0

        return OptimizationResult {
          assignments: assignments,
          total_cost: total_cost,
          total_time_minutes: total_time,
          unassigned: unassigned
        }

    # â”€â”€â”€ Hilfsfunktion: Station Discovery â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    discover_stations:
      params:
        center: GeoLocation
        radius_km: float
        filters: map<string, any>
      returns: list<Station>
      async: true

      body: |
        # Host-API-Aufruf fÃ¼r Netzwerk-Discovery
        let raw_results = await host_call("network.discover", {
          environment: "did:erynoa:env:domain:ev-charging-de",
          query: {
            type: "charging_station",
            location: {
              center: center,
              radius_km: radius_km
            },
            filters: filters
          }
        })

        # Filtere nach Trust-Score
        return raw_results
          .filter(s => s.trust_score >= 0.7)
          .sort_by(s => -s.trust_score)

    # â”€â”€â”€ Hilfsfunktion: Beste Slot-Auswahl â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    find_best_slot:
      params:
        request: ChargingRequest
        stations: list<Station>
        existing_assignments: map<did, ChargingSlot>
      returns: optional<ChargingSlot>

      body: |
        let required_kwh = (request.target_soc - request.current_soc) / 100 * 80  # 80kWh Batterie

        for station in stations {
          # PrÃ¼fe ob Station noch verfÃ¼gbar
          let already_assigned = existing_assignments.values()
            .any(a => a.station_did == station.did)

          if already_assigned {
            continue
          }

          # Berechne Ladezeit
          let charge_time_minutes = (required_kwh / station.power_kw) * 60

          if charge_time_minutes <= request.max_wait_minutes {
            return Some(ChargingSlot {
              station_did: station.did,
              start_time: now(),
              duration_minutes: ceil(charge_time_minutes),
              price_estimate: Money(
                required_kwh * station.price_per_kwh,
                "EUR"
              ),
              power_kw: station.power_kw
            })
          }
        }

        return None

    # â”€â”€â”€ Dynamische Environment-Erstellung â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    create_fleet_environment:
      params:
        fleet_name: string
        vehicles: list<did>
      returns: did
      async: true

      body: |
        # Lade Environment-Template
        let template = await template_load(
          "did:erynoa:template:env:fleet-private:v1"
        )

        # Binde Parameter
        template_bind("name", fleet_name)
        template_bind("owner", self.did)
        template_bind("initial_members", vehicles)
        template_bind("governance_enabled", true)

        # Instanziiere
        let new_env = await template_instantiate()

        # Validiere
        if !template_validate(new_env) {
          raise ValidationError("Environment validation failed")
        }

        # Registriere im Netzwerk
        await host_call("network.register", {
          entity: new_env,
          publish: true
        })

        # Logge Event
        emit_event("environment_created", {
          environment_did: new_env.did,
          creator: self.did,
          timestamp: now()
        })

        return new_env.did

    # â”€â”€â”€ Dynamische Blueprint-Erstellung â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    create_custom_blueprint:
      params:
        base_blueprint: did
        customizations: map<string, any>
        new_constraints: list<Constraint>
      returns: did
      async: true

      body: |
        # Lade Basis-Blueprint
        let base = await template_load(base_blueprint)

        # Erweitere Schema
        let extended = schema_extend(base)

        # FÃ¼ge Customizations hinzu
        for key, value in customizations {
          template_bind(key, value)
        }

        # FÃ¼ge neue Constraints hinzu
        for constraint in new_constraints {
          extended.add_constraint(constraint)
        }

        # Generiere DID fÃ¼r neuen Blueprint
        let new_did = did_generate("blueprint")
        extended.did = new_did
        extended.controller = self.did
        extended.created_at = now()
        extended.extends = base_blueprint

        # Validiere
        if !template_validate(extended) {
          raise ValidationError("Blueprint validation failed")
        }

        # Registriere
        await template_register(extended)

        return new_did

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # EVENT HANDLERS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  event_handlers:
    on_vehicle_low_battery:
      trigger:
        type: "vehicle.battery_low"
        filter: "event.soc < 20"

      body: |
        log.info("Vehicle {event.vehicle_did} has low battery: {event.soc}%")

        # Erstelle automatische Ladeanfrage
        let request = ChargingRequest {
          vehicle_did: event.vehicle_did,
          current_soc: event.soc,
          target_soc: 80,
          max_wait_minutes: 60
        }

        # Finde und reserviere Slot
        let result = await optimize_fleet_charging([request], 10.0, Money(0.50, "EUR"))

        if result.assignments.has(event.vehicle_did) {
          let slot = result.assignments[event.vehicle_did]
          await notify_vehicle(event.vehicle_did, slot)
        } else {
          await alert_operator("No charging slot found for {event.vehicle_did}")
        }

    on_new_member_joined:
      trigger:
        type: "environment.member_joined"
        filter: "event.environment_did == self.fleet_environment"

      body: |
        # Erstelle Ownership-Anchor Sub-Identity fÃ¼r neues Fahrzeug
        let ownership_sub = await did_derive("ownership_anchor")

        await host_call("storage.set", {
          key: "vehicle_ownership:{event.member_did}",
          value: ownership_sub
        })

        log.info("Created ownership anchor {ownership_sub} for {event.member_did}")

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # RESOURCE LIMITS (Sandbox-Konfiguration)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  resource_limits:
    max_gas: 10_000_000 # Max Instruction Count
    max_memory_mb: 64 # Max Heap Size
    max_stack_depth: 256 # Max Call Stack
    max_execution_time_ms: 5000
    max_host_calls: 100 # Max externe API-Aufrufe

    # Spezifische Limits
    max_template_instantiations: 10
    max_did_generations: 20
    max_network_requests: 50
```

### 4.6 Sandbox & Resource Metering

Die ECLVM fÃ¼hrt allen Code in einer **strikten Sandbox** aus:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ›¡ï¸ ECLVM SANDBOX ARCHITECTURE                                            â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   ğŸ”’ SECURITY BOUNDARY                                     â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                      â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚                                                   â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   AGENT PROGRAM EXECUTION                        â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚                                                   â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   â€¢ Isolierter Speicherbereich                   â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   â€¢ Kein direkter Dateizugriff                   â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   â€¢ Kein direkter Netzwerkzugriff               â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   â€¢ Nur Host-API-Calls erlaubt                   â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚                                                   â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                          â”‚                                  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                          â”‚ Host API (kontrolliert)         â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                          â–¼                                  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚                                                   â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   ğŸ” PERMISSION CHECKER                          â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚                                                   â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   â€¢ Capability-based Access Control              â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   â€¢ DID-based Authorization                      â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   â€¢ Rate Limiting per API                        â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚                                                   â”‚    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   âš¡ RESOURCE METERING                                     â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                      â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   GAS METERING (Instruction Counting)                      â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚ Operation        â”‚ Gas Cost â”‚                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚ PUSH/POP         â”‚ 1        â”‚                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚ ADD/SUB/MUL      â”‚ 3        â”‚                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚ DIV/MOD          â”‚ 5        â”‚                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚ CALL             â”‚ 10       â”‚                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚ HOST_CALL        â”‚ 100      â”‚                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚ DID_GENERATE     â”‚ 500      â”‚                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚ TEMPLATE_INST    â”‚ 1000     â”‚                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚ NETWORK_REQUEST  â”‚ 2000     â”‚                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   MEMORY ACCOUNTING                                        â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Heap allocations tracked                               â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ GC triggered at thresholds                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ OOM = Execution termination                            â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   TIME LIMITS                                              â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Wall-clock timeout                                     â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ CPU-time accounting                                    â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Preemption for long-running ops                        â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   ğŸ’¡ Jede Operation kostet "Gas" â€“ Budget erschÃ¶pft = Abbruch             â”‚
â”‚   ğŸ’¡ Speicher ist begrenzt â€“ Ãœberschreitung = OOM                         â”‚
â”‚   ğŸ’¡ Zeit ist begrenzt â€“ Timeout = Abbruch                                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.7 Hot-Code-Reload & Live-Patching

Agenten kÃ¶nnen Code **zur Laufzeit aktualisieren**:

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# HOT-CODE-RELOAD SYSTEM
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

hot_reload:
  kind: runtime_feature

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CAPABILITIES
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  capabilities:
    # Live-Update von Funktionen
    function_patching:
      description: "Ersetze einzelne Funktionen ohne Neustart"
      requires:
        - same_signature # Signatur muss gleich bleiben
        - no_breaking_changes

      process: 1. compile_new_function
        2. validate_compatibility
        3. pause_at_safe_point
        4. swap_function_pointer
        5. resume_execution

    # Schema-Evolution
    schema_evolution:
      description: "Erweitere Schemas ohne Datenverlust"
      supported_changes:
        - add_optional_field
        - add_field_with_default
        - deprecate_field
        - rename_field_with_alias

      unsupported_changes:
        - remove_required_field
        - change_field_type
        - add_required_field_without_default

    # State Migration
    state_migration:
      description: "Migriere internen State bei Updates"

      example: |
        migration:
          from_version: "1.0.0"
          to_version: "2.0.0"

          steps:
            - rename_field:
                old: "price_eur"
                new: "price"
                transform: "value => Money(value, 'EUR')"

            - add_field:
                name: "last_updated"
                default: "now()"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # VERSIONING
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  versioning:
    strategy: semantic

    rules:
      patch: # 1.0.x
        allowed:
          - bug_fixes
          - performance_improvements
        requires: auto_deploy

      minor: # 1.x.0
        allowed:
          - new_features
          - deprecations
        requires: compatibility_test

      major: # x.0.0
        allowed:
          - breaking_changes
          - architecture_changes
        requires: migration_plan

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ROLLBACK
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  rollback:
    automatic:
      triggers:
        - error_rate_spike: "> 5% within 5 minutes"
        - performance_degradation: "> 50% latency increase"
        - health_check_failure: "3 consecutive failures"

      action: |
        1. Pause incoming requests
        2. Restore previous version
        3. Replay failed transactions
        4. Resume execution
        5. Alert operators

    manual:
      command: "ecl rollback --to <version>"
      options:
        - preserve_state: bool
        - dry_run: bool
```

### 4.8 Use Cases: ECLVM in Aktion

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ“– USE CASE 1: AGENT ERSTELLT DYNAMISCH NEUE UMGEBUNG                    â”‚
â”‚                                                                             â”‚
â”‚   Ein Fleet-Manager-Agent erstellt eine private Umgebung fÃ¼r seine         â”‚
â”‚   Fahrzeugflotte zur Koordination.                                         â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   # Agent-Code (lÃ¤uft in ECLVM)                                    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   async fn setup_fleet_coordination() {                            â”‚  â”‚
â”‚   â”‚     // 1. Template laden                                           â”‚  â”‚
â”‚   â”‚     let template = await template_load(                            â”‚  â”‚
â”‚   â”‚       "did:erynoa:template:env:fleet-private:v1"                   â”‚  â”‚
â”‚   â”‚     )                                                               â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚     // 2. Parameter binden                                         â”‚  â”‚
â”‚   â”‚     template_bind("name", "munich-taxi-fleet")                     â”‚  â”‚
â”‚   â”‚     template_bind("owner", self.did)                               â”‚  â”‚
â”‚   â”‚     template_bind("governance_enabled", true)                      â”‚  â”‚
â”‚   â”‚     template_bind("karma_asymmetry", 1.5)                          â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚     // 3. Instanziieren â†’ DID wird automatisch generiert           â”‚  â”‚
â”‚   â”‚     let new_env = await template_instantiate()                     â”‚  â”‚
â”‚   â”‚     // â†’ did:erynoa:env:private:munich-taxi-fleet                  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚     // 4. Alle Fahrzeuge einladen                                  â”‚  â”‚
â”‚   â”‚     for vehicle in self.fleet.vehicles {                           â”‚  â”‚
â”‚   â”‚       await env_join(new_env.did, vehicle.did)                     â”‚  â”‚
â”‚   â”‚     }                                                               â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚     // 5. Event emittieren                                         â”‚  â”‚
â”‚   â”‚     emit_event("fleet_environment_created", {                      â”‚  â”‚
â”‚   â”‚       environment: new_env.did,                                    â”‚  â”‚
â”‚   â”‚       member_count: self.fleet.vehicles.len()                      â”‚  â”‚
â”‚   â”‚     })                                                              â”‚  â”‚
â”‚   â”‚   }                                                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   RESULT: Neue Umgebung did:erynoa:env:private:munich-taxi-fleet           â”‚
â”‚           mit Legislative/Executive und allen Fahrzeugen als Members       â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ“– USE CASE 2: DYNAMISCHE BLUEPRINT-ERSTELLUNG                           â”‚
â”‚                                                                             â”‚
â”‚   Ein Provider-Agent erstellt einen spezialisierten Blueprint fÃ¼r          â”‚
â”‚   seine Premium-Ladestationen mit zusÃ¤tzlichen Attributen.                 â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   # Agent-Code                                                     â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   async fn create_premium_station_blueprint() {                    â”‚  â”‚
â”‚   â”‚     // Basis-Blueprint erweitern                                   â”‚  â”‚
â”‚   â”‚     let base = "did:erynoa:blueprint:ev-charging-station:v1"       â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚     let custom_bp = await create_custom_blueprint(                 â”‚  â”‚
â”‚   â”‚       base_blueprint: base,                                        â”‚  â”‚
â”‚   â”‚       customizations: {                                            â”‚  â”‚
â”‚   â”‚         "premium_features": ["lounge", "wifi", "coffee"],         â”‚  â”‚
â”‚   â”‚         "min_power_kw": 150,                                       â”‚  â”‚
â”‚   â”‚         "valet_service": true                                      â”‚  â”‚
â”‚   â”‚       },                                                            â”‚  â”‚
â”‚   â”‚       new_constraints: [                                           â”‚  â”‚
â”‚   â”‚         Constraint {                                               â”‚  â”‚
â”‚   â”‚           name: "premium_uptime",                                  â”‚  â”‚
â”‚   â”‚           rule: "attributes.uptime >= 0.995"                       â”‚  â”‚
â”‚   â”‚         },                                                          â”‚  â”‚
â”‚   â”‚         Constraint {                                               â”‚  â”‚
â”‚   â”‚           name: "premium_response_time",                           â”‚  â”‚
â”‚   â”‚           rule: "attributes.avg_response_ms <= 100"                â”‚  â”‚
â”‚   â”‚         }                                                           â”‚  â”‚
â”‚   â”‚       ]                                                             â”‚  â”‚
â”‚   â”‚     )                                                               â”‚  â”‚
â”‚   â”‚     // â†’ did:erynoa:blueprint:premium-charging:abc123              â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚     // Jetzt kÃ¶nnen Stationen mit diesem Blueprint erstellt werden â”‚  â”‚
â”‚   â”‚     for location in premium_locations {                            â”‚  â”‚
â”‚   â”‚       await instantiate_station(custom_bp, location)               â”‚  â”‚
â”‚   â”‚     }                                                               â”‚  â”‚
â”‚   â”‚   }                                                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   RESULT: Neuer Blueprint did:erynoa:blueprint:premium-charging:abc123     â”‚
â”‚           der den Standard-Blueprint erweitert mit Premium-Features        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ“– USE CASE 3: RUNTIME-ADAPTATION                                        â”‚
â”‚                                                                             â”‚
â”‚   Ein Agent passt seine eigene Logik zur Laufzeit an, basierend auf        â”‚
â”‚   Performance-Metriken.                                                    â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   # Self-Modifying Agent                                           â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   event_handler on_performance_metrics(metrics) {                  â”‚  â”‚
â”‚   â”‚     if metrics.avg_latency_ms > 500 {                              â”‚  â”‚
â”‚   â”‚       // Latenz zu hoch â†’ Strategie anpassen                       â”‚  â”‚
â”‚   â”‚       log.warn("High latency detected, adapting strategy...")      â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚       // Hot-Patch der Optimierungsfunktion                        â”‚  â”‚
â”‚   â”‚       let new_optimizer = compile("""                              â”‚  â”‚
â”‚   â”‚         fn find_best_slot(request, stations, assignments) {        â”‚  â”‚
â”‚   â”‚           // Vereinfachte Version: Nimm erstbeste Station          â”‚  â”‚
â”‚   â”‚           return stations                                          â”‚  â”‚
â”‚   â”‚             .filter(s => s.available)                              â”‚  â”‚
â”‚   â”‚             .first()                                                â”‚  â”‚
â”‚   â”‚             .map(s => create_slot(s, request))                     â”‚  â”‚
â”‚   â”‚         }                                                           â”‚  â”‚
â”‚   â”‚       """)                                                          â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚       // Funktion ersetzen                                         â”‚  â”‚
â”‚   â”‚       hot_patch("find_best_slot", new_optimizer)                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚       emit_event("strategy_adapted", {                             â”‚  â”‚
â”‚   â”‚         reason: "high_latency",                                    â”‚  â”‚
â”‚   â”‚         new_strategy: "greedy"                                     â”‚  â”‚
â”‚   â”‚       })                                                            â”‚  â”‚
â”‚   â”‚     }                                                               â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚     if metrics.error_rate > 0.05 {                                 â”‚  â”‚
â”‚   â”‚       // Fehlerrate zu hoch â†’ Rollback                             â”‚  â”‚
â”‚   â”‚       log.error("Error rate too high, rolling back...")            â”‚  â”‚
â”‚   â”‚       await rollback_to_previous_version()                         â”‚  â”‚
â”‚   â”‚     }                                                               â”‚  â”‚
â”‚   â”‚   }                                                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   RESULT: Agent passt sich dynamisch an Bedingungen an                     â”‚
â”‚           ohne manuellen Eingriff oder Neustart                            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ“– USE CASE 4: MULTI-AGENT COLLABORATION                                 â”‚
â”‚                                                                             â”‚
â”‚   Mehrere Agenten erstellen gemeinsam ein neues Governance-Modell          â”‚
â”‚   fÃ¼r ihre geteilte Umgebung.                                              â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   # Agent A initiiert kollaborative Template-Erstellung            â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   async fn propose_new_governance_model() {                        â”‚  â”‚
â”‚   â”‚     // 1. Erstelle Draft-Template                                  â”‚  â”‚
â”‚   â”‚     let draft = template_create({                                  â”‚  â”‚
â”‚   â”‚       kind: "legislative_template",                                â”‚  â”‚
â”‚   â”‚       base: "did:erynoa:template:legislative:standard:v1",         â”‚  â”‚
â”‚   â”‚       modifications: {                                             â”‚  â”‚
â”‚   â”‚         karma_asymmetry: 2.0,  // Strenger                         â”‚  â”‚
â”‚   â”‚         complaint_base_penalty: -25,                               â”‚  â”‚
â”‚   â”‚         new_tier: {                                                â”‚  â”‚
â”‚   â”‚           name: "Verified Premium",                                â”‚  â”‚
â”‚   â”‚           range: [1000, 2000],                                     â”‚  â”‚
â”‚   â”‚           governance_weight: 4.0                                   â”‚  â”‚
â”‚   â”‚         }                                                           â”‚  â”‚
â”‚   â”‚       }                                                             â”‚  â”‚
â”‚   â”‚     })                                                              â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚     // 2. Erstelle Governance-Proposal                             â”‚  â”‚
â”‚   â”‚     let proposal = await host_call("governance.propose", {         â”‚  â”‚
â”‚   â”‚       environment: shared_env.did,                                 â”‚  â”‚
â”‚   â”‚       type: "legislative_change",                                  â”‚  â”‚
â”‚   â”‚       title: "Stricter Karma Model with Premium Tier",             â”‚  â”‚
â”‚   â”‚       template: draft,                                             â”‚  â”‚
â”‚   â”‚       voting_period: "P14D",                                       â”‚  â”‚
â”‚   â”‚       approval_threshold: 0.67                                     â”‚  â”‚
â”‚   â”‚     })                                                              â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚     // 3. Andere Agenten kÃ¶nnen abstimmen                          â”‚  â”‚
â”‚   â”‚     // (lÃ¤uft in deren ECLVM-Instanzen)                            â”‚  â”‚
â”‚   â”‚   }                                                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   # Agent B stimmt ab                                              â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   event_handler on_proposal_received(proposal) {                   â”‚  â”‚
â”‚   â”‚     // Analysiere Proposal                                         â”‚  â”‚
â”‚   â”‚     let impact = analyze_governance_impact(proposal.template)      â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚     if impact.net_benefit > 0 {                                    â”‚  â”‚
â”‚   â”‚       await host_call("governance.vote", {                         â”‚  â”‚
â”‚   â”‚         proposal: proposal.did,                                    â”‚  â”‚
â”‚   â”‚         vote: "for",                                               â”‚  â”‚
â”‚   â”‚         power: self.governance_power                               â”‚  â”‚
â”‚   â”‚       })                                                            â”‚  â”‚
â”‚   â”‚     }                                                               â”‚  â”‚
â”‚   â”‚   }                                                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   # Nach erfolgreicher Abstimmung â†’ Automatische Instanziierung    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   event_handler on_proposal_passed(proposal) {                     â”‚  â”‚
â”‚   â”‚     // Template wird automatisch instanziiert                      â”‚  â”‚
â”‚   â”‚     let new_legislative = await template_instantiate(              â”‚  â”‚
â”‚   â”‚       proposal.template                                            â”‚  â”‚
â”‚   â”‚     )                                                               â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚     // Ersetze aktive Legislative                                  â”‚  â”‚
â”‚   â”‚     await env_update_governance(                                   â”‚  â”‚
â”‚   â”‚       shared_env.did,                                              â”‚  â”‚
â”‚   â”‚       new_legislative                                              â”‚  â”‚
â”‚   â”‚     )                                                               â”‚  â”‚
â”‚   â”‚   }                                                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   RESULT: Dezentrale Governance-Evolution durch Agent-Collaboration        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Identity Module (`ecl/identity`) â€“ Das Universelle Fundament

Das Identity-Modul ist das **FUNDAMENT des gesamten Erynoa-Ã–kosystems**. Es definiert das universelle IdentitÃ¤tssystem, auf dem ALLE anderen Module aufbauen.

### 4.1 Universal DID Namespace System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ” UNIVERSAL DID NAMESPACE SYSTEM                                        â”‚
â”‚                                                                             â”‚
â”‚   Syntax: did:erynoa:<namespace>:<sub-namespace>:<unique-identifier>       â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   NAMESPACE              BESCHREIBUNG           BEISPIEL          â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•              â•â•â•â•â•â•â•â•â•â•â•â•           â•â•â•â•â•â•â•â•          â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ AKTEURE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   agent:seeker          Suchende Agenten       did:erynoa:agent: â”‚    â”‚
â”‚   â”‚                                                  seeker:u-abc123 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   agent:provider        Anbietende Agenten     did:erynoa:agent: â”‚    â”‚
â”‚   â”‚                                                  provider:p-xyz  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   agent:autonomous      Autonome AI-Agenten    did:erynoa:agent: â”‚    â”‚
â”‚   â”‚                                                  autonomous:ai-1 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   org                   Organisationen         did:erynoa:org:   â”‚    â”‚
â”‚   â”‚                                                  stadtwerke-muc  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   user                  NatÃ¼rliche Personen    did:erynoa:user:  â”‚    â”‚
â”‚   â”‚                                                  niklas-abc123   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ OBJEKTE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   amo:material          Physische Objekte      did:erynoa:amo:   â”‚    â”‚
â”‚   â”‚                                                  material:st-001 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   amo:credential        Soulbound Credentials  did:erynoa:amo:   â”‚    â”‚
â”‚   â”‚                                                  credential:kyc1 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   amo:service           Dienstleistungen       did:erynoa:amo:   â”‚    â”‚
â”‚   â”‚                                                  service:charge1 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   vehicle               Fahrzeuge (RWA)        did:erynoa:       â”‚    â”‚
â”‚   â”‚                                                  vehicle:vin-123 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ SCHEMAS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   blueprint             Objekt-Schemata        did:erynoa:       â”‚    â”‚
â”‚   â”‚                                                  blueprint:ev:v1 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   standard              Normen (ISO, OCPP)     did:erynoa:       â”‚    â”‚
â”‚   â”‚                                                  standard:iso:15 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ UMGEBUNGEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   env:domain            DomÃ¤nen-Umgebungen     did:erynoa:env:   â”‚    â”‚
â”‚   â”‚                                                  domain:ev-de    â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   env:network           Netzwerk-Umgebungen    did:erynoa:env:   â”‚    â”‚
â”‚   â”‚                                                  network:hubject â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   env:regulatory        Regulierte Umgebungen  did:erynoa:env:   â”‚    â”‚
â”‚   â”‚                                                  regulatory:eich â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ VERTRAUEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   vc                    Verifiable Credentials did:erynoa:vc:    â”‚    â”‚
â”‚   â”‚                                                  license:fleet-1 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   attestation           Trust-Attestationen    did:erynoa:       â”‚    â”‚
â”‚   â”‚                                                  attestation:t-1 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ Ã–KONOMIE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   wallet                Krypto-Wallets         did:erynoa:       â”‚    â”‚
â”‚   â”‚                                                  wallet:w-main   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   payment               ZahlungsstrÃ¶me         did:erynoa:       â”‚    â”‚
â”‚   â”‚                                                  payment:stream1 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ GOVERNANCE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   proposal              DAO-VorschlÃ¤ge         did:erynoa:       â”‚    â”‚
â”‚   â”‚                                                  proposal:gp-123 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   dao                   DAO-Organisationen     did:erynoa:dao:   â”‚    â”‚
â”‚   â”‚                                                  ev-charging-gov â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ OPERATIV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   intent                Agenten-Intents        did:erynoa:       â”‚    â”‚
â”‚   â”‚                                                  intent:i-abc123 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   policy                Agenten-Policies       did:erynoa:       â”‚    â”‚
â”‚   â”‚                                                  policy:p-xyz456 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   contract              Smart Contracts        did:erynoa:       â”‚    â”‚
â”‚   â”‚                                                  contract:sc-001 â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ INFRASTRUKTUR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   bridge                Cross-Chain Bridges    did:erynoa:       â”‚    â”‚
â”‚   â”‚                                                  bridge:iota-eth â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   node                  Netzwerk-Knoten        did:erynoa:node:  â”‚    â”‚
â”‚   â”‚                                                  dacs:node-eu-1  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ TESTING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   test                  Test-Suites            did:erynoa:test:  â”‚    â”‚
â”‚   â”‚                                                  suite:ev-int    â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   mock                  Mock-EntitÃ¤ten         did:erynoa:mock:  â”‚    â”‚
â”‚   â”‚                                                  agent:test-seek â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Identity-Trait: Die universelle Basisstruktur

Jede EntitÃ¤t in ECL **MUSS** den Identity-Trait implementieren:

```yaml
# ecl/identity - Basis-Trait Definition
traits:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # IDENTITY TRAIT - MUSS von JEDER EntitÃ¤t implementiert werden
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Identifiable:
    description: "Universeller Identity-Trait fÃ¼r alle Erynoa-EntitÃ¤ten"

    # Pflichtfelder
    required:
      # PrimÃ¤rer Identifikator â€“ global eindeutig, unverÃ¤nderlich
      did:
        type: did
        description: "Decentralized Identifier dieser EntitÃ¤t"
        immutable: true # Nach Erstellung nicht mehr Ã¤nderbar

      # Wer kontrolliert diese IdentitÃ¤t
      controller:
        type: did | list<did>
        description: "DID(s) mit CRUD-Rechten auf diese IdentitÃ¤t"

      # Erstellungszeitpunkt
      created_at:
        type: timestamp
        description: "Zeitpunkt der IdentitÃ¤ts-Erstellung"
        auto: true # Automatisch gesetzt bei Erstellung

    # Optionale Felder
    optional:
      # Letzte Ã„nderung
      updated_at:
        type: timestamp
        description: "Zeitpunkt der letzten Modifikation"
        auto: true

      # Semantische Versionierung
      version:
        type: semver
        description: "Version der EntitÃ¤t (major.minor.patch)"

      # Kryptografischer Beweis
      proof:
        type: Proof
        description: "Signatur des Controllers"

      # Deaktivierungs-Status
      deactivated:
        type: bool
        default: false
        description: "Ob die IdentitÃ¤t deaktiviert wurde"

      # Deaktivierungs-Zeitpunkt
      deactivated_at:
        type: optional<timestamp>
        description: "Wann die IdentitÃ¤t deaktiviert wurde"

      # Ablaufdatum
      expires_at:
        type: optional<timestamp>
        description: "Optionales Ablaufdatum der IdentitÃ¤t"

      # Metadata-Tags
      tags:
        type: list<string>
        description: "Freie Tags zur Kategorisierung"

      # Alias-Namen
      aliases:
        type: list<string>
        description: "Alternative menschenlesbare Namen"

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # SUB-IDENTITY FELDER (Hierarchische IdentitÃ¤ten)
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      # Eltern-IdentitÃ¤t (wenn dies eine Sub-Identity ist)
      parent_identity:
        type: optional<did>
        description: "DID der Eltern-IdentitÃ¤t, falls dies eine Sub-Identity ist"

      # Derivation-Tiefe (0 = Root-Identity, 1+ = Sub-Identity)
      derivation_depth:
        type: uint
        default: 0
        description: "Hierarchie-Tiefe (0 = Root, 1 = direkte Sub-ID, etc.)"

      # Derivation-Pfad (komplette Kette zur Root-Identity)
      derivation_path:
        type: optional<list<did>>
        description: "Pfad von Root-Identity zu dieser Identity"

      # Sub-Identity-Typ
      sub_identity_type:
        type: optional<SubIdentityKind>
        description: "Art der Sub-Identity (Avatar, Delegate, Ownership, etc.)"

      # Scope-BeschrÃ¤nkung (in welchen Umgebungen ist diese Sub-ID gÃ¼ltig)
      identity_scope:
        type: optional<IdentityScope>
        description: "GÃ¼ltigkeitsbereich dieser Identity"

      # Maximale Sub-Identity-Tiefe die DIESE Identity erzeugen darf
      max_sub_depth:
        type: optional<uint>
        description: "Maximale Tiefe der Sub-Identities die erzeugt werden dÃ¼rfen"

      # Erlaubte Sub-Identity-Typen die erzeugt werden dÃ¼rfen
      allowed_sub_types:
        type: optional<list<SubIdentityKind>>
        description: "Welche Arten von Sub-Identities dÃ¼rfen erzeugt werden"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # SUB-IDENTITY KIND - Arten von abgeleiteten IdentitÃ¤ten
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  SubIdentityKind:
    kind: enum
    description: "Klassifizierung der Sub-Identity-Art"
    values:
      # â”€â”€â”€ REPRÃ„SENTATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      avatar:
        description: "Virtuelle ReprÃ¤sentation in einer Umgebung"
        example: "Agent-Avatar fÃ¼r eine spezifische Domain"

      persona:
        description: "Kontext-spezifische PersÃ¶nlichkeit/Rolle"
        example: "GeschÃ¤ftliche vs. private Persona eines Users"

      proxy:
        description: "Stellvertreter-Identity fÃ¼r zeitlich begrenzte Aktionen"
        example: "TemporÃ¤rer Verhandlungs-Proxy"

      # â”€â”€â”€ DELEGATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      delegate:
        description: "Delegierte Befugnisse fÃ¼r spezifische Aufgaben"
        example: "Sub-Agent fÃ¼r autonome Verhandlungen"

      guardian:
        description: "TreuhÃ¤nder/Vormund-Identity"
        example: "Guardian fÃ¼r minderjÃ¤hrige User oder IoT-Devices"

      custodian:
        description: "Verwahrer-Identity fÃ¼r Assets"
        example: "Cold-Storage Custodian fÃ¼r Wallets"

      # â”€â”€â”€ BESITZ & EIGENTUM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      ownership_anchor:
        description: "Identity-Anker fÃ¼r Besitz-Beziehungen"
        example: "Ownership-DID fÃ¼r ein Fahrzeug oder eine Immobilie"

      asset_wrapper:
        description: "Wrapper-Identity fÃ¼r tokenisierte Assets"
        example: "DID der ein NFT/RWA reprÃ¤sentiert"

      bundle:
        description: "Zusammenfassung mehrerer Assets unter einer Identity"
        example: "Fahrzeug-Fleet als Bundle-Identity"

      # â”€â”€â”€ UMGEBUNGS-SPEZIFISCH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      environment_local:
        description: "Umgebungs-lokale Identity (nur dort gÃ¼ltig)"
        example: "Hubject-spezifische Agent-Identity"

      domain_specific:
        description: "Domain-gebundene Identity"
        example: "EV-Charging Domain Agent"

      jurisdiction_bound:
        description: "Rechtsraum-gebundene Identity"
        example: "GDPR-konformer EU-Avatar"

      # â”€â”€â”€ TEMPORAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      session:
        description: "Session-gebundene temporÃ¤re Identity"
        example: "Einmalige Charging-Session Identity"

      ephemeral:
        description: "Kurzlebige Einmal-Identity"
        example: "Anonyme Abfrage-Identity"

      # â”€â”€â”€ FUNKTIONAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      capability:
        description: "BefÃ¤higungs-Identity (trÃ¤gt spezifische Capability)"
        example: "Payment-Capability Sub-Identity"

      recovery:
        description: "Recovery-Identity fÃ¼r Wiederherstellung"
        example: "Social-Recovery Guardian Identity"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # IDENTITY SCOPE - GÃ¼ltigkeitsbereich einer Identity
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  IdentityScope:
    kind: struct
    description: "Definiert wo und wie eine Identity gÃ¼ltig ist"
    fields:
      # Umgebungs-BeschrÃ¤nkungen
      environments:
        type: optional<list<did>>
        description: "DIDs der Umgebungen in denen diese Identity gÃ¼ltig ist"

      # Zeitliche BeschrÃ¤nkung
      temporal:
        type: optional<TemporalScope>
        description: "Zeitliche GÃ¼ltigkeit"

      # Geografische BeschrÃ¤nkung
      geographic:
        type: optional<GeographicScope>
        description: "Geografischer GÃ¼ltigkeitsbereich"

      # Capability-BeschrÃ¤nkung
      capabilities:
        type: optional<list<string>>
        description: "Nur diese Capabilities darf die Sub-ID ausÃ¼ben"

      # Wert-BeschrÃ¤nkung
      value_limits:
        type: optional<ValueLimits>
        description: "Maximale Transaktionswerte"

      # Interaktions-BeschrÃ¤nkung
      interaction_scope:
        type: optional<InteractionScope>
        description: "Mit wem darf interagiert werden"

  TemporalScope:
    kind: struct
    fields:
      valid_from: timestamp
      valid_until: optional<timestamp>
      recurring: optional<RecurringSchedule> # z.B. nur Werktags 9-17 Uhr

  GeographicScope:
    kind: struct
    fields:
      countries: optional<list<string>> # ISO 3166-1 alpha-2
      geohash_areas: optional<list<string>>
      excluded_zones: optional<list<string>>

  ValueLimits:
    kind: struct
    fields:
      max_single_transaction: optional<amount>
      max_daily: optional<amount>
      max_monthly: optional<amount>
      allowed_currencies: optional<list<string>>

  InteractionScope:
    kind: struct
    fields:
      allowed_identity_types: optional<list<string>> # agent, user, org, etc.
      allowed_dids: optional<list<did>>
      blocked_dids: optional<list<did>>
      trust_threshold: optional<float> # Mindest-Trust-Score

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # PROOF TYPE - Kryptografische Signatur
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Proof:
    description: "Kryptografischer Beweis der AuthentizitÃ¤t"
    required:
      type:
        type: enum<Ed25519Signature2020, BLS12381Signature2020>

      created:
        type: timestamp

      verification_method:
        type: string # DID#key-id Format

      proof_value:
        type: bytes
```

### 4.3 Das Hierarchische Sub-Identity-System

Agenten (und andere EntitÃ¤ten) kÃ¶nnen **Sub-IdentitÃ¤ten** erzeugen - abgeleitete IdentitÃ¤ten mit eingeschrÃ¤nktem GÃ¼ltigkeitsbereich und spezifischen Zwecken.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ”— HIERARCHISCHES SUB-IDENTITY MODELL                                    â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   ROOT IDENTITY (Depth = 0)                                      â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                     â”‚    â”‚
â”‚   â”‚   did:erynoa:agent:seeker:fleet-agent-001                        â”‚    â”‚
â”‚   â”‚   â€¢ VollstÃ¤ndige Befugnisse                                      â”‚    â”‚
â”‚   â”‚   â€¢ Controller: Organization                                      â”‚    â”‚
â”‚   â”‚   â€¢ Kann Sub-Identities erzeugen                                 â”‚    â”‚
â”‚   â”‚                    â”‚                                              â”‚    â”‚
â”‚   â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚    â”‚
â”‚   â”‚         â”‚                               â”‚                        â”‚    â”‚
â”‚   â”‚         â–¼                               â–¼                        â”‚    â”‚
â”‚   â”‚   SUB-IDENTITY (Depth = 1)       SUB-IDENTITY (Depth = 1)       â”‚    â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚    â”‚
â”‚   â”‚   did:erynoa:sub:avatar:         did:erynoa:sub:delegate:       â”‚    â”‚
â”‚   â”‚     fleet-agent-001:hubject        fleet-agent-001:negotiator   â”‚    â”‚
â”‚   â”‚   â€¢ Typ: avatar                  â€¢ Typ: delegate                â”‚    â”‚
â”‚   â”‚   â€¢ Scope: Hubject Network       â€¢ Scope: EV-Charging-DE        â”‚    â”‚
â”‚   â”‚   â€¢ Capabilities: discover,      â€¢ Capabilities: negotiate,     â”‚    â”‚
â”‚   â”‚       negotiate, reserve           sign_contract                 â”‚    â”‚
â”‚   â”‚                    â”‚                                              â”‚    â”‚
â”‚   â”‚                    â–¼                                              â”‚    â”‚
â”‚   â”‚   SUB-IDENTITY (Depth = 2)                                       â”‚    â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                        â”‚    â”‚
â”‚   â”‚   did:erynoa:sub:session:                                        â”‚    â”‚
â”‚   â”‚     fleet-agent-001:hubject:session-2025-01-28                   â”‚    â”‚
â”‚   â”‚   â€¢ Typ: session                                                 â”‚    â”‚
â”‚   â”‚   â€¢ Scope: Single charging session                               â”‚    â”‚
â”‚   â”‚   â€¢ expires_at: 2025-01-28T16:00:00Z                            â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚   ğŸ’¡ DERIVATION PATH: Root â†’ Avatar (Hubject) â†’ Session                    â”‚
â”‚      Jede Ebene schrÃ¤nkt Befugnisse weiter ein (Principle of Least Priv)  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.3.1 Sub-Identity DID-Schema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ·ï¸ SUB-IDENTITY DID NAMESPACES                                          â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   NAMESPACE           VERWENDUNG                 BEISPIEL         â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•           â•â•â•â•â•â•â•â•â•â•                 â•â•â•â•â•â•â•â•         â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   sub:avatar          Umgebungs-ReprÃ¤sentation   did:erynoa:sub:  â”‚    â”‚
â”‚   â”‚                                                   avatar:parent:  â”‚    â”‚
â”‚   â”‚                                                   env-name        â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   sub:delegate        Delegierte Befugnisse      did:erynoa:sub:  â”‚    â”‚
â”‚   â”‚                                                   delegate:parent â”‚    â”‚
â”‚   â”‚                                                   :role-name      â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   sub:ownership       Besitz-Anker               did:erynoa:sub:  â”‚    â”‚
â”‚   â”‚                                                   ownership:owner â”‚    â”‚
â”‚   â”‚                                                   :asset-did-hash â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   sub:session         Session-Identity           did:erynoa:sub:  â”‚    â”‚
â”‚   â”‚                                                   session:parent: â”‚    â”‚
â”‚   â”‚                                                   session-id      â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   sub:capability      Capability-TrÃ¤ger          did:erynoa:sub:  â”‚    â”‚
â”‚   â”‚                                                   capability:     â”‚    â”‚
â”‚   â”‚                                                   parent:cap-name â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   sub:proxy           TemporÃ¤rer Stellvertreter  did:erynoa:sub:  â”‚    â”‚
â”‚   â”‚                                                   proxy:parent:   â”‚    â”‚
â”‚   â”‚                                                   purpose         â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   sub:bundle          Asset-BÃ¼ndel               did:erynoa:sub:  â”‚    â”‚
â”‚   â”‚                                                   bundle:owner:   â”‚    â”‚
â”‚   â”‚                                                   bundle-name     â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.3.2 Sub-Identity Creation (Erzeugung von Sub-IdentitÃ¤ten)

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# SUB-IDENTITY CREATION - Wie Agenten Sub-IdentitÃ¤ten erzeugen
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

sub_identity_creation:
  kind: sub_identity_factory

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CREATOR REQUIREMENTS (Wer darf Sub-IDs erzeugen)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  creator_requirements:
    # Minimale Identity-Eigenschaften
    min_identity_age: "P30D" # Mindestens 30 Tage alt
    min_trust_score: 0.5 # Mindest-Trust

    # Nicht deaktiviert
    must_be_active: true

    # Maximale Sub-Identity Tiefe beachten
    check_max_depth: true

    # Erlaubte Sub-Identity Typen beachten
    check_allowed_types: true

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # DID GENERATION RULES
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did_generation:
    # Schema: did:erynoa:sub:<type>:<parent-id-hash>:<unique-suffix>
    format: "did:erynoa:sub:{sub_type}:{parent_hash}:{purpose_or_id}"

    parent_hash:
      algorithm: sha256
      truncate_to: 8 # Nur erste 8 Zeichen des Hashes

    unique_suffix:
      strategy: purpose_based # purpose_based | random | timestamp

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # AUTHORITY INHERITANCE (Befugnisvererbung)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  authority_inheritance:
    # Grundprinzip: Sub-ID kann NIEMALS mehr Rechte haben als Parent
    principle: "least_privilege"

    # Vererbbare Eigenschaften
    inheritable:
      - capabilities # Gefiltert durch Sub-ID Scope
      - credentials # Nur wenn explizit delegiert
      - trust_score # Anteilig (inheritance_factor)
      - wallet_access # Nur mit expliziter Delegation

    # Trust-Vererbung
    trust_inheritance:
      factor: 0.7 # Sub-ID erbt 70% des Parent-Trust als Basis
      cap: 0.9 # Maximal 90% des Parent-Trust
      floor: 0.1 # Mindestens 10% wenn Parent aktiv

    # Nicht vererbbar
    non_inheritable:
      - controller # Sub-ID hat eigenen Controller (= Parent)
      - recovery_methods # Sub-ID Recovery Ã¼ber Parent
      - root_privileges # Niemals Root-Rechte vererben

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # LIFECYCLE BINDING (Lebenszyklus-Kopplung)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  lifecycle_binding:
    # Wenn Parent deaktiviert wird
    on_parent_deactivation:
      - cascade_deactivate: true # Sub-IDs werden auch deaktiviert
      - grace_period: "P1D" # 1 Tag Karenzzeit fÃ¼r Cleanup

    # Wenn Parent Credentials verliert
    on_parent_credential_revocation:
      - recalculate_scope: true # Scope der Sub-IDs neu berechnen
      - revoke_dependent: true # AbhÃ¤ngige Capabilities entfernen

    # Wenn Parent Controller wechselt
    on_parent_controller_change:
      - reauthorize_required: true # Sub-IDs mÃ¼ssen neu autorisiert werden
```

#### 4.3.3 Konkrete Sub-Identity Beispiele

```yaml
ecl_version: "2.0"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# BEISPIEL 1: Avatar fÃ¼r virtuelle Umgebung
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sub_identity:
  kind: sub_identity

  # Identity-Trait (geerbt + erweitert)
  did: "did:erynoa:sub:avatar:a1b2c3d4:hubject-network"
  controller: "did:erynoa:agent:seeker:fleet-agent-001"  # Parent ist Controller
  created_at: "2025-01-28T10:00:00Z"
  version: "1.0.0"

  # Sub-Identity spezifische Felder
  parent_identity: "did:erynoa:agent:seeker:fleet-agent-001"
  derivation_depth: 1
  derivation_path:
    - "did:erynoa:agent:seeker:fleet-agent-001"
  sub_identity_type: avatar

  # Metadata
  metadata:
    name: "Fleet Agent 001 - Hubject Avatar"
    description: "Umgebungs-spezifische ReprÃ¤sentation fÃ¼r Hubject Intercharge"
    purpose: "EV Charging Discovery & Negotiation in Hubject Network"

  # Scope-BeschrÃ¤nkung
  identity_scope:
    environments:
      - "did:erynoa:env:network:hubject-intercharge"

    temporal:
      valid_from: "2025-01-28T00:00:00Z"
      valid_until: "2026-01-28T00:00:00Z"

    capabilities:
      - discover_providers
      - negotiate_charging
      - reserve_slot
      - initiate_session
      # NICHT: sign_long_term_contract, manage_fleet, etc.

    value_limits:
      max_single_transaction: "500 EUR"
      max_daily: "2000 EUR"
      allowed_currencies: [EUR, USDC]

    interaction_scope:
      allowed_identity_types: [agent, org]
      trust_threshold: 0.6

  # Verification Methods (abgeleitet vom Parent, aber eingeschrÃ¤nkt)
  verification_methods:
    - id: "#key-avatar"
      type: Ed25519VerificationKey2020
      controller: self
      public_key_multibase: "z6MkAvatarKey..."
      # Dieser SchlÃ¼ssel wurde vom Parent-SchlÃ¼ssel abgeleitet
      derived_from: "did:erynoa:agent:seeker:fleet-agent-001#key-primary"

  # Services (Avatar-spezifisch)
  services:
    - id: "#hubject-endpoint"
      type: HubjectRoaming
      service_endpoint: "https://agent.fleetco.de/hubject/v1"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# BEISPIEL 2: Ownership-Anchor fÃ¼r Asset-Besitz
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sub_identity:
  kind: sub_identity

  did: "did:erynoa:sub:ownership:e5f6g7h8:vehicle-wvw123"
  controller: "did:erynoa:user:max-mueller"
  created_at: "2025-01-15T14:00:00Z"
  version: "1.0.0"

  parent_identity: "did:erynoa:user:max-mueller"
  derivation_depth: 1
  derivation_path:
    - "did:erynoa:user:max-mueller"
  sub_identity_type: ownership_anchor

  metadata:
    name: "Max MÃ¼ller - Fahrzeug Ownership"
    description: "Ownership-Identity fÃ¼r Fahrzeug VIN WVWZZZ3CZWE123456"
    asset_type: vehicle
    asset_reference: "did:erynoa:vehicle:vin-WVWZZZ3CZWE123456"

  # Ownership-spezifische Konfiguration
  ownership_config:
    # Das Asset dessen Besitz diese Identity reprÃ¤sentiert
    asset_did: "did:erynoa:vehicle:vin-WVWZZZ3CZWE123456"

    # Art des Besitzes
    ownership_type: full_ownership  # full_ownership | co_ownership | lease | custody

    # Erwerbszeitpunkt
    acquired_at: "2025-01-15T14:00:00Z"

    # Rechte die mit diesem Besitz verbunden sind
    ownership_rights:
      - use               # Nutzungsrecht
      - transfer          # Ãœbertragungsrecht
      - encumber          # Belastungsrecht (Pfand, etc.)
      - destroy           # Vernichtungsrecht
      - derive_income     # Recht auf ErtrÃ¤ge

    # EinschrÃ¤nkungen
    restrictions:
      - type: lease_restriction
        description: "Fahrzeug ist geleast - Ãœbertragung nur mit Lessor-Zustimmung"
        restrictor: "did:erynoa:org:leasing-bank-abc"
        until: "2028-01-15T00:00:00Z"

  # Relationships: Diese Ownership-ID ist an das Asset gebunden
  relationships:
    - type: owns
      target: "did:erynoa:vehicle:vin-WVWZZZ3CZWE123456"

    - type: encumbered_by
      target: "did:erynoa:org:leasing-bank-abc"
      details:
        type: lease_agreement
        agreement_did: "did:erynoa:contract:lease-2025-001"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# BEISPIEL 3: Delegate Sub-Identity fÃ¼r autonome Verhandlungen
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sub_identity:
  kind: sub_identity

  did: "did:erynoa:sub:delegate:i9j0k1l2:autonomous-negotiator"
  controller: "did:erynoa:agent:seeker:fleet-agent-001"
  created_at: "2025-01-28T08:00:00Z"
  expires_at: "2025-01-28T20:00:00Z"  # Nur heute gÃ¼ltig
  version: "1.0.0"

  parent_identity: "did:erynoa:agent:seeker:fleet-agent-001"
  derivation_depth: 1
  derivation_path:
    - "did:erynoa:agent:seeker:fleet-agent-001"
  sub_identity_type: delegate

  metadata:
    name: "Fleet Agent 001 - Autonomous Negotiator"
    description: "Delegierte Identity fÃ¼r vollautonome Preisverhandlungen"
    delegation_purpose: "automated_price_negotiation"

  # Delegation-spezifische Konfiguration
  delegation_config:
    # Delegation-Art
    delegation_type: autonomous  # supervised | autonomous | hybrid

    # Spezifische delegierte Capabilities
    delegated_capabilities:
      - capability: price_negotiation
        constraints:
          max_price_per_kwh: "0.50 EUR"
          preferred_price_per_kwh: "0.35 EUR"

      - capability: slot_reservation
        constraints:
          max_duration_hours: 4

      - capability: contract_signing
        constraints:
          max_value: "200 EUR"
          requires_template: "did:erynoa:contract:template:charging-session-v1"

    # Autonomie-Parameter
    autonomy_parameters:
      # Wann muss der Parent konsultiert werden?
      escalation_triggers:
        - condition: "transaction_value > 100 EUR"
          action: request_approval
          timeout: "PT5M"  # 5 Minuten warten

        - condition: "provider_trust_score < 0.7"
          action: request_approval
          timeout: "PT2M"

        - condition: "unusual_terms_detected"
          action: notify_and_proceed

      # Default-Verhalten wenn Parent nicht erreichbar
      fallback_behavior: conservative  # abort | conservative | proceed

      # Reporting
      reporting:
        frequency: per_transaction
        report_to: "did:erynoa:agent:seeker:fleet-agent-001"

  identity_scope:
    environments:
      - "did:erynoa:env:domain:ev-charging-de"
      - "did:erynoa:env:network:hubject-intercharge"

    temporal:
      valid_from: "2025-01-28T08:00:00Z"
      valid_until: "2025-01-28T20:00:00Z"
      recurring:
        pattern: "weekdays"
        hours: "08:00-20:00"

    value_limits:
      max_single_transaction: "200 EUR"
      max_daily: "1000 EUR"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# BEISPIEL 4: Session Sub-Identity (Ephemer)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sub_identity:
  kind: sub_identity

  did: "did:erynoa:sub:session:m3n4o5p6:charging-20250128-143052"
  controller: "did:erynoa:sub:avatar:a1b2c3d4:hubject-network"  # Avatar ist Controller!
  created_at: "2025-01-28T14:30:52Z"
  expires_at: "2025-01-28T18:30:52Z"  # Max 4 Stunden
  version: "1.0.0"

  # Tiefe 2: User â†’ Avatar â†’ Session
  parent_identity: "did:erynoa:sub:avatar:a1b2c3d4:hubject-network"
  derivation_depth: 2
  derivation_path:
    - "did:erynoa:agent:seeker:fleet-agent-001"    # Root
    - "did:erynoa:sub:avatar:a1b2c3d4:hubject-network"  # Depth 1
  sub_identity_type: session

  # Diese Sub-ID darf KEINE weiteren Sub-IDs erzeugen
  max_sub_depth: 0
  allowed_sub_types: []

  metadata:
    name: "Charging Session 2025-01-28-143052"
    description: "Einzelne Lade-Session an Station Munich-001"
    session_type: ev_charging

  # Session-spezifische Konfiguration
  session_config:
    # ZugehÃ¶rige EntitÃ¤ten dieser Session
    session_participants:
      seeker: "did:erynoa:sub:avatar:a1b2c3d4:hubject-network"
      provider: "did:erynoa:agent:provider:station-munich-001"
      asset: "did:erynoa:vehicle:vin-WVWZZZ3CZWE123456"
      charging_point: "did:erynoa:amo:material:cp-munich-001-02"

    # Session-Parameter
    parameters:
      max_energy_kwh: 60
      max_duration_minutes: 240
      target_soc_percent: 80
      max_price_total: "40 EUR"

    # Session-Status (wird aktualisiert)
    status: active  # pending | active | paused | completed | aborted

    # Audit-Trail fÃ¼r diese Session
    audit_trail:
      enabled: true
      storage: "did:erynoa:storage:session-audit"

  identity_scope:
    environments:
      - "did:erynoa:env:network:hubject-intercharge"

    temporal:
      valid_from: "2025-01-28T14:30:52Z"
      valid_until: "2025-01-28T18:30:52Z"

    capabilities:
      - session_control   # Start, Pause, Stop
      - meter_reading     # ZÃ¤hlerstand lesen
      - payment_execute   # Zahlung fÃ¼r diese Session
      # SEHR eingeschrÃ¤nkt!

    value_limits:
      max_single_transaction: "50 EUR"

    interaction_scope:
      allowed_dids:
        - "did:erynoa:agent:provider:station-munich-001"
        - "did:erynoa:amo:material:cp-munich-001-02"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# BEISPIEL 5: Bundle Sub-Identity (Asset-Zusammenfassung)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sub_identity:
  kind: sub_identity

  did: "did:erynoa:sub:bundle:q7r8s9t0:fleet-north"
  controller: "did:erynoa:org:fleetco-gmbh"
  created_at: "2025-01-01T00:00:00Z"
  version: "2.0.0"

  parent_identity: "did:erynoa:org:fleetco-gmbh"
  derivation_depth: 1
  derivation_path:
    - "did:erynoa:org:fleetco-gmbh"
  sub_identity_type: bundle

  metadata:
    name: "FleetCo North - Vehicle Bundle"
    description: "Zusammenfassung aller Fahrzeuge der Norddeutschland-Flotte"
    bundle_type: vehicle_fleet

  # Bundle-spezifische Konfiguration
  bundle_config:
    # Mitglieder dieses Bundles
    members:
      static:
        - "did:erynoa:vehicle:vin-WVWZZZ3CZWE123456"
        - "did:erynoa:vehicle:vin-WVWZZZ3CZWE123457"
        - "did:erynoa:vehicle:vin-WVWZZZ3CZWE123458"
        - "did:erynoa:vehicle:vin-WVWZZZ3CZWE123459"
        - "did:erynoa:vehicle:vin-WVWZZZ3CZWE123460"

      # Dynamische Mitgliedschaft basierend auf Kriterien
      dynamic:
        query: |
          SELECT did FROM vehicles
          WHERE owner = 'did:erynoa:org:fleetco-gmbh'
          AND region = 'north'
          AND status = 'active'

    # Bundle-Aggregationen
    aggregations:
      total_vehicles: 42
      total_value: "2.100.000 EUR"
      average_trust_score: 0.87

    # Bundle-Level Capabilities (gelten fÃ¼r alle Mitglieder)
    bundle_capabilities:
      - fleet_management
      - bulk_charging_negotiation
      - fleet_analytics

    # Wer kann Mitglieder hinzufÃ¼gen/entfernen
    membership_management:
      add_members:
        - "did:erynoa:org:fleetco-gmbh"
        - "did:erynoa:user:fleet-manager-anna"
      remove_members:
        - "did:erynoa:org:fleetco-gmbh"

  # Dieses Bundle kann selbst Sub-Avatare fÃ¼r Umgebungen erzeugen
  max_sub_depth: 1
  allowed_sub_types:
    - avatar
    - delegate

  identity_scope:
    geographic:
      countries: [DE]
      geohash_areas: ["u1", "u2", "u3"]  # Norddeutschland
```

#### 4.3.4 Sub-Identity Verification Chain

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# VERIFICATION CHAIN - Wie Sub-Identities verifiziert werden
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

verification_chain:
  kind: verification_chain_config

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CHAIN VALIDATION (Ketten-Validierung)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  chain_validation:
    # Jede Sub-ID muss eine vollstÃ¤ndige Kette zur Root haben
    require_complete_chain: true

    # Maximale Ketten-Tiefe
    max_chain_depth: 5

    # Validierungs-Schritte
    validation_steps:
      1_verify_did_format:
        description: "DID muss dem Sub-Identity Format entsprechen"
        check: "did.matches('did:erynoa:sub:.*')"

      2_verify_parent_exists:
        description: "Parent-Identity muss existieren und aktiv sein"
        check: "resolve(parent_identity).active == true"

      3_verify_derivation_path:
        description: "Derivation-Path muss konsistent sein"
        check: "derivation_path[-1] == parent_identity"

      4_verify_depth_consistency:
        description: "Derivation-Depth muss mit Path-LÃ¤nge Ã¼bereinstimmen"
        check: "derivation_depth == len(derivation_path)"

      5_verify_authority_chain:
        description: "Jede Ebene muss die nÃ¤chste autorisiert haben"
        check: "for each i in path: path[i].controller == path[i-1].did"

      6_verify_scope_narrowing:
        description: "Scope darf nur enger werden, nie weiter"
        check: "identity_scope.is_subset_of(parent.identity_scope)"

      7_verify_capability_subset:
        description: "Capabilities mÃ¼ssen Subset der Parent-Capabilities sein"
        check: "capabilities.is_subset_of(parent.capabilities)"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # PROOF CHAIN (Kryptografische Beweiskette)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  proof_chain:
    # Jede Sub-ID braucht Signatur vom Parent
    require_parent_signature: true

    # Proof-Struktur
    proof_structure:
      type: ChainedProof

      proofs:
        # 1. Selbst-Signatur (eigener SchlÃ¼ssel)
        self_proof:
          type: Ed25519Signature2020
          verification_method: "#key-self"
          purpose: authentication

        # 2. Parent-Autorisierung
        parent_authorization:
          type: Ed25519Signature2020
          verification_method: "parent_did#key-delegation"
          purpose: capability_delegation

        # 3. Optional: Root-Attestation fÃ¼r kritische Sub-IDs
        root_attestation:
          required_for: [delegate, ownership_anchor, custodian]
          type: Ed25519Signature2020
          verification_method: "root_did#key-primary"
          purpose: assertion_method
```

### 4.4 Identity Document (DID Document)

VollstÃ¤ndige DID-Dokument-Definition:

```yaml
ecl_version: "2.0"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# IDENTITY DOCUMENT - VollstÃ¤ndiges DID-Dokument
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
identity:
  kind: did_document

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY-TRAIT (Pflicht)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did: "did:erynoa:vehicle:vin-WVWZZZ3CZWE123456"
  controller: "did:erynoa:org:fleetco-gmbh"
  created_at: "2025-01-15T08:00:00Z"
  updated_at: "2025-06-01T14:30:00Z"
  version: "1.0.0"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # VERIFICATION METHODS - Kryptografische SchlÃ¼ssel
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  verification_methods:
    # PrimÃ¤rer SchlÃ¼ssel fÃ¼r alltÃ¤gliche Operationen
    - id: "#key-primary"
      type: Ed25519VerificationKey2020
      controller: self # Dieser DID kontrolliert den SchlÃ¼ssel
      public_key_multibase: "z6Mkf5rGMoatrSj1f..."

    # Recovery-SchlÃ¼ssel (von Controller-Org verwaltet)
    - id: "#key-recovery"
      type: Ed25519VerificationKey2020
      controller: "did:erynoa:org:fleetco-gmbh"
      public_key_multibase: "z6Mkg8sJk..."

    # Hardware-Security-Module fÃ¼r High-Security Operations
    - id: "#key-hsm"
      type: Ed25519VerificationKey2020
      controller: self
      public_key_multibase: "z6Mkp9Xyz..."
      hardware_bound: true

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # VERIFICATION RELATIONSHIPS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  authentication:
    - "#key-primary"
    - "#key-hsm"

  assertion_method:
    - "#key-primary"

  key_agreement:
    - "#key-primary"

  capability_invocation:
    - "#key-hsm"

  capability_delegation:
    - "#key-primary"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # SERVICE ENDPOINTS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  services:
    # Agent-Endpoint fÃ¼r Erynoa-Interaktionen
    - id: "#eryn-agent"
      type: ErynAgent
      service_endpoint: "https://agent.fleetco.de/v1"
      description: "PrimÃ¤rer Agent-Endpoint"

    # Multi-Chain Wallet
    - id: "#wallet"
      type: MultiChainWallet
      service_endpoint: "erynoa://wallet/vehicle-456"

    # Trust-Attestation-Endpoint
    - id: "#trust-endpoint"
      type: TrustAttestation
      service_endpoint: "https://trust.fleetco.de/api"

    # OCPP-Integration (Ladeinfrastruktur)
    - id: "#ocpp"
      type: OCPP2Point0
      service_endpoint: "wss://ocpp.fleetco.de/vehicle-456"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # MULTI-CHAIN ANCHORING (DACS)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  anchoring:
    # PrimÃ¤re Chain: VollstÃ¤ndiges DID Document
    primary:
      chain: iota_rebased
      address: "iota1qpfyv8t5r..."
      tx_id: "0x8f7e6d5c..."
      block_height: 1234567

    # SekundÃ¤re Chains: Hash-Anker
    secondary:
      - chain: ethereum_l2
        contract: "0x7a9b8c7d..."
        anchor_hash: "0xabc123..."

      - chain: solana
        program: "ErynoaAnchor..."
        anchor_hash: "5Ufm7Zb..."

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY RELATIONSHIPS (VerknÃ¼pfungen zu anderen IdentitÃ¤ten)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  relationships:
    # Dieses Fahrzeug gehÃ¶rt zu einer Flotte
    - type: member_of
      target: "did:erynoa:org:fleetco-gmbh"

    # PrimÃ¤rer Nutzer
    - type: operated_by
      target: "did:erynoa:user:driver-max-mueller"

    # ZugehÃ¶rige Umgebungen
    - type: participates_in
      target: "did:erynoa:env:domain:ev-charging-de"

    # Implementierter Blueprint
    - type: instantiates
      target: "did:erynoa:blueprint:vehicle:ev:v2"
```

### 4.4 Verifiable Credentials mit Identity

Credentials sind ebenfalls vollstÃ¤ndig identitÃ¤tsbasiert:

````yaml
ecl_version: "2.0"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# VERIFIABLE CREDENTIAL - Mit vollstÃ¤ndiger IdentitÃ¤t
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
credential:
  kind: verifiable_credential

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY-TRAIT (Pflicht)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did: "did:erynoa:vc:license:fleet-op-2025-001"
  controller: "did:erynoa:authority:kba-germany"
  created_at: "2025-01-15T10:00:00Z"
  version: "1.0.0"
  expires_at: "2027-01-15T10:00:00Z"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CREDENTIAL METADATA
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  type: [VerifiableCredential, FleetOperatorLicense]
  issuer: "did:erynoa:authority:kba-germany"
  issuance_date: "2025-01-15T10:00:00Z"
  expiration_date: "2027-01-15T10:00:00Z"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CREDENTIAL SUBJECT
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  subject:
    # Wer erhÃ¤lt diese Credential?
    id: "did:erynoa:org:fleetco-gmbh"

    # Die eigentlichen Claims
    claims:
      license_type: fleet_operator
      max_vehicles: 500
      vehicle_classes: [M1, N1, N2]
      jurisdictions: [DE, AT, CH]

      # Verschachtelte Berechtigungen
      permissions:
        commercial_use: true
        cross_border: true
        hazardous_goods: false

      # EinschrÃ¤nkungen
      restrictions:
        - type: temporal
          valid_hours: "06:00-22:00"
        - type: geographic
          excluded_zones: ["restricted:military-*"]

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CREDENTIAL STATUS (Revocation)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  credential_status:
    type: RevocationList2023
    id: "did:erynoa:vc:revocation:kba-germany-2025#12345"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # PROOF (Signatur)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  proof:
    type: Ed25519Signature2020
    created: "2025-01-15T10:05:00Z"
    verification_method: "did:erynoa:authority:kba-germany#key-issuing"
    proof_purpose: assertionMethod
    proof_value: "z4oJ5C..."

### 4.5 Identity Lifecycle Management

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# IDENTITY LIFECYCLE - Lebenszyklus-Operationen
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

lifecycle:
  kind: identity_lifecycle

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CREATION - Wie IdentitÃ¤ten erstellt werden
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  creation:
    # DID-Generierung
    did_generation:
      strategy: deterministic  # deterministic | random | custom

      # Bei deterministisch: Wie wird der Identifier berechnet?
      deterministic_input:
        - namespace  # Aus der Art der EntitÃ¤t
        - controller_did  # Controller-AbhÃ¤ngig
        - content_hash  # Inhaltshash fÃ¼r Deduplizierung

    # Mindestanforderungen fÃ¼r Erstellung
    requirements:
      - "controller_must_sign"  # Controller muss signieren
      - "verification_method_required"  # Min. 1 SchlÃ¼ssel

    # Auto-Anchoring bei Erstellung
    auto_anchor:
      enabled: true
      chains: [iota_rebased]  # Mindestens Primary Chain

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # UPDATE - Wie IdentitÃ¤ten aktualisiert werden
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  update:
    # Was DARF geÃ¤ndert werden
    mutable_fields:
      - controller
      - verification_methods
      - services
      - relationships
      - version

    # Was NICHT geÃ¤ndert werden darf
    immutable_fields:
      - did
      - created_at

    # Update-Berechtigung
    authorization:
      required_relationship: capability_invocation

    # Versionierung
    versioning:
      strategy: semantic  # semantic | timestamp | counter
      auto_increment: minor  # Bei Updates: minor erhÃ¶hen

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # DEACTIVATION - Wie IdentitÃ¤ten deaktiviert werden
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  deactivation:
    # Deaktivieren statt LÃ¶schen (GDPR-konform)
    soft_delete: true

    # Was passiert bei Deaktivierung
    on_deactivate:
      - set_deactivated: true
      - set_deactivated_at: now
      - revoke_all_credentials: true
      - notify_relationships: true

    # Wer darf deaktivieren
    authorization:
      - controller
      - governance_authority  # Bei Dispute/Legal

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # RECOVERY - SchlÃ¼ssel-Wiederherstellung
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  recovery:
    # Recovery-Methoden
    methods:
      # Social Recovery (m-of-n Kontakte)
      - type: social_recovery
        threshold: 3
        total_guardians: 5
        guardian_did_pattern: "did:erynoa:user:*"

      # Controller-Recovery
      - type: controller_recovery
        allowed_controllers:
          - "did:erynoa:org:fleetco-gmbh"
          - "did:erynoa:authority:dacs-registry"

    # Cooldown nach Recovery
    cooldown_period: "P7D"  # 7 Tage
````

### 4.6 Identity Resolution & Discovery

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# IDENTITY RESOLUTION - Wie DIDs aufgelÃ¶st werden
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

resolution:
  kind: resolution_config

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # RESOLVER KONFIGURATION
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  resolvers:
    # DACS Network Resolver (Primary)
    - type: dacs_network
      priority: 1
      endpoints:
        - "dacs://resolver.erynoa.network"
        - "dacs://resolver-eu.erynoa.network"
      timeout: "PT5S"

    # IOTA Resolver (Fallback)
    - type: iota_rebased
      priority: 2
      endpoint: "https://iota.erynoa.network/resolve"

    # Local Cache
    - type: local_cache
      priority: 0 # HÃ¶chste PrioritÃ¤t
      ttl: "PT5M"
      max_entries: 10000

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # DISCOVERY KONFIGURATION
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  discovery:
    # DHT-basierte Discovery
    dht:
      enabled: true
      protocol: kademlia
      bootstrap_nodes:
        - "/dns4/bootstrap.erynoa.network/tcp/4001/p2p/12D3KooW..."

    # Geohash-basierte Discovery fÃ¼r lokale Entities
    geohash:
      enabled: true
      precision: 6

    # Registry-basierte Discovery
    registry:
      enabled: true
      registries:
        - "did:erynoa:env:domain:ev-charging-de" # Domain-Registry
        - "did:erynoa:env:network:hubject" # Network-Registry
```

### 4.7 Cross-Entity Identity Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ”— IDENTITY RELATIONSHIP TYPES                                           â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   RELATIONSHIP TYPE      VON â†’ ZU                   SEMANTIK      â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â•â•â•â•â•â•â•â•â•â•â•                â•â•â•â•â•â•â•â•      â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ HIERARCHISCH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   controller             Any â†’ Any                  Kontrolliert  â”‚    â”‚
â”‚   â”‚   controlled_by          Any â†’ Any                  Wird kontroll.â”‚    â”‚
â”‚   â”‚   parent                 Env â†’ Env                  Eltern-Env    â”‚    â”‚
â”‚   â”‚   child                  Env â†’ Env                  Kind-Env      â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ SUB-IDENTITY HIERARCHIE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   derives_from           SubID â†’ Any                Abgeleitet    â”‚    â”‚
â”‚   â”‚   has_derived            Any â†’ SubID                Hat abgeleitetâ”‚    â”‚
â”‚   â”‚   root_identity          SubID â†’ RootID             Root-Referenz â”‚    â”‚
â”‚   â”‚   avatar_of              Avatar â†’ Agent             Avatar von    â”‚    â”‚
â”‚   â”‚   has_avatar             Agent â†’ Avatar             Hat Avatar    â”‚    â”‚
â”‚   â”‚   delegate_of            Delegate â†’ Agent           Delegat von   â”‚    â”‚
â”‚   â”‚   has_delegate           Agent â†’ Delegate           Hat Delegat   â”‚    â”‚
â”‚   â”‚   session_of             Session â†’ Avatar           Session von   â”‚    â”‚
â”‚   â”‚   has_session            Avatar â†’ Session           Hat Session   â”‚    â”‚
â”‚   â”‚   bundle_of              Bundle â†’ Owner             Bundle von    â”‚    â”‚
â”‚   â”‚   has_bundle             Owner â†’ Bundle             Hat Bundle    â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ ZUGEHÃ–RIGKEIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   member_of              Agent â†’ Org                Mitglied      â”‚    â”‚
â”‚   â”‚   has_member             Org â†’ Agent                Hat Mitglied  â”‚    â”‚
â”‚   â”‚   participates_in        Any â†’ Env                  Teilnimmt     â”‚    â”‚
â”‚   â”‚   has_participant        Env â†’ Any                  Hat Teilnehmerâ”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ BESITZ & EIGENTUM (via Sub-Identity) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   owns                   Agent â†’ AMO                Besitzt       â”‚    â”‚
â”‚   â”‚   owned_by               AMO â†’ Agent                GehÃ¶rt        â”‚    â”‚
â”‚   â”‚   ownership_anchor_for   OwnershipID â†’ Asset        Anker fÃ¼r     â”‚    â”‚
â”‚   â”‚   has_ownership_anchor   Asset â†’ OwnershipID        Hat Anker     â”‚    â”‚
â”‚   â”‚   co_owns                Agent â†’ AMO                Mit-Besitz    â”‚    â”‚
â”‚   â”‚   leases                 Agent â†’ AMO                Least         â”‚    â”‚
â”‚   â”‚   leased_from            AMO â†’ Agent                Geleast von   â”‚    â”‚
â”‚   â”‚   custodian_of           Custodian â†’ Asset          Verwahrer von â”‚    â”‚
â”‚   â”‚   in_custody_of          Asset â†’ Custodian          Verwahrt bei  â”‚    â”‚
â”‚   â”‚   encumbered_by          Asset â†’ Encumbrance        Belastet durchâ”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ INSTANZIIERUNG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   instantiates           AMO â†’ Blueprint            Instanz von   â”‚    â”‚
â”‚   â”‚   has_instance           Blueprint â†’ AMO            Hat Instanz   â”‚    â”‚
â”‚   â”‚   conforms_to            Blueprint â†’ Standard       Konform mit   â”‚    â”‚
â”‚   â”‚   defines                Standard â†’ Blueprint       Definiert     â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ VERTRAUEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   trusts                 Any â†’ Any                  Vertraut      â”‚    â”‚
â”‚   â”‚   attests                Any â†’ Any                  Attestiert    â”‚    â”‚
â”‚   â”‚   vouches_for            Any â†’ Any                  BÃ¼rgt fÃ¼r     â”‚    â”‚
â”‚   â”‚   rated_by               Any â†’ Attestation          Bewertet von  â”‚    â”‚
â”‚   â”‚   guardian_of            Guardian â†’ Ward            Vormund von   â”‚    â”‚
â”‚   â”‚   has_guardian           Ward â†’ Guardian            Hat Vormund   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ DELEGATION & AUTORITÃ„T â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   delegates_to           Agent â†’ Delegate           Delegiert an  â”‚    â”‚
â”‚   â”‚   delegated_from         Delegate â†’ Agent           Delegiert von â”‚    â”‚
â”‚   â”‚   authorizes             Any â†’ Any                  Autorisiert   â”‚    â”‚
â”‚   â”‚   authorized_by          Any â†’ Any                  Autorisiert v.â”‚    â”‚
â”‚   â”‚   acts_on_behalf_of      SubID â†’ Parent             Handelt fÃ¼r   â”‚    â”‚
â”‚   â”‚   represented_by         Parent â†’ SubID             Vertreten v.  â”‚    â”‚
â”‚   â”‚   proxy_for              Proxy â†’ Principal          Proxy fÃ¼r     â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ OPERATIV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   operates               Agent â†’ AMO                Betreibt      â”‚    â”‚
â”‚   â”‚   operated_by            AMO â†’ Agent                Betrieben von â”‚    â”‚
â”‚   â”‚   manages                Agent â†’ Asset              Verwaltet     â”‚    â”‚
â”‚   â”‚   managed_by             Asset â†’ Agent              Verwaltet von â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”€â”€ Ã–KONOMISCH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   pays_to                Agent â†’ Agent              Zahlt an      â”‚    â”‚
â”‚   â”‚   receives_from          Agent â†’ Agent              EmpfÃ¤ngt von  â”‚    â”‚
â”‚   â”‚   streams_value_to       Wallet â†’ Wallet            Streamt Wert  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.8 Sub-Identity Operations

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# SUB-IDENTITY OPERATIONS - Operationen auf Sub-IdentitÃ¤ten
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

sub_identity_operations:
  kind: operations_spec

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CREATE SUB-IDENTITY
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  create:
    description: "Erzeugt eine neue Sub-Identity"

    inputs:
      parent_did: did # Parent-Identity
      sub_type: SubIdentityKind # Art der Sub-Identity
      scope: IdentityScope # GÃ¼ltigkeitsbereich
      metadata: object # Name, Description, etc.
      initial_keys: list<Key> # Initiale SchlÃ¼ssel

    preconditions:
      - "parent.active == true"
      - "parent.derivation_depth < parent.max_sub_depth"
      - "sub_type IN parent.allowed_sub_types OR parent.allowed_sub_types == null"
      - "parent.trust_score >= min_trust_for_creation"
      - "caller.did == parent.controller"

    effects:
      - "sub_identity.did = generate_sub_did(parent, sub_type)"
      - "sub_identity.controller = parent.did"
      - "sub_identity.parent_identity = parent.did"
      - "sub_identity.derivation_depth = parent.derivation_depth + 1"
      - "sub_identity.derivation_path = parent.derivation_path + [parent.did]"
      - "emit SubIdentityCreated(sub_identity.did, parent.did, sub_type)"

    authorization:
      required_capability: capability_delegation
      proof_required: true

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ACTIVATE / DEACTIVATE SUB-IDENTITY
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  activate:
    description: "Aktiviert eine deaktivierte Sub-Identity"

    preconditions:
      - "sub_identity.deactivated == true"
      - "parent.active == true"
      - "caller.did == sub_identity.controller"

    effects:
      - "sub_identity.deactivated = false"
      - "sub_identity.deactivated_at = null"
      - "emit SubIdentityActivated(sub_identity.did)"

  deactivate:
    description: "Deaktiviert eine Sub-Identity (und alle Kind-Sub-IDs)"

    preconditions:
      - "sub_identity.active == true"
      - "caller.did == sub_identity.controller OR caller.did IN governance_authorities"

    effects:
      - "sub_identity.deactivated = true"
      - "sub_identity.deactivated_at = now()"
      - "cascade_deactivate(sub_identity.children)"
      - "revoke_all_active_sessions(sub_identity)"
      - "emit SubIdentityDeactivated(sub_identity.did, reason)"

    authorization:
      required_capability: capability_invocation

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # TRANSFER OWNERSHIP ANCHOR
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  transfer_ownership:
    description: "ÃœbertrÃ¤gt eine Ownership-Sub-Identity auf neuen EigentÃ¼mer"

    inputs:
      ownership_did: did # Die Ownership-Sub-Identity
      new_owner_did: did # Neuer EigentÃ¼mer
      transfer_proof: Proof # Beweis des EigentumsÃ¼bergangs

    preconditions:
      - "ownership.sub_identity_type == ownership_anchor"
      - "ownership.active == true"
      - "ownership.ownership_config.ownership_rights CONTAINS 'transfer'"
      - "ownership.ownership_config.restrictions.allow_transfer(new_owner)"
      - "caller.did == ownership.controller"

    effects:
      - "old_owner = ownership.parent_identity"
      - "ownership.parent_identity = new_owner_did"
      - "ownership.controller = new_owner_did"
      - "ownership.derivation_path = [new_owner_did]"
      - "asset.relationships.remove({type: owned_by, target: old_owner})"
      - "asset.relationships.add({type: owned_by, target: new_owner_did})"
      - "emit OwnershipTransferred(ownership.did, old_owner, new_owner_did)"

    audit:
      log_level: critical
      notify: [old_owner, new_owner, asset.controller, regulatory_authorities]

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # SCOPE MODIFICATION
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  modify_scope:
    description: "Modifiziert den GÃ¼ltigkeitsbereich einer Sub-Identity"

    inputs:
      sub_identity_did: did
      new_scope: IdentityScope

    preconditions:
      - "sub_identity.active == true"
      - "new_scope.is_subset_of(sub_identity.identity_scope)" # Nur einschrÃ¤nken!
      - "caller.did == sub_identity.controller"

    effects:
      - "sub_identity.identity_scope = new_scope"
      - "sub_identity.version = increment_version(sub_identity.version)"
      - "cascade_scope_narrowing(sub_identity.children, new_scope)"
      - "emit ScopeModified(sub_identity.did, old_scope, new_scope)"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # VERIFY CHAIN
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  verify_derivation_chain:
    description: "Verifiziert die komplette Ableitungskette einer Sub-Identity"

    inputs:
      sub_identity_did: did

    outputs:
      valid: bool
      chain: list<ChainLink>
      root: did
      errors: list<string>

    algorithm: |
      chain = []
      current = resolve(sub_identity_did)

      while current.parent_identity != null:
        parent = resolve(current.parent_identity)

        # Validiere Link
        if current.controller != parent.did:
          errors.add("Controller mismatch at " + current.did)

        if parent.deactivated:
          errors.add("Parent deactivated: " + parent.did)

        if not current.identity_scope.is_subset_of(parent.identity_scope):
          errors.add("Scope violation at " + current.did)

        chain.add({from: parent.did, to: current.did, type: current.sub_identity_type})
        current = parent

      return {
        valid: errors.is_empty(),
        chain: chain.reverse(),
        root: current.did,
        errors: errors
      }
```

### 4.9 Identity Registry (DACS Integration)

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# DACS CONFIGURATION - Dezentrales Anchor Control System
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

dacs:
  kind: dacs_config

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # NETZWERK-KONFIGURATION
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  network:
    # BFT Consensus Parameter
    consensus:
      algorithm: hotstuff # pbft | hotstuff | tendermint
      threshold: 0.67 # 67% fÃ¼r Konsens
      timeout: "PT10S"

    # Threshold Signatures
    threshold_signatures:
      scheme: bls12_381
      t: 5 # Mindestens 5 Signaturen
      n: 7 # Von 7 Nodes

    # Bootstrap Nodes
    bootstrap:
      - did: "did:erynoa:node:dacs:bootstrap-eu-1"
        endpoint: "dacs://eu1.dacs.erynoa.network:4001"
      - did: "did:erynoa:node:dacs:bootstrap-us-1"
        endpoint: "dacs://us1.dacs.erynoa.network:4001"
      - did: "did:erynoa:node:dacs:bootstrap-asia-1"
        endpoint: "dacs://asia1.dacs.erynoa.network:4001"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # MULTI-CHAIN KONFIGURATION
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  chains:
    primary:
      name: iota_rebased
      endpoint: "https://api.iota.erynoa.network"
      did_registry_address: "iota1qpfyv8..."

    secondary:
      - name: ethereum_l2
        endpoint: "https://l2.ethereum.erynoa.network"
        anchor_contract: "0x7a9b8c7d..."

      - name: solana
        endpoint: "https://solana.erynoa.network"
        anchor_program: "ErynoaDIDAnchor..."

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # OPERATIONEN
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  operations:
    create:
      requires_stake: true
      min_stake: "100 ERY"

    update:
      requires_signature: true

    deactivate:
      requires_governance: false # Controller kann direkt

    recover:
      requires_governance: true # Social Recovery via DACS
```

---

## 6. Object Module (`ecl/object`) â€“ Identity-Aware Entities

Das Object-Modul definiert **Blueprints, Standards und AMOs**. Jede EntitÃ¤t besitzt eine eigene DID und implementiert den Identity-Trait.

### 6.1 Das Identity-First Object Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ” IDENTITY-FIRST OBJECT HIERARCHY                                       â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   STANDARD (did:erynoa:standard:*)                               â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                â”‚    â”‚
â”‚   â”‚   â€¢ Hat eigene DID (globale Norm-Referenz)                       â”‚    â”‚
â”‚   â”‚   â€¢ Controller: Normungsgremium (ISO, eCl@ss, etc.)              â”‚    â”‚
â”‚   â”‚   â€¢ Versioniert (semantic versioning)                            â”‚    â”‚
â”‚   â”‚   â€¢ Beispiel: did:erynoa:standard:iso:15118:2                    â”‚    â”‚
â”‚   â”‚                         â”‚                                         â”‚    â”‚
â”‚   â”‚                         â”‚ conforms_to                             â”‚    â”‚
â”‚   â”‚                         â–¼                                         â”‚    â”‚
â”‚   â”‚   BLUEPRINT (did:erynoa:blueprint:*)                             â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                              â”‚    â”‚
â”‚   â”‚   â€¢ Hat eigene DID (Schema-Referenz)                             â”‚    â”‚
â”‚   â”‚   â€¢ Controller: Schema-Author (Org oder Person)                  â”‚    â”‚
â”‚   â”‚   â€¢ Versioniert mit Vererbung                                    â”‚    â”‚
â”‚   â”‚   â€¢ Trust akkumuliert sich am Blueprint                          â”‚    â”‚
â”‚   â”‚   â€¢ Beispiel: did:erynoa:blueprint:ev-charging:v1.2              â”‚    â”‚
â”‚   â”‚                         â”‚                                         â”‚    â”‚
â”‚   â”‚                         â”‚ instantiates                            â”‚    â”‚
â”‚   â”‚                         â–¼                                         â”‚    â”‚
â”‚   â”‚   AMO INSTANCE (did:erynoa:amo:*)                                â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                 â”‚    â”‚
â”‚   â”‚   â€¢ Hat eigene DID (Objekt-Referenz)                             â”‚    â”‚
â”‚   â”‚   â€¢ Controller: Owner des Objekts                                â”‚    â”‚
â”‚   â”‚   â€¢ Statische + Fluid Extensions                                 â”‚    â”‚
â”‚   â”‚   â€¢ Trust erbt teilweise vom Blueprint                           â”‚    â”‚
â”‚   â”‚   â€¢ Beispiel: did:erynoa:amo:material:station-munich-001         â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚   ğŸ’¡ JEDE EBENE HAT EIGENE IDENTITÃ„T â†’ JEDE EBENE IST REFERENZIERBAR       â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 Standard-Definition (Normative Standards)

```yaml
ecl_version: "2.0"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STANDARD DEFINITION - Normative Grundlage mit eigener IdentitÃ¤t
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
standard:
  kind: normative_standard

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY-TRAIT (Pflicht)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did: "did:erynoa:standard:iso:15118:2"
  controller: "did:erynoa:org:iso-tc22" # ISO Technical Committee
  created_at: "2022-04-01T00:00:00Z"
  version: "2.0.0"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # STANDARD METADATA
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  metadata:
    name: "ISO 15118-2:2014"
    title: "Road vehicles - Vehicle to grid communication interface"
    organization: "International Organization for Standardization"
    category: automotive
    scope: |
      Specifies the communication between Electric Vehicles (EV) and
      the Electric Vehicle Supply Equipment (EVSE).

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # REQUIREMENTS (was dieser Standard definiert)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  requirements:
    mandatory:
      - id: req_v2g_comm
        description: "V2G communication protocol implementation"

      - id: req_tls_auth
        description: "TLS-based authentication required"

      - id: req_plug_charge
        description: "Plug & Charge capability"

    optional:
      - id: req_bidirectional
        description: "Bidirectional power transfer"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # RELATIONSHIPS (zu anderen Standards)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  relationships:
    - type: supersedes
      target: "did:erynoa:standard:iso:15118:1"

    - type: references
      target: "did:erynoa:standard:iec:61851:1"

    - type: compatible_with
      target: "did:erynoa:standard:ocpp:2.0.1"
```

### 6.3 Blueprint-Definition (Identity-First)

```yaml
ecl_version: "2.0"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# BLUEPRINT - Schema-Definition mit eigener IdentitÃ¤t
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
blueprint:
  kind: blueprint

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY-TRAIT (Pflicht)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did: "did:erynoa:blueprint:ev-charging-station:v1.2"
  controller: "did:erynoa:org:erynoa-standards-committee"
  created_at: "2024-06-15T10:00:00Z"
  updated_at: "2025-01-10T14:30:00Z"
  version: "1.2.0"

  # Proof: Signatur des Controllers
  proof:
    type: Ed25519Signature2020
    created: "2025-01-10T14:30:00Z"
    verification_method: "did:erynoa:org:erynoa-standards-committee#key-blueprint"
    proof_value: "z4oJ5C..."

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # BLUEPRINT METADATA
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  metadata:
    name: "EV Charging Station"
    description: "Blueprint for electric vehicle charging infrastructure"
    category: energy_infrastructure
    tags: [ev, charging, ocpp, eichrecht]

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # VERERBUNG (von anderem Blueprint)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  extends: "did:erynoa:blueprint:energy-asset:v1"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # STANDARD-KONFORMITÃ„T (Identity-Referenzen!)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  conforms_to:
    required:
      - standard: "did:erynoa:standard:iso:15118:2"
        min_version: "2.0.0"

      - standard: "did:erynoa:standard:ocpp:2.0.1"
        min_version: "2.0.0"

      - standard: "did:erynoa:standard:de:eichrecht"
        min_version: "1.0.0"
        # Nur in DE erforderlich
        condition: "location.country == 'DE'"

    optional:
      - standard: "did:erynoa:standard:iso:15118:20" # ISO 15118-20 fÃ¼r DC

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # SCHEMA-DEFINITION
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  schema:
    # Pflichtfelder fÃ¼r AMO-Instanzen
    required:
      # Betreiber-DID (MUSS eine gÃ¼ltige Identity sein)
      operator_did:
        type: did
        description: "DID des Betreibers"
        constraints:
          - pattern: "^did:erynoa:(org|user):.*$"

      # Standort
      location:
        type: GeoLocation
        description: "Standort der Ladestation"

      # Stecker-Konfiguration
      connectors:
        type: list<Connector>
        min_items: 1
        description: "VerfÃ¼gbare Ladestecker"

      # Maximale Leistung
      max_power_kw:
        type: float
        constraints:
          - range: [3.7, 350]

    # Optionale Felder
    optional:
      energy_source:
        type: enum<renewable, grid, mixed>
        default: grid

      # Zertifizierungen (VC-Referenzen)
      certifications:
        type: list<did> # DIDs von VCs
        description: "Zertifizierungs-Credentials"
        constraints:
          - pattern: "^did:erynoa:vc:.*$"

    # Fluid Extensions (dynamisch, mit TTL)
    fluid:
      current_price_kwh:
        type: float
        ttl: "PT5M"
        constraints:
          - range: [0.01, 5.0]

      availability_status:
        type: enum<available, occupied, faulted, offline>
        ttl: "PT1M"

      queue_length:
        type: int
        ttl: "PT30S"
        constraints:
          - range: [0, 100]

      current_power_kw:
        type: float
        ttl: "PT10S"
        description: "Aktuelle Ladeleistung"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # TRUST-ANFORDERUNGEN
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  trust_requirements:
    min_operator_trust: 0.7
    required_attestations:
      - type: "did:erynoa:vc:operator_license"
        max_age: "P1Y"
      - type: "did:erynoa:vc:electrical_safety"
        max_age: "P2Y"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # LOGIC GUARDS (Invarianten)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  guards:
    - name: "price_sanity"
      expression: "fluid.current_price_kwh > 0"
      severity: error

    - name: "power_consistency"
      expression: "fluid.current_power_kw <= static.max_power_kw"
      severity: error

    - name: "queue_availability_consistency"
      expression: |
        (fluid.availability_status == 'available') implies
        (fluid.queue_length == 0)
      severity: warning
```

### 6.4 AMO-Instanz (Identity-First)

```yaml
ecl_version: "2.0"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# AMO INSTANCE - Konkretes Objekt mit eigener IdentitÃ¤t
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
amo:
  kind: amo_instance
  amo_type: material # material | credential | service

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY-TRAIT (Pflicht)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did: "did:erynoa:amo:material:station-munich-central-001"
  controller: "did:erynoa:org:stadtwerke-munich"
  created_at: "2024-09-01T08:00:00Z"
  updated_at: "2025-01-15T10:30:00Z"
  version: "1.0.3"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # BLUEPRINT-REFERENZ (Identity-Link!)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  instantiates: "did:erynoa:blueprint:ev-charging-station:v1.2"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # OWNERSHIP (Identity-basiert)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ownership:
    owner: "did:erynoa:org:stadtwerke-munich"
    operator: "did:erynoa:org:stadtwerke-munich" # Kann unterschiedlich sein

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ENVIRONMENT MEMBERSHIP (wo partizipiert dieses AMO)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  participates_in:
    - "did:erynoa:env:domain:ev-charging-de"
    - "did:erynoa:env:network:hubject-intercharge"
    - "did:erynoa:env:regulatory:eichrecht-de"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # STATIC VALUES (vom Blueprint definiert, hier ausgefÃ¼llt)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  static:
    operator_did: "did:erynoa:org:stadtwerke-munich"

    location:
      geohash: "u281zkdr"
      address: "Marienplatz 1, 80331 MÃ¼nchen"
      precision: 8

    connectors:
      - id: "conn-1"
        type: CCS
        max_power_kw: 150
      - id: "conn-2"
        type: Type2
        max_power_kw: 22
      - id: "conn-3"
        type: CHAdeMO
        max_power_kw: 50

    max_power_kw: 150
    energy_source: renewable

    # Zertifizierungs-Credentials (via DID!)
    certifications:
      - "did:erynoa:vc:cert:eichrecht:swm-2024-001"
      - "did:erynoa:vc:cert:tuev:2024-ev-789"
      - "did:erynoa:vc:cert:renewable-origin:swm-green"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # FLUID EXTENSIONS (Echtzeitwerte)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  fluid:
    current_price_kwh: 0.35
    availability_status: available
    queue_length: 0
    current_power_kw: 0.0

    # ZusÃ¤tzliche Fluid-Daten (Ã¼ber Blueprint hinaus)
    _extensions:
      last_maintenance: "2025-01-10T08:00:00Z"
      error_count_today: 0

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY RELATIONSHIPS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  relationships:
    # Teil des Stadtwerke-Netzwerks
    - type: member_of
      target: "did:erynoa:org:stadtwerke-munich"

    # Wird vom OCPP-Backend Ã¼berwacht
    - type: monitored_by
      target: "did:erynoa:amo:service:swm-ocpp-backend"

    # Aggregiert Trust zum Operator
    - type: contributes_trust_to
      target: "did:erynoa:org:stadtwerke-munich"
---
## 7. Environment Module (`ecl/environ`) â€“ Identity-Aware Spaces

Das Environment-Modul definiert **Suchumgebungen als identifizierbare EntitÃ¤ten**. Jede Umgebung hat eine eigene DID, kann Trust akkumulieren und besitzt ein eigenes **Governance-System** mit Legislative und Executive.
### 7.1 Das Identity-First Environment Model
```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚
â”‚ ğŸ” IDENTITY-FIRST ENVIRONMENT HIERARCHY â”‚
â”‚ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ REAL WORLD (did:erynoa:env:real_world) â”‚ â”‚
â”‚ â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚ â”‚
â”‚ â”‚ â€¢ Root-Umgebung ohne Eltern â”‚ â”‚
â”‚ â”‚ â€¢ Geospatiale Ordnung â”‚ â”‚
â”‚ â”‚ â€¢ Keine Constraints â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â–¼ â–¼ â”‚ â”‚
â”‚ â”‚ DOMAIN ENVIRONMENT REGULATORY ENVIRONMENT â”‚ â”‚
â”‚ â”‚ (did:erynoa:env: (did:erynoa:env: â”‚ â”‚
â”‚ â”‚ domain:ev-charging) regulatory:eichrecht-de) â”‚ â”‚
â”‚ â”‚ â€¢ Fachliche DomÃ¤ne â€¢ Rechtliche Anforderungen â”‚ â”‚
â”‚ â”‚ â€¢ Trust-basierte Ordnung â€¢ Zertifizierungs-Constraints â”‚ â”‚
â”‚ â”‚ â€¢ LEGISLATIVE + EXECUTIVE â€¢ LEGISLATIVE + EXECUTIVE â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â–¼ â–¼ â”‚ â”‚
â”‚ â”‚ NETWORK ENVIRONMENT CUSTOM ENVIRONMENT â”‚ â”‚
â”‚ â”‚ (did:erynoa:env: (did:erynoa:env: â”‚ â”‚
â”‚ â”‚ network:hubject) custom:premium-charging) â”‚ â”‚
â”‚ â”‚ â€¢ Netzwerk-Membership â€¢ Benutzer-definiert â”‚ â”‚
â”‚ â”‚ â€¢ Roaming-Agreements â€¢ Flexible Regeln â”‚ â”‚
â”‚ â”‚ â€¢ LEGISLATIVE + EXECUTIVE â€¢ LEGISLATIVE + EXECUTIVE â”‚ â”‚
â”‚ â”‚ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”‚
â”‚ ğŸ’¡ JEDE UMGEBUNG = DID + LEGISLATIVE + EXECUTIVE + MEMBERSHIP â”‚
â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

### 7.2 Das Environment Governance System

Jede Umgebung verfÃ¼gt Ã¼ber ein zweiteiliges Governance-System: Die **Legislative** definiert die Regeln, die **Executive** setzt sie durch und verwaltet die akkumulierte **Karmic Power** der Mitglieder.

```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚
â”‚ âš–ï¸ ENVIRONMENT GOVERNANCE ARCHITECTURE â”‚
â”‚ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ LEGISLATIVE â”‚ â”‚
â”‚ â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚ â”‚
â”‚ â”‚ ğŸ“œ Definiert die REGELN der Umgebung â”‚ â”‚
â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â€¢ Bewertungskriterien (wie wird Karma berechnet?) â”‚ â”‚
â”‚ â”‚ â€¢ Gewichtungsfaktoren (positiv vs. negativ) â”‚ â”‚
â”‚ â”‚ â€¢ Schwellenwerte (ab wann greifen Konsequenzen?) â”‚ â”‚
â”‚ â”‚ â€¢ Eskalationsstufen (Warning â†’ Suspension â†’ Ban) â”‚ â”‚
â”‚ â”‚ â€¢ Belohnungsregeln (fÃ¼r positive BeitrÃ¤ge) â”‚ â”‚
â”‚ â”‚ â€¢ Strafregeln (fÃ¼r VerstÃ¶ÃŸe) â”‚ â”‚
â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ definiert â”‚ â”‚
â”‚ â”‚ â–¼ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ EXECUTIVE â”‚ â”‚
â”‚ â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚ â”‚
â”‚ â”‚ âš¡ FÃ¼hrt die Regeln AUS und verwaltet POWER â”‚ â”‚
â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â€¢ Karmic Ledger (Power-Konten aller Mitglieder) â”‚ â”‚
â”‚ â”‚ â€¢ Warning Stack (akkumulierte Warnungen) â”‚ â”‚
â”‚ â”‚ â€¢ Reputation Events (positive/negative EintrÃ¤ge) â”‚ â”‚
â”‚ â”‚ â€¢ Enforcement Actions (automatische Konsequenzen) â”‚ â”‚
â”‚ â”‚ â€¢ Power Delegation (Stimmrecht weitergeben) â”‚ â”‚
â”‚ â”‚ â€¢ Governance Proposals (Ã„nderungsantrÃ¤ge) â”‚ â”‚
â”‚ â”‚ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”‚
â”‚ ğŸ’¡ Legislative = "Was sind die Regeln?" â”‚
â”‚ ğŸ’¡ Executive = "Wie werden sie durchgesetzt?" â”‚
â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

````

#### 6.2.1 Legislative â€“ Die Regelgebung

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# LEGISLATIVE - Regeldefinition einer Umgebung
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

legislative:
  kind: environment_legislative

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY-TRAIT (Legislative hat eigene DID!)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did: "did:erynoa:legislative:env:domain:ev-charging-de"
  controller: "did:erynoa:env:domain:ev-charging-de"  # Umgebung ist Controller
  created_at: "2024-01-01T00:00:00Z"
  version: "2.0.0"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # KARMA CALCULATION RULES (Wie wird Karma berechnet?)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  karma_rules:
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # POSITIVE KARMA SOURCES (Belohnungen)
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    positive_sources:
      # â”€â”€â”€ Objektbezogene Reputation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      asset_registration:
        description: "Registrierung eines neuen Assets in der Umgebung"
        base_karma: 10
        multipliers:
          - condition: "asset.blueprint_compliance >= 0.95"
            factor: 1.5
            reason: "Hervorragende Blueprint-KonformitÃ¤t"
          - condition: "asset.has_renewable_certification"
            factor: 1.3
            reason: "Nachhaltigkeitszertifizierung"
        max_per_period: 50  # Max 50 Karma pro Monat durch Asset-Registrierung
        period: "P30D"

      successful_transaction:
        description: "Erfolgreich abgeschlossene Transaktion"
        base_karma: 1
        multipliers:
          - condition: "transaction.value >= 100 EUR"
            factor: 1.2
          - condition: "counterparty.trust_score >= 0.9"
            factor: 1.1
            reason: "Handel mit vertrauenswÃ¼rdigem Partner"
        accumulation: "logarithmic"  # Abnehmende ErtrÃ¤ge bei Masse

      positive_attestation_received:
        description: "Positive Bewertung von anderem Mitglied erhalten"
        base_karma: 5
        multipliers:
          - condition: "attester.karmic_power >= 100"
            factor: 1.5
            reason: "Bewertung von einflussreichem Mitglied"
          - condition: "attester.attestation_accuracy >= 0.9"
            factor: 1.3
            reason: "Bewertung von zuverlÃ¤ssigem Bewerter"
        cooldown: "P1D"  # Nur 1 Attestation pro Attester pro Tag zÃ¤hlt

      dispute_resolution_positive:
        description: "Streitfall zugunsten des Mitglieds entschieden"
        base_karma: 20
        conditions:
          - "dispute.resolution == 'in_favor'"
          - "dispute.evidence_quality >= 'substantial'"

      long_term_membership:
        description: "Langzeitbonus fÃ¼r treue Mitglieder"
        base_karma: 5
        triggers:
          - after_days: 90
            bonus: 5
          - after_days: 365
            bonus: 15
          - after_days: 1095  # 3 Jahre
            bonus: 50

      # â”€â”€â”€ Netzwerk-BeitrÃ¤ge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      network_contribution:
        description: "Aktiver Beitrag zum Netzwerk"
        categories:
          uptime_excellence:
            condition: "member.monthly_uptime >= 0.99"
            karma: 10
            period: "P30D"

          service_quality:
            condition: "member.avg_response_time <= 100ms"
            karma: 5
            period: "P7D"

          standard_compliance_early_adopter:
            condition: "member.adopted_new_standard_within_days <= 30"
            karma: 25
            one_time: true

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # NEGATIVE KARMA SOURCES (Strafen) - STÃ„RKER GEWICHTET!
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    negative_sources:
      # â”€â”€â”€ Beschwerden â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      complaint_received:
        description: "Beschwerde von anderem Mitglied erhalten"
        base_karma: -15  # Negativ ist STÃ„RKER als positiv!
        multipliers:
          - condition: "complaint.severity == 'critical'"
            factor: 3.0
            reason: "Kritische Beschwerde"
          - condition: "complaint.severity == 'major'"
            factor: 2.0
          - condition: "complaint.evidence_provided"
            factor: 1.5
            reason: "Beschwerde mit Beweisen"
          - condition: "complainant.karmic_power >= 100"
            factor: 1.3
            reason: "Beschwerde von einflussreichem Mitglied"

        # Akkumulation: Wiederholte Beschwerden eskalieren exponentiell
        accumulation_formula: |
          total_penalty = base_karma * multiplier * (1 + 0.5 * complaint_count_30d)

        # Validierung: Nicht jede Beschwerde zÃ¤hlt automatisch
        validation:
          require_evidence: false  # Bei kritisch: true
          require_multiple_complainants: false  # Bei > 50 Karma Verlust: true
          arbitration_threshold: 50  # Ab 50 Karma Verlust â†’ Schiedsverfahren

      failed_transaction:
        description: "Fehlgeschlagene Transaktion durch Verschulden"
        base_karma: -10
        multipliers:
          - condition: "failure.cause == 'fraud_suspected'"
            factor: 5.0
          - condition: "failure.cause == 'service_unavailable'"
            factor: 1.5
          - condition: "failure.cause == 'quality_issue'"
            factor: 2.0

      # â”€â”€â”€ VerstÃ¶ÃŸe â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      rule_violation:
        description: "VerstoÃŸ gegen Umgebungs-Regeln"
        severity_levels:
          minor:
            karma: -5
            examples: ["late_response", "minor_data_inconsistency"]
          moderate:
            karma: -25
            examples: ["sla_breach", "incomplete_documentation"]
          major:
            karma: -100
            examples: ["certification_expired", "safety_violation"]
          critical:
            karma: -500
            examples: ["fraud", "identity_misrepresentation", "data_breach"]

      negative_attestation_received:
        description: "Negative Bewertung erhalten"
        base_karma: -8
        multipliers:
          - condition: "attester.attestation_accuracy >= 0.9"
            factor: 1.5
        # Schutz vor Missbrauch
        abuse_protection:
          max_from_single_attester_per_month: 2
          require_transaction_history: true

      dispute_resolution_negative:
        description: "Streitfall gegen das Mitglied entschieden"
        base_karma: -50
        multipliers:
          - condition: "dispute.severity == 'critical'"
            factor: 2.0
          - condition: "dispute.evidence_against == 'overwhelming'"
            factor: 1.5

      # â”€â”€â”€ InaktivitÃ¤t â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      prolonged_inactivity:
        description: "Lange InaktivitÃ¤t fÃ¼hrt zu Karma-Verfall"
        decay_rate: 0.01  # 1% pro Woche
        grace_period: "P30D"
        min_karma_after_decay: 0  # Kann nicht negativ werden durch Verfall

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # KARMIC POWER THRESHOLDS (Was bedeuten welche Power-Levels?)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  power_thresholds:
    tiers:
      # â”€â”€â”€ Negative Tiers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: "â›” Gebannt"
        range: [-âˆ, -500]
        effects:
          - "membership_revoked"
          - "assets_quarantined"
          - "transactions_blocked"
        recovery:
          possible: true
          requires: "governance_proposal_approved"
          cooldown: "P365D"

      - name: "ğŸš« Suspendiert"
        range: [-500, -100]
        effects:
          - "new_transactions_blocked"
          - "existing_assets_read_only"
          - "warning_displayed_to_counterparties"
        recovery:
          auto_recovery_rate: 5  # +5 Karma/Woche bei guter FÃ¼hrung
          requires_action: "compliance_training_completed"

      - name: "âš ï¸ Unter Beobachtung"
        range: [-100, 0]
        effects:
          - "transactions_flagged"
          - "enhanced_monitoring"
          - "limited_governance_rights"
        recovery:
          auto_recovery_rate: 2

      # â”€â”€â”€ Positive Tiers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: "ğŸŒ± Neuling"
        range: [0, 50]
        effects:
          - "standard_rights"
          - "probationary_period"
        governance_weight: 1.0

      - name: "âœ… Etabliert"
        range: [50, 200]
        effects:
          - "full_rights"
          - "can_submit_minor_proposals"
        governance_weight: 1.5

      - name: "â­ VertrauenswÃ¼rdig"
        range: [200, 500]
        effects:
          - "priority_dispute_resolution"
          - "can_submit_major_proposals"
          - "attestations_carry_extra_weight"
        governance_weight: 2.0

      - name: "ğŸ† Guardian"
        range: [500, 1000]
        effects:
          - "can_participate_in_arbitration"
          - "can_nominate_new_members"
          - "early_access_to_new_features"
        governance_weight: 3.0

      - name: "ğŸ‘‘ Architect"
        range: [1000, âˆ]
        effects:
          - "can_propose_legislative_changes"
          - "veto_power_on_minor_proposals"
          - "environment_ambassador_status"
        governance_weight: 5.0

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # WARNING ESCALATION RULES (Wie eskalieren Warnungen?)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  escalation_rules:
    warning_stack:
      # Warnungen verfallen nicht automatisch, aber werden Ã¼ber Zeit weniger gewichtet
      decay:
        enabled: true
        half_life: "P90D"  # Nach 90 Tagen zÃ¤hlt Warnung nur noch halb

      # Eskalationsstufen
      levels:
        - count: 1
          action: "formal_notice"
          message: "Sie haben eine Warnung erhalten. Bitte beachten Sie die Regeln."

        - count: 3
          action: "restricted_mode"
          effects:
            - "max_transaction_value_reduced_50%"
            - "new_asset_registration_paused"
          duration: "P14D"

        - count: 5
          action: "probation"
          effects:
            - "all_transactions_require_escrow"
            - "enhanced_kyc_required"
          duration: "P30D"

        - count: 7
          action: "suspension_review"
          effects:
            - "account_suspended_pending_review"
            - "governance_committee_notified"

        - count: 10
          action: "permanent_ban_proposal"
          effects:
            - "automatic_ban_proposal_created"
            - "requires_governance_vote_to_confirm"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # REWARD DISTRIBUTION RULES
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  rewards:
    # Top-Performer Bonus
    periodic_rewards:
      top_contributors:
        frequency: "P30D"
        pool_source: "environment_treasury"
        distribution:
          - percentile: 99
            reward: "100 ERY"
            karma_bonus: 50
          - percentile: 95
            reward: "50 ERY"
            karma_bonus: 25
          - percentile: 90
            reward: "25 ERY"
            karma_bonus: 10

    # Milestone Achievements
    achievements:
      first_100_transactions:
        karma: 20
        badge: "ğŸ¯ Centurion"

      zero_complaints_year:
        karma: 100
        badge: "âœ¨ Spotless Record"

      dispute_mediator:
        karma: 30
        badge: "âš–ï¸ Peacekeeper"
        condition: "successfully_mediated_disputes >= 5"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # LEGISLATIVE AMENDMENT PROCESS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  amendment_process:
    # Wer darf Ã„nderungen vorschlagen?
    proposal_eligibility:
      min_karmic_power: 200
      min_membership_duration: "P90D"
      required_tier: "VertrauenswÃ¼rdig"

    # Abstimmungsprozess
    voting:
      quorum: 0.15  # 15% der Governance-Power muss abstimmen
      approval_threshold: 0.67  # 67% Zustimmung erforderlich
      voting_period: "P14D"

      # Gewichtung nach Karmic Power
      vote_weight: "sqrt(karmic_power)"  # Wurzel fÃ¼r fairere Verteilung

    # Ã„nderungstypen
    change_types:
      minor:
        examples: ["adjust_multiplier", "add_achievement"]
        fast_track: true
        voting_period: "P7D"

      major:
        examples: ["new_karma_source", "threshold_change"]
        voting_period: "P14D"

      constitutional:
        examples: ["governance_structure_change", "tier_restructure"]
        voting_period: "P30D"
        approval_threshold: 0.75
````

#### 6.2.2 Executive â€“ Die Durchsetzung

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# EXECUTIVE - Durchsetzungsorgan einer Umgebung
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

executive:
  kind: environment_executive

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY-TRAIT (Executive hat eigene DID!)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did: "did:erynoa:executive:env:domain:ev-charging-de"
  controller: "did:erynoa:env:domain:ev-charging-de"
  created_at: "2024-01-01T00:00:00Z"
  version: "2.0.0"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # KARMIC LEDGER (Power-Konten aller Mitglieder)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  karmic_ledger:
    storage:
      type: distributed_ledger
      anchoring: dacs_network
      replication: 3

    # Beispiel-EintrÃ¤ge (Runtime State)
    accounts:
      - member_did: "did:erynoa:org:stadtwerke-munich"
        karmic_power: 847
        tier: "Guardian"

        # Karma-Breakdown
        karma_sources:
          asset_registrations: 320
          successful_transactions: 412
          positive_attestations: 180
          network_contributions: 85
          long_term_bonus: 50
          complaints_received: -150
          rule_violations: -50

        # Aktive Warnungen
        warning_stack:
          count: 1
          warnings:
            - id: "warn-2025-001"
              reason: "SLA breach on 2025-01-10"
              severity: "minor"
              issued_at: "2025-01-10T15:30:00Z"
              weight: 0.8 # Nach 20 Tagen etwas verfallen

        # Governance-Voting-Power
        governance_power:
          base: 847
          delegated_in: 120
          delegated_out: 0
          effective: 967

        # Letzte AktivitÃ¤t
        last_activity: "2025-01-28T14:30:00Z"
        member_since: "2024-03-15T10:00:00Z"

      - member_did: "did:erynoa:agent:provider:problematic-operator"
        karmic_power: -75
        tier: "Unter Beobachtung"

        karma_sources:
          asset_registrations: 50
          successful_transactions: 120
          positive_attestations: 30
          complaints_received: -200
          rule_violations: -75

        warning_stack:
          count: 4
          warnings:
            - id: "warn-2025-002"
              reason: "Customer complaint: overcharging"
              severity: "moderate"
              issued_at: "2025-01-05T10:00:00Z"
              weight: 1.0
            - id: "warn-2025-003"
              reason: "Customer complaint: service unavailable"
              severity: "minor"
              issued_at: "2025-01-12T08:00:00Z"
              weight: 1.0
            # ... weitere Warnungen

        # Aktive EinschrÃ¤nkungen
        active_restrictions:
          - type: "restricted_mode"
            since: "2025-01-15T00:00:00Z"
            until: "2025-01-29T00:00:00Z"
            effects:
              - "max_transaction_value: 500 EUR"
              - "new_asset_registration: blocked"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # REPUTATION EVENT LOG
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  reputation_events:
    storage:
      type: append_only_log
      retention: "P730D" # 2 Jahre

    # Event-Typen
    event_types:
      # Positive Events
      karma_earned:
        fields: [member_did, amount, source, multipliers, timestamp]

      tier_upgrade:
        fields: [member_did, old_tier, new_tier, timestamp]

      achievement_unlocked:
        fields: [member_did, achievement_id, karma_bonus, timestamp]

      reward_distributed:
        fields: [member_did, reward_type, amount, timestamp]

      # Negative Events
      karma_deducted:
        fields: [member_did, amount, source, reason, evidence_ref, timestamp]

      warning_issued:
        fields:
          [member_did, warning_id, severity, reason, issuer_did, timestamp]

      tier_downgrade:
        fields: [member_did, old_tier, new_tier, reason, timestamp]

      restriction_applied:
        fields: [member_did, restriction_type, duration, reason, timestamp]

      # Governance Events
      complaint_filed:
        fields:
          [
            complainant_did,
            target_did,
            complaint_id,
            severity,
            evidence,
            timestamp,
          ]

      dispute_opened:
        fields: [parties, dispute_id, subject, timestamp]

      dispute_resolved:
        fields: [dispute_id, resolution, karma_adjustments, timestamp]

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ENFORCEMENT ENGINE (Automatische Durchsetzung)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  enforcement:
    # Automatische Aktionen
    automatic_actions:
      on_karma_threshold_crossed:
        - threshold: -100
          action: apply_observation_mode
          notification: "Your account is now under observation due to low karma."

        - threshold: -500
          action: apply_suspension
          notification: "Your account has been suspended. Please contact support."
          additional_actions:
            - quarantine_assets
            - notify_governance_committee

      on_warning_count:
        - count: 3
          action: apply_restricted_mode
          duration: "P14D"

        - count: 7
          action: initiate_suspension_review
          notify: [governance_committee, member]

      on_critical_violation:
        immediate: true
        actions:
          - block_all_transactions
          - freeze_assets
          - escalate_to_governance
          - notify_affected_parties

    # Manuelle Eskalation
    manual_escalation:
      triggers:
        - "member requests review"
        - "governance member flags account"
        - "external regulatory request"

      process:
        - create_case_file
        - assign_reviewer # From Guardian tier or above
        - collect_evidence
        - hearing_if_requested
        - resolution_decision
        - apply_outcome

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # POWER DELEGATION SYSTEM
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  delegation:
    enabled: true

    rules:
      # Wer kann delegieren?
      min_tier_to_delegate: "Etabliert"

      # Grenzen
      max_delegation_ratio: 0.5 # Max 50% der eigenen Power delegieren
      max_incoming_delegations: 10 # Max 10 verschiedene Delegatoren

      # Zeitliche Bindung
      min_delegation_period: "P7D"
      revocation_notice: "P3D"

    # Delegation-Typen
    types:
      full:
        description: "Volle Governance-Power wird Ã¼bertragen"
        includes: [voting, proposals, arbitration]

      voting_only:
        description: "Nur Stimmrecht wird Ã¼bertragen"
        includes: [voting]

      issue_specific:
        description: "Delegation fÃ¼r spezifisches Thema"
        requires: proposal_id
        expires_after: "vote_completed"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # DISPUTE RESOLUTION
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  dispute_resolution:
    # Schiedsverfahren
    arbitration:
      panel_size: 3

      # Auswahl der Schiedsrichter
      arbitrator_selection:
        pool: "members with tier >= Guardian"
        exclusions:
          - "no direct relationship with parties"
          - "no previous disputes with parties"
        random_selection: true

      # Prozess
      process:
        1_filing:
          fee: "10 ERY"
          required_evidence: true
          max_duration: "P3D"

        2_response:
          period: "P7D"
          defendant_evidence: true

        3_deliberation:
          private: true
          max_duration: "P7D"

        4_decision:
          requires_majority: true
          appeal_possible: true
          appeal_fee: "50 ERY"

      # MÃ¶gliche Outcomes
      outcomes:
        in_favor_of_complainant:
          - karma_transfer_from_defendant
          - compensation_order
          - warning_to_defendant

        in_favor_of_defendant:
          - karma_penalty_to_complainant # FÃ¼r frivolous complaints
          - compensation_for_reputation_damage

        mutual_fault:
          - split_penalties
          - mediation_required

        dismissed:
          - small_fee_to_complainant
          - no_karma_changes

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # GOVERNANCE PROPOSALS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  proposals:
    active_proposals:
      - id: "prop-2025-003"
        type: minor
        title: "Increase positive attestation karma from 5 to 7"
        proposer: "did:erynoa:org:stadtwerke-munich"
        status: voting
        created_at: "2025-01-20T10:00:00Z"
        voting_ends: "2025-01-27T10:00:00Z"

        votes:
          for:
            count: 45
            power: 12500
          against:
            count: 12
            power: 3200
          abstain:
            count: 8
            power: 1800

        quorum_reached: true
        current_approval: 0.79 # 79% approval

    proposal_lifecycle:
      draft:
        duration: "P7D"
        allows: [editing, discussion]

      review:
        duration: "P3D"
        requires: "governance_committee_approval"

      voting:
        duration: "varies by type"
        allows: [voting, delegation]

      execution:
        delay: "P3D" # Time-lock after approval
        automatic: true # For technical changes
        manual: true # For policy changes
```

#### 6.2.3 Governance Visualisierung

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ›ï¸ COMPLETE ENVIRONMENT GOVERNANCE FLOW                                  â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   LEGISLATIVE (Regeln)                                           â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                         â”‚    â”‚
â”‚   â”‚   ğŸ“œ Karma-Regeln         â†’ "Wie wird Karma berechnet?"          â”‚    â”‚
â”‚   â”‚   ğŸ“Š Schwellenwerte       â†’ "Was bedeuten Tiers?"                â”‚    â”‚
â”‚   â”‚   âš–ï¸ Eskalationsstufen    â†’ "Wie werden VerstÃ¶ÃŸe geahndet?"      â”‚    â”‚
â”‚   â”‚   ğŸ Belohnungsregeln     â†’ "Wie werden gute Akteure belohnt?"   â”‚    â”‚
â”‚   â”‚                                â”‚                                  â”‚    â”‚
â”‚   â”‚                                â”‚ definiert Regeln fÃ¼r             â”‚    â”‚
â”‚   â”‚                                â–¼                                  â”‚    â”‚
â”‚   â”‚   EXECUTIVE (Durchsetzung)                                       â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                        â”‚    â”‚
â”‚   â”‚   ğŸ“’ Karmic Ledger        â†’ Konten aller Mitglieder              â”‚    â”‚
â”‚   â”‚   âš ï¸ Warning Stack        â†’ Akkumulierte Warnungen               â”‚    â”‚
â”‚   â”‚   ğŸ“‹ Event Log            â†’ Alle Reputation-Events               â”‚    â”‚
â”‚   â”‚   ğŸ¤– Enforcement          â†’ Automatische Konsequenzen            â”‚    â”‚
â”‚   â”‚   ğŸ—³ï¸ Governance           â†’ Abstimmungen & Proposals             â”‚    â”‚
â”‚   â”‚                                â”‚                                  â”‚    â”‚
â”‚   â”‚                                â”‚ beeinflusst                      â”‚    â”‚
â”‚   â”‚                                â–¼                                  â”‚    â”‚
â”‚   â”‚   MITGLIEDER (Agenten & ihre Objekte)                            â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                             â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   Agent A                 Agent B                 Agent C        â”‚    â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚   â”‚   â”‚ ğŸ† Guardianâ”‚          â”‚ âš ï¸ Beobachtâ”‚          â”‚ ğŸš« Suspend â”‚ â”‚    â”‚
â”‚   â”‚   â”‚ Power: 847 â”‚          â”‚ Power: -75 â”‚          â”‚ Power: -350â”‚ â”‚    â”‚
â”‚   â”‚   â”‚            â”‚          â”‚            â”‚          â”‚            â”‚ â”‚    â”‚
â”‚   â”‚   â”‚ Assets:    â”‚          â”‚ Assets:    â”‚          â”‚ Assets:    â”‚ â”‚    â”‚
â”‚   â”‚   â”‚ â€¢ Station1 â”‚          â”‚ â€¢ Station5 â”‚          â”‚ (frozen)   â”‚ â”‚    â”‚
â”‚   â”‚   â”‚ â€¢ Station2 â”‚          â”‚            â”‚          â”‚            â”‚ â”‚    â”‚
â”‚   â”‚   â”‚ â€¢ Station3 â”‚          â”‚ Warnings:4 â”‚          â”‚ Warnings:8 â”‚ â”‚    â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚   â”‚        â”‚                        â”‚                       â”‚        â”‚    â”‚
â”‚   â”‚        â”‚                        â”‚                       â”‚        â”‚    â”‚
â”‚   â”‚        â–¼                        â–¼                       â–¼        â”‚    â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚   â”‚   â”‚                                                          â”‚  â”‚    â”‚
â”‚   â”‚   â”‚   TRUST SCORE AGGREGATION                               â”‚  â”‚    â”‚
â”‚   â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                              â”‚  â”‚    â”‚
â”‚   â”‚   â”‚                                                          â”‚  â”‚    â”‚
â”‚   â”‚   â”‚   Karmic Power + Credential Trust + Transaction History â”‚  â”‚    â”‚
â”‚   â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚    â”‚
â”‚   â”‚   â”‚                   = Final Trust Score                    â”‚  â”‚    â”‚
â”‚   â”‚   â”‚                                                          â”‚  â”‚    â”‚
â”‚   â”‚   â”‚   (Wird in Suchergebnissen und Verhandlungen verwendet)  â”‚  â”‚    â”‚
â”‚   â”‚   â”‚                                                          â”‚  â”‚    â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 Environment-Definition (mit Governance)

```yaml
ecl_version: "2.0"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ENVIRONMENT - Suchumgebung mit eigener IdentitÃ¤t
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
environment:
  kind: search_environment
  env_type: domain # real_world | domain | regulatory | network | custom

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY-TRAIT (Pflicht)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did: "did:erynoa:env:domain:ev-charging-de"
  controller: "did:erynoa:gov:bundesnetzagentur" # Wer verwaltet diese Umgebung
  created_at: "2024-01-01T00:00:00Z"
  updated_at: "2025-01-15T10:00:00Z"
  version: "2.1.0"

  # Proof: Signatur des Controllers
  proof:
    type: Ed25519Signature2020
    created: "2025-01-15T10:00:00Z"
    verification_method: "did:erynoa:gov:bundesnetzagentur#key-env"
    proof_value: "z4oJ5C..."

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ENVIRONMENT METADATA
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  metadata:
    name: "German EV Charging Network"
    description: "Offizielle Ladeinfrastruktur-Umgebung fÃ¼r Deutschland"
    jurisdiction: DE
    tags: [ev, charging, regulated, germany]

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # HIERARCHIE (Identity-basiert)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  parent: "did:erynoa:env:domain:ev-charging-eu"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # BLUEPRINT-ANFORDERUNGEN (welche Objekte dÃ¼rfen teilnehmen)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  required_blueprints:
    - "did:erynoa:blueprint:ev-charging-station:v1"
    - "did:erynoa:blueprint:ev-charging-station:v2"

  optional_blueprints:
    - "did:erynoa:blueprint:battery-swap-station:v1"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # STANDARD-KONFORMITÃ„T
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  requires_standards:
    - standard: "did:erynoa:standard:de:eichrecht"
      mandatory: true
    - standard: "did:erynoa:standard:ocpp:2.0.1"
      mandatory: true
    - standard: "did:erynoa:standard:iso:15118:2"
      mandatory: false

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ORDNUNGSRELATIONEN
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ordering:
    primary:
      dimension: trust_score
      type: numeric
      direction: descending

    secondary:
      - dimension: price
        type: numeric
        direction: ascending
      - dimension: availability
        type: categorical
        priority: [available, queued, occupied]
      - dimension: power
        type: numeric
        direction: descending

    spatial:
      strategy: geohash
      precision: 4

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # HEURISTIKEN
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  heuristics:
    informed:
      - name: "ev_charging_score"
        algorithm: a_star
        scoring: |
          (trust_score * 0.3) +
          (1.0 - normalized_price) * 0.25 +
          (1.0 - normalized_distance) * 0.25 +
          (availability_bonus) * 0.2

      - name: "fast_charging_priority"
        algorithm: greedy
        scoring: "power_kw / distance_km"

    uninformed:
      - name: "spatial_bfs"
        algorithm: bfs
        expansion: geohash_neighbors

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CONSTRAINTS (werden an Kind-Umgebungen vererbt)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  constraints:
    hard:
      - name: "must_have_license"
        rule: "member.has_credential('did:erynoa:vc:operator_license')"
        description: "Betreiber muss lizenziert sein"

      - name: "must_be_in_germany"
        rule: "member.location.country == 'DE'"

      - name: "min_power"
        rule: "member.max_power_kw >= 11"

    soft:
      - name: "prefer_renewable"
        rule: "member.energy_source == 'renewable'"
        weight: 0.7

      - name: "prefer_high_trust"
        rule: "member.trust_score >= 0.8"
        weight: 0.5

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # MEMBERSHIP-REGELN
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  membership:
    # Automatische Aufnahme wenn alle Bedingungen erfÃ¼llt
    automatic_if:
      - condition: "member.instantiates IN required_blueprints"
      - condition: "member.location.country == 'DE'"
      - condition: "member.trust_score >= 0.7"

    # Manuelle PrÃ¼fung erforderlich
    requires_approval_if:
      - condition: "member.trust_score < 0.7"
      - condition: "member.is_new_operator"

    # Dauerhaft ausgeschlossen
    blacklist:
      - "did:erynoa:org:sanctioned-operator-xyz"

    # TemporÃ¤r gesperrt
    suspended:
      - did: "did:erynoa:org:under-investigation-abc"
        reason: "Compliance investigation pending"
        until: "2025-06-01T00:00:00Z"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # TRUST CONFIGURATION (Unified Trust Model)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  trust:
    # Wie wird Trust fÃ¼r diese Umgebung berechnet
    aggregation_method: weighted_average

    # Trust-Dimensionen mit Gewichtung
    dimensions:
      - name: compliance
        weight: 0.3
        sources:
          - type: credential_verification
            credential: "did:erynoa:vc:eichrecht_certification"

      - name: reliability
        weight: 0.4
        sources:
          - type: uptime_metrics
            min_uptime: 0.95

      - name: user_satisfaction
        weight: 0.3
        sources:
          - type: attestations
            min_count: 10

    # Minimaler Trust fÃ¼r Verbleib in Umgebung
    min_trust_score: 0.5

    # Grace Period fÃ¼r neue Mitglieder
    new_member_grace_period: "P30D"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY RELATIONSHIPS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  relationships:
    - type: parent
      target: "did:erynoa:env:domain:ev-charging-eu"

    - type: governed_by
      target: "did:erynoa:gov:bundesnetzagentur"

    - type: audited_by
      target: "did:erynoa:org:tuev-sued"

    - type: legislative_of
      target: "did:erynoa:legislative:env:domain:ev-charging-de"

    - type: executive_of
      target: "did:erynoa:executive:env:domain:ev-charging-de"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # GOVERNANCE (Legislative + Executive) â€“ KARMIC POWER SYSTEM
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  governance:
    enabled: true

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # LEGISLATIVE REFERENCE (Regeln dieser Umgebung)
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    legislative:
      ref: "did:erynoa:legislative:env:domain:ev-charging-de"
      # Inline-Definition OR separate Datei (hier: Referenz auf oben definierte)

      # Kurzform der wichtigsten Regeln
      summary:
        karma_asymmetry: 1.5 # Negative Karma wiegt 1.5x stÃ¤rker als Positive
        complaint_base_penalty: -15
        asset_registration_reward: 10
        successful_transaction_reward: 1

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # EXECUTIVE REFERENCE (Durchsetzungsorgan)
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    executive:
      ref: "did:erynoa:executive:env:domain:ev-charging-de"

      # Entry Rights: Wer darf Warnungen/Beschwerden eintragen?
      entry_rights:
        # Alle Agent-IdentitÃ¤ten, die Mitglied sind, haben Eintragsrecht
        eligible: "identities WHERE identity.is_member(this.did)"

        # Agenten haben VOLLE Eintragsrechte (kÃ¶nnen stacken)
        agent_rights:
          can_file_complaints: true
          can_issue_warnings: false # Nur mit Guardian-Status
          can_submit_attestations: true
          can_delegate_power: true
          can_propose_changes: "tier >= 'VertrauenswÃ¼rdig'"
          can_vote: true

        # Objekte (via Ownership-Identity) haben LIMITIERTE Rechte
        object_rights:
          contributes_to_owner_karma: true
          direct_entry_rights: false

      # Network Warning Stack Configuration
      warning_stack_config:
        # Wie werden Warnings aggregiert?
        aggregation: "cumulative_with_decay"
        half_life: "P90D"

        # Wer kann Warnungen ausstellen?
        issuers:
          - role: "governance_committee"
            authority: "full"
          - role: "guardian_tier_member"
            authority: "formal_warnings"
          - role: "any_member"
            authority: "complaints_only" # Wird dann als Warning gewertet wenn berechtigt

      # Power Usage Rules
      power_usage:
        # Was kann man mit akkumulierter Power machen?
        voting:
          enabled: true
          weight_formula: "sqrt(karmic_power)" # Fairere Verteilung

        delegation:
          enabled: true
          max_ratio: 0.5

        proposal_submission:
          minor: { min_power: 200 }
          major: { min_power: 500 }
          constitutional: { min_power: 1000 }

        arbitration_participation:
          min_power: 500
          min_tier: "Guardian"

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # CONNECTED OBJECTS KARMA (Assets bauen Reputation auf)
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    connected_objects:
      # Wie wirken sich Objekte auf die Karma des EigentÃ¼mers aus?
      karma_flow:
        # Positive Flow: Gut funktionierende Assets â†’ hÃ¶here Owner-Karma
        positive:
          asset_uptime:
            condition: "asset.monthly_uptime >= 0.99"
            karma_to_owner: 2
            period: "P30D"
            max_assets_counted: 50

          asset_utilization:
            condition: "asset.utilization_rate >= 0.7"
            karma_to_owner: 1
            period: "P7D"

          asset_positive_reviews:
            condition: "asset.avg_rating >= 4.5"
            karma_to_owner: 3
            per_review: false
            period: "P30D"

        # Negative Flow: Problematische Assets â†’ Karma-Abzug fÃ¼r Owner
        negative:
          asset_downtime:
            condition: "asset.monthly_uptime < 0.90"
            karma_from_owner: -5
            period: "P30D"
            escalation: "progressive" # Wiederholung = schlimmer

          asset_complaints:
            condition: "asset.has_complaints"
            karma_from_owner: -10 # Pro Beschwerde
            multiplier_by_severity:
              minor: 1.0
              moderate: 2.0
              critical: 5.0

          asset_safety_incident:
            condition: "asset.safety_incident_reported"
            karma_from_owner: -100
            immediate: true
            triggers: [investigation, asset_suspension]

      # Aggregation: Wie wird Object-Karma zum Owner-Karma?
      aggregation:
        method: "weighted_sum"

        # Mehr Assets = logarithmisch mehr Gewicht (nicht linear!)
        asset_count_factor: |
          weight = log(1 + asset_count) / log(10)
          # 1 Asset â†’ weight ~0.3
          # 10 Assets â†’ weight ~1.0
          # 100 Assets â†’ weight ~2.0

        # Cap: Maximal 30% der Gesamt-Karma kann aus Assets kommen
        max_contribution_ratio: 0.3

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # COMPLAINT WEIGHTING (Beschwerden wiegen stÃ¤rker!)
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    complaint_system:
      # Basis-Asymmetrie: Negatives wirkt stÃ¤rker als Positives
      asymmetry_factor: 1.5 # -15 Karma fÃ¼r Beschwerde vs. +5 fÃ¼r Lob

      # Beschwerde-Typen mit Gewichtung
      types:
        service_quality:
          base_karma: -10
          requires_evidence: false
          abuse_protection:
            max_from_same_complainant_per_month: 2
            cooldown_after_dismissed: "P30D"

        billing_dispute:
          base_karma: -15
          requires_evidence: true # Rechnung/Beleg erforderlich
          triggers_escrow_review: true

        safety_concern:
          base_karma: -25
          requires_evidence: false
          escalation: "immediate"
          triggers: [investigation, possible_asset_suspension]

        fraud_allegation:
          base_karma: -50
          requires_evidence: true
          requires_multiple_complainants: true # Schutz vor Verleumdung
          triggers: [formal_investigation, account_review]

        terms_violation:
          base_karma: -30
          requires_evidence: true
          adjudicated_by: "governance_committee"

      # Beschwerde-Validierung
      validation:
        # Anonyme Beschwerden?
        anonymous_allowed: false

        # Mindest-Membership-Dauer zum Beschweren
        min_membership_to_file: "P7D"

        # Mindest-Transaktionshistorie mit Beklagtem
        require_prior_interaction: true

        # Schutz vor Missbrauch
        abuse_prevention:
          # Wenn Beschwerden oft abgewiesen werden â†’ Beschwerderecht einschrÃ¤nken
          dismiss_threshold: 3
          dismiss_window: "P90D"
          penalty_for_frivolous: -5 # Beschwerde-Spam wird bestraft

      # Beschwerde-Lifecycle
      lifecycle:
        filed:
          duration: "P3D"
          actions: [notify_target, collect_evidence]

        under_review:
          duration: "P7D"
          reviewer: "auto_or_committee"
          actions: [evaluate_evidence, request_response]

        adjudication:
          duration: "P5D"
          actors: [arbitration_panel_if_severe, auto_resolve_if_minor]

        resolved:
          outcomes: [upheld, dismissed, partially_upheld, mediated]
          karma_applied: true
          appeal_window: "P14D"
```

### 7.4 Environment-Hierarchie (Multi-Environment-Definition)

```yaml
ecl_version: "2.0"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ENVIRONMENT HIERARCHY - Mehrere verknÃ¼pfte Umgebungen
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
environments:
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ROOT: Real World
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - kind: search_environment
    env_type: real_world
    did: "did:erynoa:env:real_world"
    controller: "did:erynoa:authority:erynoa-protocol"
    created_at: "2024-01-01T00:00:00Z"
    version: "1.0.0"
    metadata:
      name: "Physical World"
      description: "Root environment for all physical entities"
    parent: null
    ordering:
      primary:
        dimension: geolocation
        type: spatial
        strategy: geohash
    constraints:
      hard: [] # Keine EinschrÃ¤nkungen auf Root-Ebene

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # LEVEL 1: Domain - Energy Sector
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - kind: search_environment
    env_type: domain
    did: "did:erynoa:env:domain:energy"
    controller: "did:erynoa:authority:energy-regulators-consortium"
    created_at: "2024-01-15T00:00:00Z"
    version: "1.0.0"
    metadata:
      name: "Energy Sector"
      description: "All energy-related assets and services"
    parent: "did:erynoa:env:real_world"
    required_blueprints:
      - "did:erynoa:blueprint:energy-asset:v1"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # LEVEL 2: Domain - European EV Charging
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - kind: search_environment
    env_type: domain
    did: "did:erynoa:env:domain:ev-charging-eu"
    controller: "did:erynoa:gov:eu-commission-energy"
    created_at: "2024-02-01T00:00:00Z"
    version: "1.1.0"
    metadata:
      name: "European EV Charging"
      description: "EV charging infrastructure in EU member states"
    parent: "did:erynoa:env:domain:energy"
    constraints:
      hard:
        - name: "european_jurisdiction"
          rule: "member.location.continent == 'EU'"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # LEVEL 3: Network - Hubject Intercharge
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - kind: search_environment
    env_type: network
    did: "did:erynoa:env:network:hubject-intercharge"
    controller: "did:erynoa:org:hubject"
    created_at: "2024-03-01T00:00:00Z"
    version: "2.0.0"
    metadata:
      name: "Hubject Intercharge Network"
      description: "Hubject roaming network for EV charging"
    parent: "did:erynoa:env:domain:ev-charging-eu"
    membership:
      automatic_if:
        - condition: "member.has_credential('did:erynoa:vc:hubject_roaming_agreement')"
    trust:
      # Network-spezifische Trust-Regeln
      aggregation_method: network_consensus
      network_attestation_weight: 0.6

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # LEVEL 3: Regulatory - Eichrecht Germany
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - kind: search_environment
    env_type: regulatory
    did: "did:erynoa:env:regulatory:eichrecht-de"
    controller: "did:erynoa:gov:ptb-germany" # Physikalisch-Technische Bundesanstalt
    created_at: "2024-01-01T00:00:00Z"
    version: "1.0.0"
    metadata:
      name: "German Calibration Law Environment"
      description: "Entities compliant with German Eichrecht"
    parent: "did:erynoa:env:domain:ev-charging-de"
    requires_standards:
      - standard: "did:erynoa:standard:de:eichrecht"
        mandatory: true
    membership:
      automatic_if:
        - condition: "member.has_credential('did:erynoa:vc:eichrecht_certification')"
        - condition: "credential.issuer IN approved_calibration_bodies"
```

### 7.5 Use Cases: Environment Governance in Aktion

Die folgenden Diagramme zeigen konkrete Szenarien fÃ¼r das Legislative/Executive-System.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ“– USE CASE 1: KARMA AKKUMULATION DURCH VERBUNDENE OBJEKTE              â”‚
â”‚                                                                             â”‚
â”‚   Ein Agent registriert Assets und baut Ã¼ber deren Performance             â”‚
â”‚   automatisch Karmic Power auf                                             â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   Agent: Stadtwerke MÃ¼nchen                                        â”‚  â”‚
â”‚   â”‚   DID: did:erynoa:agent:provider:stadtwerke-munich                 â”‚  â”‚
â”‚   â”‚   Initial Karma: 100 (als "Etabliert" gestartet)                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   REGISTRIERTE ASSETS (via Ownership-Anchor Sub-IDs)       â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   ğŸ”Œ Station-001        ğŸ”Œ Station-002        ğŸ”Œ Station-003â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Uptime: 99.8%       â€¢ Uptime: 98.5%       â€¢ Uptime: 99.9%â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Reviews: â­4.8      â€¢ Reviews: â­4.2      â€¢ Reviews: â­4.9â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â€¢ Complaints: 0       â€¢ Complaints: 1       â€¢ Complaints: 0â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                              â”‚                                      â”‚  â”‚
â”‚   â”‚                              â–¼                                      â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   KARMA FLOW (Monatlich berechnet)                         â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   âœ… Asset Registration:        +10 Ã— 3 = +30               â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   âœ… Uptime Excellence (>99%):  +2  Ã— 2 = +4   (Station 1&3)â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   âœ… High Reviews (â‰¥4.5):       +3  Ã— 2 = +6   (Station 1&3)â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   âš ï¸ Moderate Uptime (<99%):    +0  Ã— 1 = +0   (Station 2)  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   âŒ Complaint (Station 2):     -10 Ã— 1 = -10               â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   NET KARMA CHANGE:                     +30                 â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                              â”‚                                      â”‚  â”‚
â”‚   â”‚                              â–¼                                      â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   RESULT: Stadtwerke MÃ¼nchen                               â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   New Karma: 100 + 30 = 130                                â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   Tier Progression: Etabliert (50-200) âœ“                   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   Governance Power: âˆš130 â‰ˆ 11.4 Voting Weight              â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ“– USE CASE 2: BESCHWERDE-ESKALATION MIT ASYMMETRISCHER GEWICHTUNG      â”‚
â”‚                                                                             â”‚
â”‚   Beschwerden wirken stÃ¤rker als positive Bewertungen                      â”‚
â”‚   (Asymmetrie-Faktor 1.5x)                                                 â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   TIMELINE: Problematic Operator                                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   Tag 1: Initial Karma = 75 (Etabliert)                            â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   Tag 5:  Customer A files complaint (billing_dispute)             â”‚  â”‚
â”‚   â”‚           Base: -15, Evidence provided: Ã—1.5                       â”‚  â”‚
â”‚   â”‚           Karma: 75 - 22.5 = 52.5                                  â”‚  â”‚
â”‚   â”‚           âš ï¸ Warning #1 issued                                     â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   Tag 12: Customer B files complaint (service_quality)             â”‚  â”‚
â”‚   â”‚           Base: -10, Same issue pattern: Ã—1.3                      â”‚  â”‚
â”‚   â”‚           Karma: 52.5 - 13 = 39.5                                  â”‚  â”‚
â”‚   â”‚           âš ï¸ Warning #2 issued                                     â”‚  â”‚
â”‚   â”‚           â— Tier downgrade: "Etabliert" â†’ "Neuling"                â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   Tag 15: 5 positive transactions completed                        â”‚  â”‚
â”‚   â”‚           +1 Ã— 5 = +5 (positive wirkt schwÃ¤cher!)                   â”‚  â”‚
â”‚   â”‚           Karma: 39.5 + 5 = 44.5                                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   Tag 20: Customer C files complaint (safety_concern!)             â”‚  â”‚
â”‚   â”‚           Base: -25, Critical escalation: Ã—2                       â”‚  â”‚
â”‚   â”‚           Karma: 44.5 - 50 = -5.5                                  â”‚  â”‚
â”‚   â”‚           âš ï¸ Warning #3 issued                                     â”‚  â”‚
â”‚   â”‚           ğŸš¨ AUTOMATIC: "restricted_mode" activated                â”‚  â”‚
â”‚   â”‚           â— Tier downgrade: "Neuling" â†’ "Unter Beobachtung"        â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   RESULTING STATE:                                                 â”‚  â”‚
â”‚   â”‚   â€¢ Karma: -5.5 (Unter Beobachtung)                               â”‚  â”‚
â”‚   â”‚   â€¢ Warnings: 3 (1 mehr â†’ probation!)                              â”‚  â”‚
â”‚   â”‚   â€¢ Restrictions:                                                  â”‚  â”‚
â”‚   â”‚     - Max transaction value: 50% reduced                           â”‚  â”‚
â”‚   â”‚     - New asset registration: BLOCKED                              â”‚  â”‚
â”‚   â”‚     - Duration: 14 days                                            â”‚  â”‚
â”‚   â”‚   â€¢ Required Action: Compliance review                             â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   ğŸ’¡ ASYMMETRIE IN ZAHLEN:                                                 â”‚
â”‚   â€¢ 3 Beschwerden kosteten: -85.5 Karma                                    â”‚
â”‚   â€¢ Es brÃ¤uchte ~86 erfolgreiche Transaktionen (+1 je), um das             â”‚
â”‚     auszugleichen! Das entspricht dem Asymmetrie-Prinzip.                  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ“– USE CASE 3: NETWORK WARNING STACKING & EXECUTIVE POWER               â”‚
â”‚                                                                             â”‚
â”‚   Agenten stacken Warnungen Ã¼ber Zeit â†’ akkumulieren Executive Power       â”‚
â”‚   â†’ nutzen Power fÃ¼r Governance                                            â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ENVIRONMENT: did:erynoa:env:network:premium-charging-de          â”‚  â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚   â”‚   â”‚ KARMIC LEDGER (aktuelle Mitglieder)                       â”‚    â”‚  â”‚
â”‚   â”‚   â”‚                                                           â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ DID                          â”‚ Karma â”‚ Tier      â”‚ Power  â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ did:...:stadtwerke-munich    â”‚  847  â”‚ ğŸ†Guardianâ”‚ 29.1   â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ did:...:enbw-mobility        â”‚  623  â”‚ ğŸ†Guardianâ”‚ 25.0   â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ did:...:ionity-de            â”‚  412  â”‚ â­Trust   â”‚ 20.3   â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ did:...:shell-recharge       â”‚  289  â”‚ â­Trust   â”‚ 17.0   â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ did:...:neue-firma-gmbh      â”‚   45  â”‚ ğŸŒ±Neuling â”‚  6.7   â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ did:...:problematic-op       â”‚  -75  â”‚ âš ï¸Beobachtâ”‚  0.0   â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ TOTAL GOVERNANCE POWER                           â”‚ 98.1   â”‚    â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚   â”‚   â”‚ ACTIVE PROPOSAL: prop-2025-007                            â”‚    â”‚  â”‚
â”‚   â”‚   â”‚                                                           â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ "ErhÃ¶hung der Mindest-Uptime von 95% auf 98%"            â”‚    â”‚  â”‚
â”‚   â”‚   â”‚                                                           â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ Proposer: stadtwerke-munich (Power: 29.1)                â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ Type: major (requires 67% approval)                       â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ Quorum: 15% of 98.1 = 14.7 Power needed                  â”‚    â”‚  â”‚
â”‚   â”‚   â”‚                                                           â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ VOTES:                                                    â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ âœ… FOR:      stadtwerke (29.1) + enbw (25.0) + ionity (20.3)  â”‚  â”‚
â”‚   â”‚   â”‚              = 74.4 Power (75.8%)                         â”‚    â”‚  â”‚
â”‚   â”‚   â”‚                                                           â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ âŒ AGAINST:  shell (17.0) = 17.0 Power (17.3%)           â”‚    â”‚  â”‚
â”‚   â”‚   â”‚                                                           â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ â¬œ ABSTAIN:  neue-firma (6.7) = 6.7 Power (6.8%)         â”‚    â”‚  â”‚
â”‚   â”‚   â”‚                                                           â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ ğŸš« NO VOTE:  problematic-op (Karma < 0 â†’ no voting rights)â”‚    â”‚  â”‚
â”‚   â”‚   â”‚                                                           â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ Quorum: âœ… (91.4 > 14.7)                                  â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ Approval: 75.8% > 67% â†’ âœ… PROPOSAL PASSES                â”‚    â”‚  â”‚
â”‚   â”‚   â”‚                                                           â”‚    â”‚  â”‚
â”‚   â”‚   â”‚ Execution in 3 days (time-lock)                          â”‚    â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   ğŸ’¡ POWER = âˆšKarma (Wurzel fÃ¼r fairere Verteilung)                        â”‚
â”‚   ğŸ’¡ Negative Karma = 0 Power (kein Stimmrecht)                            â”‚
â”‚   ğŸ’¡ Quorum verhindert Entscheidungen durch kleine Gruppen                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ“– USE CASE 4: AGENT MIT SUB-IDENTITIES IN GOVERNANCE                   â”‚
â”‚                                                                             â”‚
â”‚   Agent nutzt Sub-IDs fÃ¼r verschiedene Governance-AktivitÃ¤ten             â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ROOT AGENT: FleetCo GmbH                                         â”‚  â”‚
â”‚   â”‚   DID: did:erynoa:agent:provider:fleetco                           â”‚  â”‚
â”‚   â”‚   Karma: 523 (â­ VertrauenswÃ¼rdig)                                  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚                    â”‚                                                â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚   â”‚   â”‚                â”‚                                    â”‚          â”‚  â”‚
â”‚   â”‚   â–¼                â–¼                                    â–¼          â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   SUB-ID: Avatar   SUB-ID: Delegate        SUB-ID: Ownership       â”‚  â”‚
â”‚   â”‚   "Premium-Net"    "Verhandlungs-Agent"    "Asset-Anker"           â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ğŸ­ Umgebungs-     ğŸ¤ Autonome             ğŸ”— Verbindet Assets    â”‚  â”‚
â”‚   â”‚   spezifischer     Preis-Verhandlung       mit Agent-Karma         â”‚  â”‚
â”‚   â”‚   ReprÃ¤sentant                                                      â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â€¢ Stimmt in       â€¢ Kann im Namen des    â€¢ 15 Ladestationen      â”‚  â”‚
â”‚   â”‚     "Premium-Net"     Agents verhandeln      registriert           â”‚  â”‚
â”‚   â”‚     ab                                                              â”‚  â”‚
â”‚   â”‚                     â€¢ Karma-Auswirkungen   â€¢ Deren Performance     â”‚  â”‚
â”‚   â”‚   â€¢ Karma des         flieÃŸen zum            flieÃŸt in Agent-      â”‚  â”‚
â”‚   â”‚     Avatars =         Root-Agent             Karma ein             â”‚  â”‚
â”‚   â”‚     isoliert                                                        â”‚  â”‚
â”‚   â”‚     (Umgebungs-     â€¢ Max Wert: 500 EUR    â€¢ Connected Objects     â”‚  â”‚
â”‚   â”‚     spezifisch)       pro Verhandlung        Karma-Bonus: +15/Mo   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   GOVERNANCE ACTIVITY LOG                                  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   [2025-01-28 10:00] Avatar voted FOR prop-2025-007        â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                      in Premium-Net environment             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                      Power used: 22.9 (âˆš523)               â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   [2025-01-27 15:30] Delegate negotiated charging slot     â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                      Transaction value: 45 EUR              â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                      Result: +1 Karma to root               â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   [2025-01-26 09:00] Ownership-Anchor received monthly     â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                      asset performance bonus                â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                      15 assets Ã— avg 98.5% uptime          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                      Result: +28 Karma to root              â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   [2025-01-25 11:00] Root agent delegated 10 Power to      â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                      industry association for prop-2025-008 â”‚  â”‚  â”‚
â”‚   â”‚   â”‚                                                             â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   ğŸ’¡ Sub-IDs ermÃ¶glichen flexible Governance-Teilnahme                     â”‚
â”‚   ğŸ’¡ Karma flieÃŸt entlang der Identity-Hierarchie zum Root                 â”‚
â”‚   ğŸ’¡ Power kann delegiert werden fÃ¼r kollektive Entscheidungen             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 7.3 Object Placement & Chain-Anchoring (v2.1)

> _Objekte leben in Umgebungen â€“ default in ROOT, mit Pflicht-Anchoring fÃ¼r virtuelle Environments_

#### 7.3.1 Object-Environment Lifecycle

Jedes Objekt (AMO) hat einen definierten Platz in der Environment-Hierarchie:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                    OBJECT-ENVIRONMENT STATE MACHINE                         â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚  â”‚
â”‚   â”‚                    â”‚  CREATED  â”‚ â† Alle Objekte starten hier       â”‚  â”‚
â”‚   â”‚                    â”‚  (in ROOT)â”‚   env:erynoa:real_world           â”‚  â”‚
â”‚   â”‚                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                    â”‚  â”‚
â”‚   â”‚                          â”‚                                          â”‚  â”‚
â”‚   â”‚           plan_move()    â”‚                                          â”‚  â”‚
â”‚   â”‚                          â–¼                                          â”‚  â”‚
â”‚   â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚  â”‚
â”‚   â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  PLANNED  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚  â”‚
â”‚   â”‚           â”‚        â”‚           â”‚         â”‚                          â”‚  â”‚
â”‚   â”‚           â”‚        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â”‚                          â”‚  â”‚
â”‚   â”‚           â”‚              â”‚               â”‚                          â”‚  â”‚
â”‚   â”‚  cancel() â”‚   execute_   â”‚               â”‚ replan()                 â”‚  â”‚
â”‚   â”‚           â”‚   anchoring()â”‚               â”‚                          â”‚  â”‚
â”‚   â”‚           â”‚              â–¼               â”‚                          â”‚  â”‚
â”‚   â”‚           â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚                          â”‚  â”‚
â”‚   â”‚           â”‚        â”‚ ANCHORING â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚  â”‚
â”‚   â”‚           â”‚        â”‚  (pending)â”‚   failed()                         â”‚  â”‚
â”‚   â”‚           â”‚        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                    â”‚  â”‚
â”‚   â”‚           â”‚              â”‚                                          â”‚  â”‚
â”‚   â”‚           â”‚   confirmed()â”‚                                          â”‚  â”‚
â”‚   â”‚           â”‚              â–¼                                          â”‚  â”‚
â”‚   â”‚           â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚  â”‚
â”‚   â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”‚  ANCHORED â”‚                                    â”‚  â”‚
â”‚   â”‚                    â”‚           â”‚                                    â”‚  â”‚
â”‚   â”‚                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                    â”‚  â”‚
â”‚   â”‚                          â”‚                                          â”‚  â”‚
â”‚   â”‚           activate_      â”‚                                          â”‚  â”‚
â”‚   â”‚           scoring()      â”‚                                          â”‚  â”‚
â”‚   â”‚                          â–¼                                          â”‚  â”‚
â”‚   â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚   â”‚                    â”‚  ACTIVE   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  FALLBACK â”‚              â”‚  â”‚
â”‚   â”‚                    â”‚ (scoring) â”‚ env_    â”‚ (to parent)â”‚              â”‚  â”‚
â”‚   â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ deact() â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   âš ï¸ KRITISCH: Ohne Anchoring â†’ Kein Scoring in virtuellen Environments!  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7.3.2 Chain-Branch Definition

Jede virtuelle Umgebung definiert ihren **Chain-Branch** â€“ die DLT, auf der Objekte geankert werden mÃ¼ssen:

```yaml
# Chain-Branch in Environment-Definition
environment:
  kind: environment
  id: "env:erynoa:ev-charging:germany"

  # Chain-Branch Konfiguration
  chain_branch:
    type: "iota"                           # IOTA, ethereum, solana, hyperledger
    network: "chrysalis"                   # Spezifisches Netzwerk
    anchoring_required: true               # Pflicht-Anchoring
    anchoring_timeout: @duration("24h")    # Max Zeit fÃ¼r Anchoring
    fallback_branch: "branch:iota:shimmer" # Alternative bei Netzwerkausfall

    # Anchoring-Kosten & Limits
    max_anchoring_cost: "0.1 IOTA"
    batch_anchoring: true                  # Mehrere Objekte in einer TX
    batch_size: 100

  # Fallback-Hierarchie bei Deaktivierung
  deactivation_fallback:
    - "env:erynoa:ev-charging:europe"
    - "env:erynoa:real_world"              # Ultimativer Fallback
```

#### 7.3.3 ERY Placement APIs

ERY bietet Host-APIs fÃ¼r Object-Placement-Queries:

```ecl
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PLACEMENT QUERY APIs (verfÃ¼gbar via ERY Host Functions)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Aktuelle Position eines Objekts abfragen
@host_function
fn ery_get_object_placement(did: DID) -> PlacementInfo {
  PlacementInfo {
    current_environment: env_id,           // Aktuelle Umgebung
    environment_hierarchy: [env_id, ...],  // Pfad ROOT â†’ current
    chain_branch: BranchInfo,              // DLT fÃ¼r diese Umgebung
    anchored: bool,                        // Wurde auf Chain geankert?
    scoring_active: bool,                  // Ist Scoring aktiviert?
    planned_movements: [Movement, ...]     // Geplante Umgebungswechsel
  }
}

// Netzwerk-Information fÃ¼r Environment
@host_function
fn ery_get_environment_network(env_id: EnvID) -> NetworkInfo {
  NetworkInfo {
    chain_type: "iota" | "ethereum" | "solana" | ...,
    network_id: String,                    // mainnet, testnet, shimmer
    anchoring_endpoint: URL,               // Endpoint fÃ¼r Anchoring
    current_fee: Amount,                   // Aktuelle Transaktionskosten
    avg_confirmation_time: Duration        // Durchschnittliche BestÃ¤tigungszeit
  }
}

// Hierarchie-Navigation
@host_function
fn ery_get_hierarchy_path(from_env: EnvID, to_env: EnvID) -> Vec<EnvID> {
  // Gibt den kÃ¼rzesten Pfad zwischen zwei Umgebungen zurÃ¼ck
}

// Parent-Chain ermitteln
@host_function
fn ery_get_parent_chain(env_id: EnvID) -> Option<BranchInfo> {
  // Gibt die Chain-Info der Parent-Umgebung zurÃ¼ck
}

// Fallback-Kette bei Deaktivierung ermitteln
@host_function
fn ery_get_fallback_chain(env_id: EnvID) -> Vec<EnvID> {
  // Gibt die Fallback-Hierarchie zurÃ¼ck
}
```

#### 7.3.4 Object Placement in ECL

AMOs kÃ¶nnen ihre Platzierung in ECL definieren:

```yaml
# AMO mit Placement-Definition
amo:
  kind: amo

  identity:
    did: "did:erynoa:charger:munich-001"
    blueprint: "blueprint:erynoa:charging-station:dc"

  state:
    power_output: 150
    connector_type: "CCS"
    location: "u281z"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # PLACEMENT BLOCK (v2.1)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  placement:
    # Aktuelle Umgebung
    current_environment: "env:erynoa:ev-charging:germany"

    # Status im Lifecycle
    status: "ACTIVE"  # CREATED | PLANNED | ANCHORING | ANCHORED | ACTIVE | FALLBACK

    # Anchoring-Nachweis
    anchoring:
      chain_branch: "branch:iota:chrysalis"
      anchor_tx: "iota:0x1234567890abcdef..."
      anchored_at: @datetime("2024-03-15T10:30:00Z")
      anchor_proof: "0x..."  # Signierter Hash des Object-State

    # Scoring-Status
    scoring:
      active: true
      activated_at: @datetime("2024-03-15T10:31:00Z")
      environment_rules_applied: true
      karma_accumulation: 523

    # Fallback-Kette (geordnet)
    fallback_chain: [
      "env:erynoa:ev-charging:germany",
      "env:erynoa:ev-charging:europe",
      "env:erynoa:real_world"
    ]

    # Geplante Bewegungen
    planned_movements: [
      {
        target: "env:erynoa:roaming:hubject"
        planned_at: @datetime("2024-04-01T00:00:00Z")
        requires_anchoring: true
        estimated_cost: "0.05 IOTA"
      }
    ]

    # Anchoring-History
    anchoring_history: [
      {
        environment: "env:erynoa:ev-charging:germany"
        chain_branch: "branch:iota:chrysalis"
        anchor_tx: "iota:0x1234..."
        timestamp: @datetime("2024-03-15T10:30:00Z")
        status: "confirmed"
      }
    ]
```

#### 7.3.5 Environment Deactivation & Fallback

Wenn eine Umgebung deaktiviert wird, fallen Objekte automatisch zurÃ¼ck:

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ENVIRONMENT DEACTIVATION EVENT
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

environment_deactivation:
  # GrÃ¼nde fÃ¼r Deaktivierung
  reasons:
    - governance_decision    # Council hat Deaktivierung beschlossen
    - trust_threshold       # Trust unter Minimum gefallen
    - contract_expiry       # Vertrag ausgelaufen
    - chain_failure         # Underlying Chain nicht erreichbar
    - emergency_shutdown    # Notfall-Abschaltung

  # Fallback-Prozess
  fallback_process:
    # 1. Identifiziere betroffene Objekte
    affected_objects: @query("SELECT did FROM objects WHERE environment = :env_id")

    # 2. Bestimme Ziel-Umgebung
    target_environment: @first_available(environment.fallback_chain)

    # 3. PrÃ¼fe ob Re-Anchoring erforderlich
    requires_reanchoring: |
      target_environment.chain_branch != source_environment.chain_branch

    # 4. FÃ¼hre Migration durch
    migration_steps:
      - notify_objects
      - pause_scoring                    # WÃ¤hrend Migration
      - execute_reanchoring_if_needed    # Falls andere Chain
      - update_placement_records
      - resume_scoring_in_new_env

    # 5. Preserve History
    preserve:
      - anchoring_history
      - karma_accumulated
      - trust_vectors

  # Zeitrahmen
  grace_period: @duration("24h")         # Zeit fÃ¼r geordnete Migration
  emergency_fallback: @duration("1h")    # Bei Chain-Failure
```

#### 7.3.6 Placement Validation Rules

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# VALIDATION RULES FÃœR OBJECT PLACEMENT
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

placement_validation:
  # Regel 1: Objekte mÃ¼ssen immer in einer Umgebung sein
  rule_always_placed:
    assert: object.placement.current_environment != null
    fallback: "env:erynoa:real_world"

  # Regel 2: Scoring nur nach Anchoring
  rule_scoring_requires_anchoring:
    condition: object.placement.current_environment.type == "VIRTUAL"
    assert: object.placement.anchored == true
    before_scoring: true
    error: "SCORING_REQUIRES_ANCHORING"

  # Regel 3: Anchoring muss auf korrekter Chain sein
  rule_correct_chain:
    assert: |
      object.placement.anchoring.chain_branch ==
      object.placement.current_environment.chain_branch
    error: "CHAIN_MISMATCH"

  # Regel 4: Membership muss erfÃ¼llt sein
  rule_membership_required:
    assert: |
      object.placement.current_environment.check_membership(object.did)
    before_planning: true
    error: "MEMBERSHIP_CRITERIA_NOT_MET"

  # Regel 5: Root hat immer implizites Anchoring
  rule_root_implicit_anchoring:
    condition: object.placement.current_environment == "env:erynoa:real_world"
    set:
      anchored: true
      scoring_active: true
```

---

## 8. Agent Module (`ecl/agent`) â€“ Identity-Aware Actors

Das Agent-Modul definiert **Agenten, Intents und Policies** als identifizierbare EntitÃ¤ten. Jeder Agent, jedes Intent und jede Policy hat eine eigene DID.

### 7.1 Das Identity-First Agent Model

```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚
â”‚ ğŸ” IDENTITY-FIRST AGENT ARCHITECTURE â”‚
â”‚ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ AGENT (did:erynoa:agent:_) â”‚ â”‚
â”‚ â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚ â”‚
â”‚ â”‚ â€¢ Seeker oder Provider â”‚ â”‚
â”‚ â”‚ â€¢ Hat eigene DID â”‚ â”‚
â”‚ â”‚ â€¢ Akkumuliert Trust â”‚ â”‚
â”‚ â”‚ â€¢ Controller: User oder Org â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â–¼ â–¼ â”‚ â”‚
â”‚ â”‚ INTENT (did:erynoa:intent:_) POLICY (did:erynoa:policy:\*) â”‚ â”‚
â”‚ â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚ â”‚
â”‚ â”‚ â€¢ Suchauftrag (ephemer) â€¢ Angebots-Regeln (persistent) â”‚ â”‚
â”‚ â”‚ â€¢ Hat eigene DID â€¢ Hat eigene DID â”‚ â”‚
â”‚ â”‚ â€¢ Referenziert Agent â€¢ Referenziert Agent â”‚ â”‚
â”‚ â”‚ â€¢ Zeitlich begrenzt â€¢ Versioniert â”‚ â”‚
â”‚ â”‚ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”‚
â”‚ ğŸ’¡ VOLLSTÃ„NDIGE RÃœCKVERFOLGBARKEIT: Jede Aktion ist DID-verknÃ¼pft â”‚
â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

### 7.2 Agent-Definition (Identity-First)

```yaml
ecl_version: "2.0"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# AGENT - Autonomer Akteur mit eigener IdentitÃ¤t
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
agent:
  kind: agent
  agent_type: seeker # seeker | provider | autonomous

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY-TRAIT (Pflicht)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did: "did:erynoa:agent:seeker:ev-fleet-agent-001"
  controller: "did:erynoa:org:fleetco-gmbh"
  created_at: "2024-06-01T10:00:00Z"
  updated_at: "2025-01-15T14:30:00Z"
  version: "2.1.0"

  # Sub-Identity FÃ¤higkeiten (als Root-Identity)
  derivation_depth: 0 # Dies ist eine Root-Identity
  max_sub_depth: 3 # Kann bis zu 3 Ebenen tiefe Sub-IDs erzeugen
  allowed_sub_types: # Welche Sub-Identity-Arten darf dieser Agent erzeugen
    - avatar # Umgebungs-Avatare
    - delegate # Delegierte Agenten
    - session # Session-IdentitÃ¤ten
    - proxy # TemporÃ¤re Proxies
    - ownership_anchor # Besitz-Anker fÃ¼r Assets
    - bundle # Asset-BÃ¼ndel
    - capability # Capability-TrÃ¤ger

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # AGENT METADATA
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  metadata:
    name: "FleetCo EV Charging Agent"
    description: "Autonomous agent for EV fleet charging optimization"
    tags: [ev, fleet, charging, autonomous]

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # SUB-IDENTITY CONFIGURATION (Erweitert!)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  sub_identity_config:
    # Automatische Avatar-Erstellung beim Betreten neuer Umgebungen
    auto_avatar_creation:
      enabled: true
      for_environments:
        - pattern: "did:erynoa:env:network:*" # Alle Netzwerk-Umgebungen
        - pattern: "did:erynoa:env:domain:ev-*" # Alle EV-DomÃ¤nen
      avatar_defaults:
        expires_after: "P365D" # 1 Jahr gÃ¼ltig
        capabilities: inherit_from_parent # Erbt Capabilities vom Agent
        value_limits:
          max_single_transaction: "1000 EUR"

    # Delegation-Regeln
    delegation_policy:
      # Automatische Delegate-Erstellung fÃ¼r Routine-Aufgaben
      auto_delegate:
        enabled: true
        for_tasks:
          - task_type: price_negotiation
            max_value: "500 EUR"
            autonomy: fully_autonomous
          - task_type: slot_reservation
            max_duration: "PT4H"
            autonomy: semi_autonomous

      # Manuelle Freigabe fÃ¼r
      requires_manual_approval:
        - tasks_above_value: "1000 EUR"
        - new_environment_entry: true
        - ownership_transfers: true

    # Session-Identity-Regeln
    session_policy:
      # Sessions automatisch fÃ¼r jede Transaktion
      auto_create: true
      max_duration: "PT8H" # Maximal 8 Stunden
      inherit_trust_factor: 0.8 # 80% Trust-Vererbung
      audit_all_sessions: true

    # Ownership-Anchor-Regeln
    ownership_policy:
      # Welche Assets darf dieser Agent mit Ownership-Anchors versehen
      allowed_asset_types:
        - vehicle
        - charging_session
        - energy_certificate

      # Ownership-Ãœbertragung
      transfer_requires:
        - signature: controller
        - signature: new_owner
        - optional: notary # Bei hohen Werten

    # Bundle-Regeln
    bundle_policy:
      enabled: true
      max_bundle_size: 100
      allowed_member_types:
        - vehicle
        - charging_point
        - energy_contract

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # AKTIVE SUB-IDENTITIES (Runtime-State)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  active_sub_identities:
    avatars:
      - did: "did:erynoa:sub:avatar:a1b2c3d4:hubject-network"
        environment: "did:erynoa:env:network:hubject-intercharge"
        status: active
        created_at: "2025-01-15T10:00:00Z"

      - did: "did:erynoa:sub:avatar:e5f6g7h8:gireve-network"
        environment: "did:erynoa:env:network:gireve"
        status: active
        created_at: "2025-01-20T14:00:00Z"

    delegates:
      - did: "did:erynoa:sub:delegate:i9j0k1l2:night-negotiator"
        purpose: "Off-peak charging negotiation"
        autonomy: fully_autonomous
        active_hours: "22:00-06:00"
        status: active

    bundles:
      - did: "did:erynoa:sub:bundle:q7r8s9t0:fleet-north"
        member_count: 42
        bundle_type: vehicle_fleet
        status: active

    ownership_anchors:
      - did: "did:erynoa:sub:ownership:u1v2w3x4:vehicle-123"
        asset: "did:erynoa:vehicle:vin-WVWZZZ3CZWE123456"
        ownership_type: full_ownership
        status: active

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # RELATIONSHIPS (Identity-based)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  relationships:
    # GehÃ¶rt zu Organisation
    - type: member_of
      target: "did:erynoa:org:fleetco-gmbh"

    # Verwaltet diese Fahrzeuge (via Ownership-Anchors!)
    - type: manages
      targets:
        - "did:erynoa:vehicle:vin-WVWZZZ3CZWE123456"
        - "did:erynoa:vehicle:vin-WVWZZZ3CZWE123457"
        - "did:erynoa:vehicle:vin-WVWZZZ3CZWE123458"

    # Hat diese Avatare
    - type: has_avatar
      targets:
        - "did:erynoa:sub:avatar:a1b2c3d4:hubject-network"
        - "did:erynoa:sub:avatar:e5f6g7h8:gireve-network"

    # Hat diese Delegates
    - type: has_delegate
      targets:
        - "did:erynoa:sub:delegate:i9j0k1l2:night-negotiator"

    # Operiert in diesen Umgebungen (via Avatare!)
    - type: participates_in
      targets:
        - "did:erynoa:env:domain:ev-charging-de"
        - "did:erynoa:env:network:hubject-intercharge"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CREDENTIALS (VCs die dieser Agent besitzt)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  credentials:
    - "did:erynoa:vc:license:fleet-operator-fleetco"
    - "did:erynoa:vc:cert:autonomous-agent-certified"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # WALLET CONFIGURATION
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  wallet:
    primary: "did:erynoa:wallet:fleetco-agent-001"

    # Sub-Wallets fÃ¼r Sub-Identities
    sub_wallets:
      - sub_identity: "did:erynoa:sub:avatar:a1b2c3d4:hubject-network"
        wallet: "did:erynoa:wallet:fleetco-avatar-hubject"
        limits:
          daily_max: "5000 EUR"

      - sub_identity: "did:erynoa:sub:delegate:i9j0k1l2:night-negotiator"
        wallet: "did:erynoa:wallet:fleetco-delegate-night"
        limits:
          daily_max: "2000 EUR"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # CAPABILITIES (was kann dieser Agent)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  capabilities:
    - ev_charging_negotiation
    - payment_streaming
    - trust_attestation
    - autonomous_decision_making
    - sub_identity_creation # Kann Sub-Identities erzeugen
    - ownership_management # Kann Besitz verwalten
    - delegation_management # Kann Delegationen verwalten

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # AUTONOMY LEVEL
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  autonomy:
    level: semi_autonomous # manual | semi_autonomous | fully_autonomous
    requires_approval_for:
      - transactions_above: "100 EUR"
      - new_provider_relationships: true
      - environment_changes: false
      - sub_identity_creation_above_depth: 2 # Ab Tiefe 2 Genehmigung nÃ¶tig
      - ownership_transfers: true
```

### 7.3 Sub-Identity Use Cases fÃ¼r Agenten

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ” AGENT SUB-IDENTITY USE CASES                                          â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   USE CASE 1: Multi-Environment Presence                         â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                          â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   Agent (Root)                                                    â”‚    â”‚
â”‚   â”‚      â”‚                                                            â”‚    â”‚
â”‚   â”‚      â”œâ”€â”€ Avatar (Hubject)  â†’ Verhandelt in Hubject-Netzwerk     â”‚    â”‚
â”‚   â”‚      â”‚      â””â”€â”€ Session    â†’ Einzelne Lade-Session              â”‚    â”‚
â”‚   â”‚      â”‚                                                            â”‚    â”‚
â”‚   â”‚      â”œâ”€â”€ Avatar (Gireve)   â†’ Verhandelt in Gireve-Netzwerk      â”‚    â”‚
â”‚   â”‚      â”‚      â””â”€â”€ Session    â†’ Einzelne Lade-Session              â”‚    â”‚
â”‚   â”‚      â”‚                                                            â”‚    â”‚
â”‚   â”‚      â””â”€â”€ Avatar (Tesla)    â†’ Verhandelt im Tesla-Supercharger   â”‚    â”‚
â”‚   â”‚             â””â”€â”€ Session    â†’ Einzelne Lade-Session              â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â†’ Jeder Avatar hat umgebungsspezifische Credentials            â”‚    â”‚
â”‚   â”‚   â†’ Jede Session ist isoliert und auditierbar                    â”‚    â”‚
â”‚   â”‚   â†’ Trust akkumuliert am Avatar, flieÃŸt zum Root-Agent           â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   USE CASE 2: Asset Ownership via Sub-Identities                 â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                  â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   Organisation                                                    â”‚    â”‚
â”‚   â”‚      â”‚                                                            â”‚    â”‚
â”‚   â”‚      â””â”€â”€ Fleet Bundle (Sub-ID)                                   â”‚    â”‚
â”‚   â”‚             â”‚                                                     â”‚    â”‚
â”‚   â”‚             â”œâ”€â”€ Ownership Anchor â†’ Fahrzeug A                    â”‚    â”‚
â”‚   â”‚             â”‚      â€¢ Ownership-Type: full                        â”‚    â”‚
â”‚   â”‚             â”‚      â€¢ Transferable: yes                           â”‚    â”‚
â”‚   â”‚             â”‚                                                     â”‚    â”‚
â”‚   â”‚             â”œâ”€â”€ Ownership Anchor â†’ Fahrzeug B                    â”‚    â”‚
â”‚   â”‚             â”‚      â€¢ Ownership-Type: leased                      â”‚    â”‚
â”‚   â”‚             â”‚      â€¢ Encumbered by: Leasing GmbH                 â”‚    â”‚
â”‚   â”‚             â”‚                                                     â”‚    â”‚
â”‚   â”‚             â””â”€â”€ Ownership Anchor â†’ Fahrzeug C                    â”‚    â”‚
â”‚   â”‚                    â€¢ Ownership-Type: full                        â”‚    â”‚
â”‚   â”‚                    â€¢ Transferable: yes                           â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â†’ Ownership wird Ã¼ber Sub-IDs verwaltet, nicht direkt          â”‚    â”‚
â”‚   â”‚   â†’ Ãœbertragung = Transfer der Ownership-Sub-ID                  â”‚    â”‚
â”‚   â”‚   â†’ Belastungen (Pfand, Leasing) an Sub-ID dokumentiert          â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   USE CASE 3: Autonomous Delegation Hierarchy                    â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                     â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   Fleet Manager Agent (semi-autonomous)                          â”‚    â”‚
â”‚   â”‚      â”‚                                                            â”‚    â”‚
â”‚   â”‚      â”œâ”€â”€ Delegate: Price Negotiator (fully-autonomous)           â”‚    â”‚
â”‚   â”‚      â”‚      â€¢ Scope: max 500 EUR, peak hours                     â”‚    â”‚
â”‚   â”‚      â”‚      â€¢ Can create: Sessions only                          â”‚    â”‚
â”‚   â”‚      â”‚      â””â”€â”€ Session â†’ Einzelverhandlung                      â”‚    â”‚
â”‚   â”‚      â”‚                                                            â”‚    â”‚
â”‚   â”‚      â”œâ”€â”€ Delegate: Night Optimizer (fully-autonomous)            â”‚    â”‚
â”‚   â”‚      â”‚      â€¢ Scope: 22:00-06:00, max 200 EUR                    â”‚    â”‚
â”‚   â”‚      â”‚      â€¢ Can create: Sessions only                          â”‚    â”‚
â”‚   â”‚      â”‚      â””â”€â”€ Session â†’ Nachtlade-Session                      â”‚    â”‚
â”‚   â”‚      â”‚                                                            â”‚    â”‚
â”‚   â”‚      â””â”€â”€ Delegate: Emergency Handler (supervised)                â”‚    â”‚
â”‚   â”‚             â€¢ Scope: NotfÃ¤lle, no value limit                    â”‚    â”‚
â”‚   â”‚             â€¢ Requires: Human approval                           â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â†’ Verschiedene Autonomiestufen pro Delegate                    â”‚    â”‚
â”‚   â”‚   â†’ Scope wird von Ebene zu Ebene enger                          â”‚    â”‚
â”‚   â”‚   â†’ VollstÃ¤ndige Audit-Trail Ã¼ber alle Ebenen                    â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   USE CASE 4: Privacy-Preserving Virtual Environments            â”‚    â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   User (natÃ¼rliche Person)                                       â”‚    â”‚
â”‚   â”‚      â”‚                                                            â”‚    â”‚
â”‚   â”‚      â”œâ”€â”€ Persona: Private (jurisdiction: EU)                     â”‚    â”‚
â”‚   â”‚      â”‚      â€¢ Full GDPR compliance                               â”‚    â”‚
â”‚   â”‚      â”‚      â€¢ Minimal data sharing                               â”‚    â”‚
â”‚   â”‚      â”‚      â””â”€â”€ Avatar (Consumer App) â†’ Private Nutzung          â”‚    â”‚
â”‚   â”‚      â”‚                                                            â”‚    â”‚
â”‚   â”‚      â”œâ”€â”€ Persona: Business (jurisdiction: DE)                    â”‚    â”‚
â”‚   â”‚      â”‚      â€¢ Business credentials attached                      â”‚    â”‚
â”‚   â”‚      â”‚      â€¢ Tax documentation                                  â”‚    â”‚
â”‚   â”‚      â”‚      â””â”€â”€ Avatar (Fleet Platform) â†’ GeschÃ¤ftlich           â”‚    â”‚
â”‚   â”‚      â”‚                                                            â”‚    â”‚
â”‚   â”‚      â””â”€â”€ Persona: Anonymous (ephemeral)                          â”‚    â”‚
â”‚   â”‚             â€¢ No persistent data                                 â”‚    â”‚
â”‚   â”‚             â€¢ Single-use sessions                                â”‚    â”‚
â”‚   â”‚             â””â”€â”€ Session â†’ Anonyme Abfrage                        â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â†’ Trennung von Kontexten (privat/geschÃ¤ftlich/anonym)          â”‚    â”‚
â”‚   â”‚   â†’ Verschiedene Datenschutz-Level pro Persona                   â”‚    â”‚
â”‚   â”‚   â†’ Keine VerknÃ¼pfbarkeit zwischen Personas                      â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.4 Intent-Definition (Identity-First)

```yaml
ecl_version: "2.0"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# INTENT - Suchauftrag mit eigener IdentitÃ¤t
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
intent:
  kind: seeker_intent

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY-TRAIT (Pflicht)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did: "did:erynoa:intent:i-20250128-143000-abc123"
  controller: "did:erynoa:agent:seeker:ev-fleet-agent-001"
  created_at: "2025-01-28T14:30:00Z"
  expires_at: "2025-01-28T15:00:00Z" # Intents sind zeitlich begrenzt
  version: "1.0.0"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # INTENT ORIGIN (wer hat dieses Intent erstellt)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  origin:
    agent: "did:erynoa:agent:seeker:ev-fleet-agent-001"
    on_behalf_of: "did:erynoa:vehicle:vin-WVWZZZ3CZWE123456"
    organization: "did:erynoa:org:fleetco-gmbh"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # OBJECTIVE (was wird gesucht)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  objective:
    type: ev_charging_session
    blueprint: "did:erynoa:blueprint:ev-charging-station:v1.2"
    description: "Charge electric vehicle with renewable energy"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # FUNCTIONAL REQUIREMENTS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  functional:
    power:
      min_kw: 50
      preferred_kw: 150
    energy_source:
      required: [renewable, green_certified]
    connector:
      acceptable: [CCS, Type2]
    availability: immediate

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # NORMATIVE REQUIREMENTS (Identity-based References)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  normative:
    required_blueprints:
      - "did:erynoa:blueprint:ev-charging-station:v1"
      - "did:erynoa:blueprint:ev-charging-station:v2"
    required_standards:
      - "did:erynoa:standard:ocpp:2.0.1"
    preferred_standards:
      - "did:erynoa:standard:iso:15118:2"
    required_credentials:
      - type: "did:erynoa:vc:eichrecht_certification"
        max_age: "P1Y"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # TRUST REQUIREMENTS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  trust:
    min_overall: 0.8
    dimensions:
      reliability: 0.85
      compliance: 0.9
      user_satisfaction: 0.75
    required_attestations:
      - type: dns_verified
      - type: operator_license
        max_age: "P1Y"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # GEOSPATIAL CONSTRAINTS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  geospatial:
    location:
      geohash: "u281z"
      radius_km: 5
    exclude:
      - geohash: "u281zx"
        reason: "known_congestion"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ENVIRONMENT SEARCH (Identity-based References)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  environments:
    primary: "did:erynoa:env:domain:ev-charging-de"
    intersect:
      - "did:erynoa:env:network:hubject-intercharge"
      - "did:erynoa:env:regulatory:eichrecht-de"
    exclude:
      - "did:erynoa:env:custom:blacklisted-operators"
    fallback:
      - "did:erynoa:env:domain:ev-charging-eu"
      - "did:erynoa:env:real_world"
    search:
      strategy: informed
      heuristic: "ev_charging_score"
      max_results: 10
      timeout_ms: 500

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ECONOMIC PARAMETERS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  economic:
    budget:
      max_price_kwh: 0.40
      preferred_price_kwh: 0.35
      max_total: 50.00
      currency: EUR
    payment:
      models: [streaming, prepaid]
      preferred: streaming
    wallet: "did:erynoa:wallet:fleetco-agent-001"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # BEHAVIOR & FALLBACK
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  behavior:
    risk_profile: balanced
    on_no_match: expand_radius
    max_expansion_km: 20
    retry:
      max_attempts: 3
      delay: "PT1M"
```

### 7.4 Policy-Definition (Identity-First)

```yaml
ecl_version: "2.0"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# POLICY - Provider-Regeln mit eigener IdentitÃ¤t
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
policy:
  kind: provider_policy

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IDENTITY-TRAIT (Pflicht)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  did: "did:erynoa:policy:swm-charging-policy-v2"
  controller: "did:erynoa:org:stadtwerke-munich"
  created_at: "2024-09-01T00:00:00Z"
  updated_at: "2025-01-10T10:00:00Z"
  version: "2.0.0"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # POLICY METADATA
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  metadata:
    name: "SWM EV Charging Provider Policy"
    description: "Standard policy for Stadtwerke MÃ¼nchen charging infrastructure"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # POLICY OWNER
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  owner:
    agent: "did:erynoa:agent:provider:swm-charging-agent"
    organization: "did:erynoa:org:stadtwerke-munich"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # APPLIES TO (welche AMOs unterliegen dieser Policy)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  applies_to:
    # Alle Ladestationen der SWM
    selector:
      - type: blueprint_match
        blueprint: "did:erynoa:blueprint:ev-charging-station:v1.2"
      - type: owner_match
        owner: "did:erynoa:org:stadtwerke-munich"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ACCESS CONTROL (wer darf zugreifen)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  access:
    # Mindest-Trust fÃ¼r Zugang
    min_seeker_trust: 0.7

    # Erforderliche Credentials
    required_credentials:
      - type: "did:erynoa:vc:vehicle_registration"
      - type: "did:erynoa:vc:payment_capability"

    # Whitelist (immer erlaubt)
    whitelist:
      - "did:erynoa:org:fleetco-gmbh"
      - "did:erynoa:org:partner-fleet-abc"

    # Blacklist (nie erlaubt)
    blacklist:
      - "did:erynoa:org:sanctioned-company"

    # Roaming-Agreements (via Environment-Membership)
    roaming:
      - "did:erynoa:env:network:hubject-intercharge"
      - "did:erynoa:env:network:plugsurfing"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # PRICING
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  pricing:
    base_price_kwh: 0.35
    currency: EUR

    # Dynamische Preisanpassung
    dynamic:
      enabled: true
      factors:
        - name: peak_hours
          condition: "hour >= 17 && hour <= 20"
          multiplier: 1.2
        - name: renewable_bonus
          condition: "grid.renewable_percentage >= 80"
          multiplier: 0.9
        - name: loyalty_discount
          condition: "seeker.relationship_duration > P6M"
          multiplier: 0.95

    # Roaming-AufschlÃ¤ge
    roaming_surcharge:
      default: 0.05
      per_network:
        - network: "did:erynoa:env:network:hubject-intercharge"
          surcharge: 0.03

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # PAYMENT MODELS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  payment:
    accepted_models: [streaming, prepaid, invoice]
    preferred: streaming

    streaming:
      interval: "PT1M" # Jede Minute
      min_balance: 5.00

    prepaid:
      min_amount: 10.00
      max_amount: 100.00

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # QUALITY OF SERVICE
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  qos:
    guaranteed_uptime: 0.95
    max_response_time_ms: 5000

    # SLA-Verletzungen
    sla_violation:
      compensation_method: credit
      compensation_rate: 0.10 # 10% Gutschrift
```

kind: provider_policy

# Provider-IdentitÃ¤t

provider:
did: "did:erynoa:org:stadtwerke-munich"
assets: - "amo:erynoa:station:munich-001" - "amo:erynoa:station:munich-002" - "amo:erynoa:station:munich-003"

# Akzeptanz-Regeln

acceptance: # Akzeptiere wenn...
accept_if:
trust:
min_overall: 0.7
attestations:
any_of: - dns_verified - fleet_operator_license
payment:
models: [streaming, prepaid]

    # Lehne ab wenn...
    reject_if:
      trust:
        below: 0.5
      jurisdictions:
        in: [sanctioned_country]
      time:
        outside:
          - start: "23:00"
            end: "06:00"
            timezone: "Europe/Berlin"

# Preisgestaltung

pricing:
base:
price_kwh: 0.32
currency: EUR
dynamic:
enabled: true
surge_multiplier_max: 1.5
time_based: - period: "weekday_peak" # Mo-Fr 17:00-20:00
multiplier: 1.3 - period: "weekend"
multiplier: 0.9
discounts: - condition: "seeker.trust_overall >= 0.9"
discount_percent: 5 - condition: "seeker.has_credential('premium_fleet')"
discount_percent: 10

# KapazitÃ¤tsmanagement

capacity:
max_concurrent_sessions: 2
reservation:
enabled: true
window: "PT30M"
penalty_percent: 20
queue:
enabled: true
max_length: 5
timeout: "PT15M"

# Trust-Anforderungen an Seeker

trust_requirements:
min_seeker_trust: 0.6
required_dimensions: - name: payment_history
min: 0.7

````

---

## 9. Trust Module (`ecl/trust`)

Das Trust-Modul definiert **Trust-Vektoren, Attestations und Karmic Rules**.

### 8.1 Trust-Konfiguration

```yaml
ecl_version: "1.0"
use: [ecl/core, ecl/trust]

# Trust-Konfiguration fÃ¼r eine Entity
trust_config:
  kind: trust_configuration

  # FÃ¼r welche Entity
  entity: "did:erynoa:org:fleetco-gmbh"
  entity_type: organization

  # Trust-Dimensionen und Gewichte
  dimensions:
    - name: honesty
      weight: 0.25
      decay_rate: 0.02 # pro Monat ohne AktivitÃ¤t

    - name: reliability
      weight: 0.30
      decay_rate: 0.01

    - name: competence
      weight: 0.25
      decay_rate: 0.005

    - name: governance
      weight: 0.20
      decay_rate: 0.01

  # Initiale Werte (fÃ¼r neue Entities)
  initial_values:
    honesty: 0.5
    reliability: 0.5
    competence: 0.5
    governance: 0.5
    overall: 0.5

  # Ripple-Effect-Konfiguration
  ripple:
    enabled: true
    propagation_factor: 0.3
    max_depth: 3
    dampening: 0.5
```

### 8.2 Attestation-Definition

```yaml
# Attestation-Definition
attestation:
  kind: attestation

  id: "att:erynoa:tx-feedback:2026-001"
  type: transaction_feedback

  # Wer attestiert
  attester: "did:erynoa:vehicle:vin-123"

  # Ãœber wen
  subject: "did:erynoa:org:stadtwerke-munich"

  # Attestation-Inhalt
  claims:
    transaction_id: "tx:noa:2026-01-28:abc123"
    dimension: reliability
    value: 0.95
    context:
      service_type: "ev-charging"
      session_quality: excellent

  # Karmische Auswirkung
  impact:
    dimensions:
      reliability: +0.02
    ripple:
      to_assets: true # Propagiere zu AMOs des Subjects
      factor: 0.3
```

### 8.3 Environment-Trust

```yaml
# Environment Trust Vector
environment_trust:
  kind: env_trust_vector

  environment: "env:erynoa:ev-charging:germany"

  # Trust-Dimensionen fÃ¼r Environments
  dimensions:
    reliability: 0.94 # Query-Erfolgsrate
    quality: 0.89 # Aggregierte Member-QualitÃ¤t
    freshness: 0.92 # DatenaktualitÃ¤t
    coverage: 0.87 # DomÃ¤nenabdeckung
    governance: 0.91 # Constraint-Durchsetzung
    stability: 0.93 # LangzeitstabilitÃ¤t

  # Berechnete Werte
  computed:
    overall: 0.91
    member_count: 1247
    last_updated: "2026-01-28T14:00:00Z"
```

---

## 10. Economic Module (`ecl/economic`)

Das Economic-Modul definiert **Preismodelle, Wallets und Payment-Flows**.

### 9.1 Preismodell-Definition

```yaml
ecl_version: "1.0"
use: [ecl/core, ecl/economic]

# Preismodell
pricing_model:
  kind: pricing_model

  id: "pricing:erynoa:ev-dynamic:v1"
  name: "Dynamic EV Charging Pricing"

  # Basispreis
  base:
    unit: kWh
    price: 0.32
    currency: EUR

  # Zeitbasierte Modifikatoren
  time_modifiers:
    - name: peak_hours
      schedule:
        days: [monday, tuesday, wednesday, thursday, friday]
        hours: { start: 17, end: 20 }
        timezone: "Europe/Berlin"
      multiplier: 1.3

    - name: night_discount
      schedule:
        hours: { start: 23, end: 6 }
      multiplier: 0.7

    - name: weekend
      schedule:
        days: [saturday, sunday]
      multiplier: 0.85

  # Demand-basierte Modifikatoren
  demand_modifiers:
    - name: surge_pricing
      condition: "current_demand / capacity > 0.8"
      multiplier_formula: "1.0 + (demand_ratio - 0.8) * 2.5"
      max_multiplier: 1.5

  # Trust-basierte Rabatte
  trust_discounts:
    - condition: "seeker.trust_overall >= 0.95"
      discount_percent: 10
      name: "premium_customer"

    - condition: "seeker.trust_overall >= 0.85"
      discount_percent: 5
      name: "trusted_customer"
```

### 9.2 Wallet-Konfiguration

```yaml
# Multi-Chain Wallet Konfiguration
wallet_config:
  kind: wallet_configuration

  owner: "did:erynoa:vehicle:vin-123"

  # Chain-Konfigurationen
  chains:
    - chain: iota
      address: "iota1qp..."
      priority: 1
      roles: [primary, settlement]

    - chain: ethereum_l2
      address: "0x7a..."
      priority: 2
      roles: [backup, interop]

    - chain: solana
      address: "Ery..."
      priority: 3
      roles: [fast_settlement]

  # Network Selection Engine
  selection:
    strategy: auto # auto | manual | lowest_fee | fastest

    rules:
      - name: "prefer_counterparty"
        condition: "counterparty.supported_chains contains this.chain"
        priority: 100

      - name: "fee_threshold"
        condition: "estimated_fee_eur <= 0.10"
        priority: 80

      - name: "latency_requirement"
        condition: "estimated_latency_ms <= 5000"
        priority: 60

    fallback_order: [iota, ethereum_l2, solana]

  # Bridge-Einstellungen
  bridge:
    enabled: true
    auto_bridge_threshold_eur: 10.0
    max_bridge_fee_eur: 0.50
    allowed_routes:
      - from: ethereum_l2
        to: iota
        max_slippage_percent: 1.0
```

---

## 11. Network Module (`ecl/network`)

Das Network-Modul definiert **Chain-Konfigurationen und Bridge-Routes**.

```yaml
ecl_version: "1.0"
use: [ecl/core, ecl/network]

# Netzwerk-Konfiguration
network_config:
  kind: network_configuration

  # UnterstÃ¼tzte Chains
  chains:
    - id: iota
      name: "IOTA Rebased"
      type: primary
      consensus: starfish_bft
      finality_ms: 1500
      native_token: IOTA
      features:
        - movevm
        - dacs_anchoring
        - full_did_storage

    - id: ethereum_l2
      name: "Ethereum Layer 2"
      type: secondary
      consensus: optimistic_rollup
      finality_ms: 2000
      native_token: ETH
      features:
        - evm
        - hash_anchoring

    - id: solana
      name: "Solana"
      type: secondary
      consensus: tower_bft
      finality_ms: 400
      native_token: SOL
      features:
        - sealevel
        - hash_anchoring

  # Bridge-Definitionen
  bridges:
    - id: "bridge:iota-eth"
      from: iota
      to: ethereum_l2
      type: dacs_coordinated
      min_confirmations: 10
      fee_structure:
        base_fee: 0.001 # ETH
        percent_fee: 0.1

    - id: "bridge:eth-sol"
      from: ethereum_l2
      to: solana
      type: wormhole
      min_confirmations: 15
```

---

## 12. Governance Module (`ecl/governance`)

Das Governance-Modul definiert **Protokoll-Upgrades und DAO-Regeln**.

```yaml
ecl_version: "1.0"
use: [ecl/core, ecl/governance, ecl/identity]

# Governance-Konfiguration
governance:
  kind: governance_rules

  # Voting-Mechanismen
  voting:
    # Standard-Proposals
    standard_proposal:
      quorum_percent: 30
      approval_threshold_percent: 51
      voting_period: "P7D"

    # Protokoll-Upgrades
    protocol_upgrade:
      quorum_percent: 50
      approval_threshold_percent: 67
      voting_period: "P14D"
      timelock_after_approval: "P3D"

    # Emergency Actions
    emergency:
      required_signers: 5
      of_total: 7
      max_execution_delay: "PT1H"

  # Voting-Power
  voting_power:
    calculation: |
      base_power = staked_ery_tokens
      trust_bonus = trust_overall * 0.2 * base_power
      total = base_power + trust_bonus
    max_power_percent: 10 # Keine Entity > 10% Voting Power

  # Upgrade-Pfade
  upgrades:
    ecl_version:
      requires: protocol_upgrade
      migration_period: "P30D"

    blueprint_schema:
      requires: standard_proposal
      backward_compatible: true
```

---

## 13. Test Module (`ecl/test`)

Das Test-Modul ermÃ¶glicht **Spezifikation von Tests und Mocks**.

```yaml
ecl_version: "1.0"
use: [ecl/core, ecl/test, ecl/agent]

# Test-Spezifikation
test_suite:
  kind: test_suite

  name: "EV Charging Intent Tests"

  # Mock-Daten
  mocks:
    - kind: mock_amo
      id: "amo:test:station-001"
      blueprint: "bp:erynoa:ev-charging-station:v1.2"
      static:
        max_power_kw: 150
        energy_source: renewable
      fluid:
        current_price_kwh: 0.35
        availability_status: available

    - kind: mock_environment
      id: "env:test:charging"
      members:
        - "amo:test:station-001"

  # Test-FÃ¤lle
  tests:
    - name: "should_find_available_charger"
      intent:
        $ref: "fixtures/basic_charging_intent.ecl"
      environment: "env:test:charging"
      expect:
        status: success
        results:
          min_count: 1
          contains:
            - "amo:test:station-001"

    - name: "should_respect_trust_threshold"
      intent:
        $ref: "fixtures/high_trust_intent.ecl"
      mocks:
        - id: "amo:test:station-001"
          override:
            trust:
              overall: 0.5 # Unter Schwelle
      expect:
        status: success
        results:
          count: 0
```

---

## 14. ECL Tooling & Workflow

### 13.1 Compiler Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                         ECL COMPILATION PIPELINE                           â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ğŸ“„ .ecl Files                                                     â”‚  â”‚
â”‚   â”‚        â”‚                                                            â”‚  â”‚
â”‚   â”‚        â–¼                                                            â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚  â”‚
â”‚   â”‚   â”‚    PARSER     â”‚  â†’ Syntax-PrÃ¼fung, AST-Generierung             â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚  â”‚
â”‚   â”‚           â”‚                                                         â”‚  â”‚
â”‚   â”‚           â–¼                                                         â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚  â”‚
â”‚   â”‚   â”‚   RESOLVER    â”‚  â†’ Import-AuflÃ¶sung, Referenz-Validierung      â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚  â”‚
â”‚   â”‚           â”‚                                                         â”‚  â”‚
â”‚   â”‚           â–¼                                                         â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚  â”‚
â”‚   â”‚   â”‚  TYPE CHECKER â”‚  â†’ Typsicherheit, Constraint-Validierung       â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚  â”‚
â”‚   â”‚           â”‚                                                         â”‚  â”‚
â”‚   â”‚           â–¼                                                         â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚  â”‚
â”‚   â”‚   â”‚   OPTIMIZER   â”‚  â†’ Dead Code Elimination, Inlining             â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚  â”‚
â”‚   â”‚           â”‚                                                         â”‚  â”‚
â”‚   â”‚           â–¼                                                         â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚   â”‚   â”‚     WASM      â”‚  â”‚     JSON      â”‚  â”‚   On-Chain    â”‚          â”‚  â”‚
â”‚   â”‚   â”‚   (Agents)    â”‚  â”‚  (API/Config) â”‚  â”‚    (Move)     â”‚          â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 13.2 CLI Commands

```bash
# ECL Compiler CLI
ecl compile intent.ecl              # Kompiliere zu Zielformat
ecl validate *.ecl                  # Validiere alle ECL-Dateien
ecl lint src/                       # Linting
ecl fmt --write src/                # Formatierung
ecl test tests/                     # Test-Suite ausfÃ¼hren
ecl docs --output docs/             # Dokumentation generieren

# Modul-Management
ecl module list                     # Zeige verfÃ¼gbare Module
ecl module add ecl/custom           # Custom-Modul hinzufÃ¼gen
ecl module publish my-domain        # Eigenes Modul publizieren

# Development
ecl repl                            # Interaktive Shell
ecl watch src/                      # Watch-Mode mit Auto-Compile
ecl simulate intent.ecl             # Simulation ohne Netzwerk
```

### 13.3 VS Code Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                      ECL VS CODE EXTENSION                                 â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   âœ… Syntax Highlighting      fÃ¼r alle ECL-Konstrukte              â”‚  â”‚
â”‚   â”‚   âœ… IntelliSense             Autocomplete fÃ¼r Typen & Referenzen  â”‚  â”‚
â”‚   â”‚   âœ… Go to Definition         Navigation zu Blueprints, DIDs       â”‚  â”‚
â”‚   â”‚   âœ… Hover Information        Inline-Dokumentation                 â”‚  â”‚
â”‚   â”‚   âœ… Error Diagnostics        Echtzeit-Validierung                 â”‚  â”‚
â”‚   â”‚   âœ… Code Actions             Quick-Fixes, Refactoring             â”‚  â”‚
â”‚   â”‚   âœ… Snippets                 Vorlagen fÃ¼r Intents, Policies       â”‚  â”‚
â”‚   â”‚   âœ… Outline View             StrukturÃ¼bersicht                    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 15. Migration von ADL zu ECL

Bestehende ADL-Dokumente kÃ¶nnen automatisch migriert werden:

```bash
# Migration Tool
ecl migrate --from adl --to ecl src/intents/
```

### Mapping-Tabelle

| ADL Konzept        | ECL Ã„quivalent                  |
| ------------------ | ------------------------------- |
| `adl_version`      | `ecl_version` + `use`           |
| `identity`         | `ecl/identity` Modul            |
| `objective`        | `objective` (unverÃ¤ndet)        |
| `functional`       | `functional` (unverÃ¤ndet)       |
| `normative`        | `normative` (erweitert)         |
| `trust`            | `ecl/trust` Modul               |
| `geospatial`       | `geospatial` (unverÃ¤ndet)       |
| `environments`     | `ecl/environ` Modul (erweitert) |
| `economic`         | `ecl/economic` Modul            |
| `wallet`           | `wallet` in `ecl/economic`      |
| `policy`           | `behavior` (umbenannt)          |
| Provider `policy:` | `ecl/agent` `provider_policy`   |

---

## 16. Zusammenfassung

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                  ERYNOA CONFIGURATION LANGUAGE (ECL) v2.1                  â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ğŸ§¬ ECL/CORE       â†’  Basis-Typen, Constraints, Syntax            â”‚  â”‚
â”‚   â”‚   âš¡ ECL/VM         â†’  ECLVM, Templates, Bytecode, Sandbox         â”‚  â”‚
â”‚   â”‚   ğŸ” ECL/IDENTITY   â†’  DIDs, Credentials, Sub-Identities, DACS     â”‚  â”‚
â”‚   â”‚   ğŸ“¦ ECL/OBJECT     â†’  Blueprints, AMOs, Fluid Extensions          â”‚  â”‚
â”‚   â”‚   ğŸŒ ECL/ENVIRON    â†’  Environments, Governance, Hierarchien       â”‚  â”‚
â”‚   â”‚   ğŸ¤– ECL/AGENT      â†’  Intents (Seeker), Policies (Provider)       â”‚  â”‚
â”‚   â”‚   âš–ï¸ ECL/TRUST      â†’  Trust-Vektoren, Attestations, Karmic        â”‚  â”‚
â”‚   â”‚   ğŸ’° ECL/ECONOMIC   â†’  Preismodelle, Wallets, Payment              â”‚  â”‚
â”‚   â”‚   ğŸ”— ECL/NETWORK    â†’  Multi-Chain, Bridges, Network Selection     â”‚  â”‚
â”‚   â”‚   ğŸ“œ ECL/GOVERNANCE â†’  Voting, DAO-Rules, Upgrades                 â”‚  â”‚
â”‚   â”‚   ğŸ§ª ECL/TEST       â†’  Test-Specs, Mocks, Simulation               â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   ECL v2.1 Key Features:                                                    â”‚
â”‚   â€¢ Identity-First: Jede EntitÃ¤t besitzt eine DID                          â”‚
â”‚   â€¢ ECLVM: Agenten kÃ¶nnen dynamisch programmieren                          â”‚
â”‚   â€¢ Templates: Schablonen fÃ¼r Entities zur Laufzeit instanziieren          â”‚
â”‚   â€¢ Hot-Reload: Code-Updates ohne Neustart                                 â”‚
â”‚   â€¢ Sandbox: Sichere, ressourcenlimitierte AusfÃ¼hrung                      â”‚
â”‚   â€¢ Governance: Legislative/Executive fÃ¼r jede Umgebung                    â”‚
â”‚                                                                             â”‚
â”‚   Compilation Targets:                                                       â”‚
â”‚   â€¢ ECLVM Bytecode (.eclb) â†’ Agent-AusfÃ¼hrung in Sandbox                   â”‚
â”‚   â€¢ WASM â†’ Portable Agent-Bundles                                          â”‚
â”‚   â€¢ JSON â†’ Konfiguration und Serialisierung                                â”‚
â”‚   â€¢ Move â†’ On-Chain Smart Contracts auf NOA                                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## WeiterfÃ¼hrende Dokumente

| Dokument                                                 | Fokus                       |
| -------------------------------------------------------- | --------------------------- |
| [Agents & ADL](./agents-and-adl.md)                      | Agent-Modul im Detail       |
| [Search Environments](./search-environments.md)          | Environment-Modul im Detail |
| [Liquides Datenmodell](./liquides-datenmodell.md)        | Object-Modul im Detail      |
| [Trust & Reputation](./trust-and-reputation.md)          | Trust-Modul im Detail       |
| [System Architecture](./system-architecture-overview.md) | Integration in Gesamtsystem |
| [Glossar](./glossary.md)                                 | Begriffsdefinitionen        |
````
