# ============================================================================
# Base Configuration - Godstack Backend
# ============================================================================
# Diese Datei enthält die Standard-Konfiguration.
# Überschreibungen:
#   1. config/local.toml oder config/production.toml (je nach APP_ENVIRONMENT)
#   2. Umgebungsvariablen (APP_<SECTION>__<KEY>, z.B. APP_DATABASE__HOST)
#
# Im Docker-Container werden die Service-Namen (db, cache, zitadel, minio)
# über Umgebungsvariablen in docker-compose.yml gesetzt.
# ============================================================================

[application]
host = "0.0.0.0"
port = 3000
environment = "local"
frontend_url = "http://localhost:5173"
api_url = "http://localhost:3000"

[database]
host = "localhost"
port = 5432
username = "godstack"
password = "godstack"
database = "godstack"
max_connections = 20
min_connections = 5
connect_timeout = 10
idle_timeout = 300

[cache]
url = "redis://localhost:6379"
pool_size = 10
default_ttl = 3600

[auth]
issuer = "http://localhost:8080"
# internal_issuer wird im Docker-Container gesetzt (für zitadel:8080)
client_id = "godstack-backend"
frontend_client_id = "godstack-frontend"  # Wird von setup-zitadel.sh aktualisiert
jwks_cache_duration = 3600
audiences = ["godstack-api", "godstack-backend", "godstack-frontend"]

[storage]
endpoint = "http://localhost:9000"
region = "us-east-1"
access_key_id = "godstack"
secret_access_key = "godstack123"
default_bucket = "godstack"
max_upload_size = 104857600  # 100 MB

[features]
# Feature Flags für die Anwendung
registration = true      # Benutzer-Registrierung aktiviert
social_login = false     # Social Login aktiviert
