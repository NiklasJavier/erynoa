# ============================================================================
# Base Configuration - Godstack Backend
# ============================================================================
# Diese Datei enthält die Standard-Konfiguration.
# Überschreibungen:
#   1. config/local.toml oder config/production.toml (je nach APP_ENVIRONMENT)
#   2. Umgebungsvariablen (APP_<SECTION>__<KEY>, z.B. APP_DATABASE__HOST)
#
# Im Docker-Container werden die Service-Namen (db, cache, zitadel, minio)
# über Umgebungsvariablen in docker-compose.yml gesetzt.
# ============================================================================

[application]
host = "0.0.0.0"
port = 3000
environment = "local"
console_url = "http://localhost:3001/console"
platform_url = "http://localhost:3001/platform"
docs_url = "http://localhost:3001/docs"
api_url = "http://localhost:3000"

[database]
host = "localhost"
port = 5432
username = "erynoa"
password = "erynoa"
database = "erynoa"
max_connections = 20
min_connections = 5
connect_timeout = 10
idle_timeout = 300

[cache]
url = "redis://localhost:6379"
pool_size = 10
default_ttl = 3600

[auth]
issuer = "http://localhost:8080"
# internal_issuer wird im Docker-Container gesetzt (für zitadel:8080)
client_id = "erynoa-backend"
console_client_id = "erynoa-console"  # Wird von setup-zitadel.sh aktualisiert
platform_client_id = "erynoa-platform"  # Wird von setup-zitadel.sh aktualisiert
docs_client_id = "erynoa-docs"  # Wird von setup-zitadel.sh aktualisiert
jwks_cache_duration = 3600
audiences = ["erynoa-api", "erynoa-backend", "erynoa-console", "erynoa-platform", "erynoa-docs"]

[storage]
endpoint = "http://localhost:9000"
region = "us-east-1"
access_key_id = "erynoa"
secret_access_key = "erynoa123"
default_bucket = "erynoa"
max_upload_size = 104857600  # 100 MB

[features]
# Feature Flags für die Anwendung
registration = true      # Benutzer-Registrierung aktiviert
social_login = false     # Social Login aktiviert
