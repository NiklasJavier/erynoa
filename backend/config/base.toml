# ============================================================================
# Base Configuration - Erynoa Backend (Dezentrale Architektur)
# ============================================================================
# Diese Datei enthält die Standard-Konfiguration.
# Überschreibungen:
#   1. config/local.toml oder config/production.toml (je nach APP_ENVIRONMENT)
#   2. Umgebungsvariablen (APP_<SECTION>__<KEY>, z.B. APP_APPLICATION__PORT)
#
# Erynoa verwendet ausschließlich dezentrale Komponenten:
# - Storage: Fjall (embedded KV-Store)
# - Identität: DID-basierte Auth (Ed25519)
# - Kein externer Cache, keine externe Datenbank
# ============================================================================

[application]
host = "0.0.0.0"
port = 3000
environment = "local"
console_url = "http://localhost:5173"
platform_url = "http://localhost:5174"
docs_url = "http://localhost:5175"
api_url = "http://localhost:3000/api"

[storage]
# Datenverzeichnis für Fjall embedded KV-Store
data_dir = "./data"
# Max Content-Größe in Bytes (100 MB)
max_content_size = 104857600

[features]
# Feature Flags für die Anwendung
registration = true  # Benutzer-Registrierung aktiviert
social_login = false # Social Login (DID-basiert, später)
p2p_enabled = false  # P2P-Netzwerk aktivieren (erfordert --features p2p)
privacy_enabled = false # Privacy-Layer (Onion-Routing, erfordert --features privacy)

# ============================================================================
# P2P-Netzwerk-Konfiguration (nur relevant wenn p2p_enabled = true)
# ============================================================================
[p2p]
# P2P-Port (0 = random)
port = 4001

# Node-Name für Logging und Identifikation
node_name = "erynoa-node"

# Listen-Adressen (überschreibt port wenn gesetzt)
# listen_addresses = ["/ip4/0.0.0.0/tcp/4001", "/ip6/::/tcp/4001"]

# Bootstrap-Peers für initiale Verbindung (Multiaddrs)
# bootstrap_peers = ["/ip4/51.159.23.74/tcp/4001/p2p/12D3KooW..."]

# mDNS für lokale Peer-Discovery (LAN)
enable_mdns = true

# Als Relay-Server für andere Peers fungieren
enable_relay_server = false

# AutoNAT für NAT-Typ-Erkennung
enable_autonat = true

# UPnP für automatisches Port-Mapping
enable_upnp = true

# Minimum Trust für eingehende Verbindungen (0.0 - 1.0)
min_incoming_trust = 0.1
