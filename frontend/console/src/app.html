<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<script>
			// Global error handler for debugging
			window.onerror = function(msg, url, line, col, error) {
				console.error('Global error:', msg, url, line, col, error);
				var errDiv = document.getElementById('global-error');
				if (errDiv) errDiv.innerText = 'Error: ' + msg;
				return false;
			};
			window.onunhandledrejection = function(event) {
				console.error('Unhandled promise rejection:', event.reason);
				var errDiv = document.getElementById('global-error');
				if (errDiv) errDiv.innerText = 'Promise Error: ' + event.reason;
			};
		</script>
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div id="global-error" style="position: fixed; top: 0; left: 0; right: 0; background: red; color: white; padding: 8px; display: none; z-index: 9999;"></div>
		<div style="display: contents">%sveltekit.body%</div>
		<script>
			// Show error div if there's content
			var errDiv = document.getElementById('global-error');
			if (errDiv) {
				new MutationObserver(function() {
					errDiv.style.display = errDiv.innerText ? 'block' : 'none';
				}).observe(errDiv, { childList: true, characterData: true, subtree: true });
			}
		</script>
	</body>
</html>
