name: erynoa-dev

services:
  dev:
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - ..:/workspace:cached
      - nix-store:/nix
      - apt-cache:/var/cache/apt
      - apt-lib:/var/lib/apt
      # SSH-Agent vom Host durchleiten (f√ºr git push)
      - ${SSH_AUTH_SOCK:-/dev/null}:/ssh-agent:ro
    environment:
      - SSH_AUTH_SOCK=/ssh-agent
    command: sleep infinity

volumes:
  nix-store:
  apt-cache:
  apt-lib:
